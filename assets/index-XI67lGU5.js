var cm=e=>{throw TypeError(e)};var Ou=(e,t,r)=>t.has(e)||cm("Cannot "+r);var S=(e,t,r)=>(Ou(e,t,"read from private field"),r?r.call(e):t.get(e)),X=(e,t,r)=>t.has(e)?cm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),U=(e,t,r,n)=>(Ou(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ie=(e,t,r)=>(Ou(e,t,"access private method"),r);var Ja=(e,t,r,n)=>({set _(s){U(e,t,s,r)},get _(){return S(e,t,n)}});function ty(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function ry(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function z_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var ny={exports:{}},Bc={},sy={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aa=Symbol.for("react.element"),D_=Symbol.for("react.portal"),L_=Symbol.for("react.fragment"),M_=Symbol.for("react.strict_mode"),$_=Symbol.for("react.profiler"),F_=Symbol.for("react.provider"),U_=Symbol.for("react.context"),B_=Symbol.for("react.forward_ref"),W_=Symbol.for("react.suspense"),q_=Symbol.for("react.memo"),V_=Symbol.for("react.lazy"),um=Symbol.iterator;function H_(e){return e===null||typeof e!="object"?null:(e=um&&e[um]||e["@@iterator"],typeof e=="function"?e:null)}var iy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oy=Object.assign,ay={};function lo(e,t,r){this.props=e,this.context=t,this.refs=ay,this.updater=r||iy}lo.prototype.isReactComponent={};lo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ly(){}ly.prototype=lo.prototype;function Sf(e,t,r){this.props=e,this.context=t,this.refs=ay,this.updater=r||iy}var kf=Sf.prototype=new ly;kf.constructor=Sf;oy(kf,lo.prototype);kf.isPureReactComponent=!0;var dm=Array.isArray,cy=Object.prototype.hasOwnProperty,Nf={current:null},uy={key:!0,ref:!0,__self:!0,__source:!0};function dy(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)cy.call(t,n)&&!uy.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Aa,type:e,key:i,ref:o,props:s,_owner:Nf.current}}function K_(e,t){return{$$typeof:Aa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ef(e){return typeof e=="object"&&e!==null&&e.$$typeof===Aa}function G_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var hm=/\/+/g;function Au(e,t){return typeof e=="object"&&e!==null&&e.key!=null?G_(""+e.key):t.toString(36)}function Al(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Aa:case D_:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Au(o,0):n,dm(s)?(r="",e!=null&&(r=e.replace(hm,"$&/")+"/"),Al(s,t,r,"",function(u){return u})):s!=null&&(Ef(s)&&(s=K_(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hm,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",dm(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Au(i,l);o+=Al(i,t,r,c,s)}else if(c=H_(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Au(i,l++),o+=Al(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Za(e,t,r){if(e==null)return e;var n=[],s=0;return Al(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Q_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},Il={transition:null},Y_={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Il,ReactCurrentOwner:Nf};function hy(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Za,forEach:function(e,t,r){Za(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Za(e,function(){t++}),t},toArray:function(e){return Za(e,function(t){return t})||[]},only:function(e){if(!Ef(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=lo;oe.Fragment=L_;oe.Profiler=$_;oe.PureComponent=Sf;oe.StrictMode=M_;oe.Suspense=W_;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y_;oe.act=hy;oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=oy({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Nf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)cy.call(t,c)&&!uy.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Aa,type:e.type,key:s,ref:i,props:n,_owner:o}};oe.createContext=function(e){return e={$$typeof:U_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:F_,_context:e},e.Consumer=e};oe.createElement=dy;oe.createFactory=function(e){var t=dy.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:B_,render:e}};oe.isValidElement=Ef;oe.lazy=function(e){return{$$typeof:V_,_payload:{_status:-1,_result:e},_init:Q_}};oe.memo=function(e,t){return{$$typeof:q_,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=Il.transition;Il.transition={};try{e()}finally{Il.transition=t}};oe.unstable_act=hy;oe.useCallback=function(e,t){return vt.current.useCallback(e,t)};oe.useContext=function(e){return vt.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};oe.useEffect=function(e,t){return vt.current.useEffect(e,t)};oe.useId=function(){return vt.current.useId()};oe.useImperativeHandle=function(e,t,r){return vt.current.useImperativeHandle(e,t,r)};oe.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return vt.current.useMemo(e,t)};oe.useReducer=function(e,t,r){return vt.current.useReducer(e,t,r)};oe.useRef=function(e){return vt.current.useRef(e)};oe.useState=function(e){return vt.current.useState(e)};oe.useSyncExternalStore=function(e,t,r){return vt.current.useSyncExternalStore(e,t,r)};oe.useTransition=function(){return vt.current.useTransition()};oe.version="18.3.1";sy.exports=oe;var v=sy.exports;const D=ry(v),Cf=ty({__proto__:null,default:D},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_=v,Z_=Symbol.for("react.element"),X_=Symbol.for("react.fragment"),ej=Object.prototype.hasOwnProperty,tj=J_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rj={key:!0,ref:!0,__self:!0,__source:!0};function fy(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)ej.call(t,n)&&!rj.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Z_,type:e,key:i,ref:o,props:s,_owner:tj.current}}Bc.Fragment=X_;Bc.jsx=fy;Bc.jsxs=fy;ny.exports=Bc;var a=ny.exports,py={exports:{}},Vt={},my={exports:{}},gy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,T){var M=P.length;P.push(T);e:for(;0<M;){var Y=M-1>>>1,O=P[Y];if(0<s(O,T))P[Y]=T,P[M]=O,M=Y;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var T=P[0],M=P.pop();if(M!==T){P[0]=M;e:for(var Y=0,O=P.length,V=O>>>1;Y<V;){var re=2*(Y+1)-1,he=P[re],Se=re+1,J=P[Se];if(0>s(he,M))Se<O&&0>s(J,he)?(P[Y]=J,P[Se]=M,Y=Se):(P[Y]=he,P[re]=M,Y=re);else if(Se<O&&0>s(J,M))P[Y]=J,P[Se]=M,Y=Se;else break e}}return T}function s(P,T){var M=P.sortIndex-T.sortIndex;return M!==0?M:P.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,b=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var T=r(u);T!==null;){if(T.callback===null)n(u);else if(T.startTime<=P)n(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=r(u)}}function _(P){if(g=!1,w(P),!b)if(r(c)!==null)b=!0,W(j);else{var T=r(u);T!==null&&q(_,T.startTime-P)}}function j(P,T){b=!1,g&&(g=!1,x(k),k=-1),f=!0;var M=p;try{for(w(T),h=r(c);h!==null&&(!(h.expirationTime>T)||P&&!F());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,p=h.priorityLevel;var O=Y(h.expirationTime<=T);T=e.unstable_now(),typeof O=="function"?h.callback=O:h===r(c)&&n(c),w(T)}else n(c);h=r(c)}if(h!==null)var V=!0;else{var re=r(u);re!==null&&q(_,re.startTime-T),V=!1}return V}finally{h=null,p=M,f=!1}}var N=!1,E=null,k=-1,R=5,C=-1;function F(){return!(e.unstable_now()-C<R)}function I(){if(E!==null){var P=e.unstable_now();C=P;var T=!0;try{T=E(!0,P)}finally{T?L():(N=!1,E=null)}}else N=!1}var L;if(typeof y=="function")L=function(){y(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,$=z.port2;z.port1.onmessage=I,L=function(){$.postMessage(null)}}else L=function(){m(I,0)};function W(P){E=P,N||(N=!0,L())}function q(P,T){k=m(function(){P(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){b||f||(b=!0,W(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var T=3;break;default:T=p}var M=p;p=T;try{return P()}finally{p=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,T){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var M=p;p=P;try{return T()}finally{p=M}},e.unstable_scheduleCallback=function(P,T,M){var Y=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Y+M:Y):M=Y,P){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=M+O,P={id:d++,callback:T,priorityLevel:P,startTime:M,expirationTime:O,sortIndex:-1},M>Y?(P.sortIndex=M,t(u,P),r(c)===null&&P===r(u)&&(g?(x(k),k=-1):g=!0,q(_,M-Y))):(P.sortIndex=O,t(c,P),b||f||(b=!0,W(j))),P},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(P){var T=p;return function(){var M=p;p=T;try{return P.apply(this,arguments)}finally{p=M}}}})(gy);my.exports=gy;var nj=my.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sj=v,qt=nj;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vy=new Set,Xo={};function Zs(e,t){Yi(e,t),Yi(e+"Capture",t)}function Yi(e,t){for(Xo[e]=t,e=0;e<t.length;e++)vy.add(t[e])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Id=Object.prototype.hasOwnProperty,ij=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fm={},pm={};function oj(e){return Id.call(pm,e)?!0:Id.call(fm,e)?!1:ij.test(e)?pm[e]=!0:(fm[e]=!0,!1)}function aj(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lj(e,t,r,n){if(t===null||typeof t>"u"||aj(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Je[e]=new yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Je[t]=new yt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Je[e]=new yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Je[e]=new yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Je[e]=new yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Je[e]=new yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Je[e]=new yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Je[e]=new yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Je[e]=new yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tf=/[\-:]([a-z])/g;function Pf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tf,Pf);Je[t]=new yt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tf,Pf);Je[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tf,Pf);Je[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Je[e]=new yt(e,1,!1,e.toLowerCase(),null,!1,!1)});Je.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Je[e]=new yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rf(e,t,r,n){var s=Je.hasOwnProperty(t)?Je[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lj(t,r,s,n)&&(r=null),n||s===null?oj(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var hn=sj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xa=Symbol.for("react.element"),mi=Symbol.for("react.portal"),gi=Symbol.for("react.fragment"),Of=Symbol.for("react.strict_mode"),zd=Symbol.for("react.profiler"),yy=Symbol.for("react.provider"),xy=Symbol.for("react.context"),Af=Symbol.for("react.forward_ref"),Dd=Symbol.for("react.suspense"),Ld=Symbol.for("react.suspense_list"),If=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),wy=Symbol.for("react.offscreen"),mm=Symbol.iterator;function So(e){return e===null||typeof e!="object"?null:(e=mm&&e[mm]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Object.assign,Iu;function Io(e){if(Iu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Iu=t&&t[1]||""}return`
`+Iu+e}var zu=!1;function Du(e,t){if(!e||zu)return"";zu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{zu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Io(e):""}function cj(e){switch(e.tag){case 5:return Io(e.type);case 16:return Io("Lazy");case 13:return Io("Suspense");case 19:return Io("SuspenseList");case 0:case 2:case 15:return e=Du(e.type,!1),e;case 11:return e=Du(e.type.render,!1),e;case 1:return e=Du(e.type,!0),e;default:return""}}function Md(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gi:return"Fragment";case mi:return"Portal";case zd:return"Profiler";case Of:return"StrictMode";case Dd:return"Suspense";case Ld:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xy:return(e.displayName||"Context")+".Consumer";case yy:return(e._context.displayName||"Context")+".Provider";case Af:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case If:return t=e.displayName||null,t!==null?t:Md(e.type)||"Memo";case Nn:t=e._payload,e=e._init;try{return Md(e(t))}catch{}}return null}function uj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Md(t);case 8:return t===Of?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ns(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function by(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dj(e){var t=by(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function el(e){e._valueTracker||(e._valueTracker=dj(e))}function _y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=by(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $d(e,t){var r=t.checked;return Ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ns(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jy(e,t){t=t.checked,t!=null&&Rf(e,"checked",t,!1)}function Fd(e,t){jy(e,t);var r=ns(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ud(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ud(e,t.type,ns(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ud(e,t,r){(t!=="number"||Xl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zo=Array.isArray;function Ei(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ns(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Bd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return Ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ym(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(zo(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ns(r)}}function Sy(e,t){var r=ns(t.value),n=ns(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ky(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ky(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tl,Ny=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tl=tl||document.createElement("div"),tl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ea(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hj=["Webkit","ms","Moz","O"];Object.keys(Fo).forEach(function(e){hj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fo[t]=Fo[e]})});function Ey(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Fo.hasOwnProperty(e)&&Fo[e]?(""+t).trim():t+"px"}function Cy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ey(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var fj=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qd(e,t){if(t){if(fj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Vd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=null;function zf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kd=null,Ci=null,Ti=null;function wm(e){if(e=Da(e)){if(typeof Kd!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Kc(t),Kd(e.stateNode,e.type,t))}}function Ty(e){Ci?Ti?Ti.push(e):Ti=[e]:Ci=e}function Py(){if(Ci){var e=Ci,t=Ti;if(Ti=Ci=null,wm(e),t)for(e=0;e<t.length;e++)wm(t[e])}}function Ry(e,t){return e(t)}function Oy(){}var Lu=!1;function Ay(e,t,r){if(Lu)return e(t,r);Lu=!0;try{return Ry(e,t,r)}finally{Lu=!1,(Ci!==null||Ti!==null)&&(Oy(),Py())}}function ta(e,t){var r=e.stateNode;if(r===null)return null;var n=Kc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var Gd=!1;if(on)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){Gd=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{Gd=!1}function pj(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Uo=!1,ec=null,tc=!1,Qd=null,mj={onError:function(e){Uo=!0,ec=e}};function gj(e,t,r,n,s,i,o,l,c){Uo=!1,ec=null,pj.apply(mj,arguments)}function vj(e,t,r,n,s,i,o,l,c){if(gj.apply(this,arguments),Uo){if(Uo){var u=ec;Uo=!1,ec=null}else throw Error(A(198));tc||(tc=!0,Qd=u)}}function Xs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Iy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bm(e){if(Xs(e)!==e)throw Error(A(188))}function yj(e){var t=e.alternate;if(!t){if(t=Xs(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return bm(s),e;if(i===n)return bm(s),t;i=i.sibling}throw Error(A(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(A(189))}}if(r.alternate!==n)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function zy(e){return e=yj(e),e!==null?Dy(e):null}function Dy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dy(e);if(t!==null)return t;e=e.sibling}return null}var Ly=qt.unstable_scheduleCallback,_m=qt.unstable_cancelCallback,xj=qt.unstable_shouldYield,wj=qt.unstable_requestPaint,Le=qt.unstable_now,bj=qt.unstable_getCurrentPriorityLevel,Df=qt.unstable_ImmediatePriority,My=qt.unstable_UserBlockingPriority,rc=qt.unstable_NormalPriority,_j=qt.unstable_LowPriority,$y=qt.unstable_IdlePriority,Wc=null,Fr=null;function jj(e){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(Wc,e,void 0,(e.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:Nj,Sj=Math.log,kj=Math.LN2;function Nj(e){return e>>>=0,e===0?32:31-(Sj(e)/kj|0)|0}var rl=64,nl=4194304;function Do(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Do(l):(i&=o,i!==0&&(n=Do(i)))}else o=r&~s,o!==0?n=Do(o):i!==0&&(n=Do(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_r(t),s=1<<r,n|=e[r],t&=~s;return n}function Ej(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cj(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-_r(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Ej(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Yd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fy(){var e=rl;return rl<<=1,!(rl&4194240)&&(rl=64),e}function Mu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ia(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_r(t),e[t]=r}function Tj(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-_r(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Lf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_r(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ge=0;function Uy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var By,Mf,Wy,qy,Vy,Jd=!1,sl=[],qn=null,Vn=null,Hn=null,ra=new Map,na=new Map,Cn=[],Pj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jm(e,t){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":ra.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(t.pointerId)}}function No(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Da(t),t!==null&&Mf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Rj(e,t,r,n,s){switch(t){case"focusin":return qn=No(qn,e,t,r,n,s),!0;case"dragenter":return Vn=No(Vn,e,t,r,n,s),!0;case"mouseover":return Hn=No(Hn,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ra.set(i,No(ra.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,na.set(i,No(na.get(i)||null,e,t,r,n,s)),!0}return!1}function Hy(e){var t=Es(e.target);if(t!==null){var r=Xs(t);if(r!==null){if(t=r.tag,t===13){if(t=Iy(r),t!==null){e.blockedOn=t,Vy(e.priority,function(){Wy(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Hd=n,r.target.dispatchEvent(n),Hd=null}else return t=Da(r),t!==null&&Mf(t),e.blockedOn=r,!1;t.shift()}return!0}function Sm(e,t,r){zl(e)&&r.delete(t)}function Oj(){Jd=!1,qn!==null&&zl(qn)&&(qn=null),Vn!==null&&zl(Vn)&&(Vn=null),Hn!==null&&zl(Hn)&&(Hn=null),ra.forEach(Sm),na.forEach(Sm)}function Eo(e,t){e.blockedOn===t&&(e.blockedOn=null,Jd||(Jd=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,Oj)))}function sa(e){function t(s){return Eo(s,e)}if(0<sl.length){Eo(sl[0],e);for(var r=1;r<sl.length;r++){var n=sl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(qn!==null&&Eo(qn,e),Vn!==null&&Eo(Vn,e),Hn!==null&&Eo(Hn,e),ra.forEach(t),na.forEach(t),r=0;r<Cn.length;r++)n=Cn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Cn.length&&(r=Cn[0],r.blockedOn===null);)Hy(r),r.blockedOn===null&&Cn.shift()}var Pi=hn.ReactCurrentBatchConfig,sc=!0;function Aj(e,t,r,n){var s=ge,i=Pi.transition;Pi.transition=null;try{ge=1,$f(e,t,r,n)}finally{ge=s,Pi.transition=i}}function Ij(e,t,r,n){var s=ge,i=Pi.transition;Pi.transition=null;try{ge=4,$f(e,t,r,n)}finally{ge=s,Pi.transition=i}}function $f(e,t,r,n){if(sc){var s=Zd(e,t,r,n);if(s===null)Gu(e,t,n,ic,r),jm(e,n);else if(Rj(s,e,t,r,n))n.stopPropagation();else if(jm(e,n),t&4&&-1<Pj.indexOf(e)){for(;s!==null;){var i=Da(s);if(i!==null&&By(i),i=Zd(e,t,r,n),i===null&&Gu(e,t,n,ic,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Gu(e,t,n,null,r)}}var ic=null;function Zd(e,t,r,n){if(ic=null,e=zf(n),e=Es(e),e!==null)if(t=Xs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Iy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ic=e,null}function Ky(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bj()){case Df:return 1;case My:return 4;case rc:case _j:return 16;case $y:return 536870912;default:return 16}default:return 16}}var Un=null,Ff=null,Dl=null;function Gy(){if(Dl)return Dl;var e,t=Ff,r=t.length,n,s="value"in Un?Un.value:Un.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Dl=s.slice(e,1<n?1-n:void 0)}function Ll(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function il(){return!0}function km(){return!1}function Ht(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?il:km,this.isPropagationStopped=km,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),t}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uf=Ht(co),za=Ie({},co,{view:0,detail:0}),zj=Ht(za),$u,Fu,Co,qc=Ie({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Co&&(Co&&e.type==="mousemove"?($u=e.screenX-Co.screenX,Fu=e.screenY-Co.screenY):Fu=$u=0,Co=e),$u)},movementY:function(e){return"movementY"in e?e.movementY:Fu}}),Nm=Ht(qc),Dj=Ie({},qc,{dataTransfer:0}),Lj=Ht(Dj),Mj=Ie({},za,{relatedTarget:0}),Uu=Ht(Mj),$j=Ie({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),Fj=Ht($j),Uj=Ie({},co,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bj=Ht(Uj),Wj=Ie({},co,{data:0}),Em=Ht(Wj),qj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hj[e])?!!t[e]:!1}function Bf(){return Kj}var Gj=Ie({},za,{key:function(e){if(e.key){var t=qj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bf,charCode:function(e){return e.type==="keypress"?Ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qj=Ht(Gj),Yj=Ie({},qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cm=Ht(Yj),Jj=Ie({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bf}),Zj=Ht(Jj),Xj=Ie({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),eS=Ht(Xj),tS=Ie({},qc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rS=Ht(tS),nS=[9,13,27,32],Wf=on&&"CompositionEvent"in window,Bo=null;on&&"documentMode"in document&&(Bo=document.documentMode);var sS=on&&"TextEvent"in window&&!Bo,Qy=on&&(!Wf||Bo&&8<Bo&&11>=Bo),Tm=" ",Pm=!1;function Yy(e,t){switch(e){case"keyup":return nS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vi=!1;function iS(e,t){switch(e){case"compositionend":return Jy(t);case"keypress":return t.which!==32?null:(Pm=!0,Tm);case"textInput":return e=t.data,e===Tm&&Pm?null:e;default:return null}}function oS(e,t){if(vi)return e==="compositionend"||!Wf&&Yy(e,t)?(e=Gy(),Dl=Ff=Un=null,vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qy&&t.locale!=="ko"?null:t.data;default:return null}}var aS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!aS[e.type]:t==="textarea"}function Zy(e,t,r,n){Ty(n),t=oc(t,"onChange"),0<t.length&&(r=new Uf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wo=null,ia=null;function lS(e){c0(e,0)}function Vc(e){var t=wi(e);if(_y(t))return e}function cS(e,t){if(e==="change")return t}var Xy=!1;if(on){var Bu;if(on){var Wu="oninput"in document;if(!Wu){var Om=document.createElement("div");Om.setAttribute("oninput","return;"),Wu=typeof Om.oninput=="function"}Bu=Wu}else Bu=!1;Xy=Bu&&(!document.documentMode||9<document.documentMode)}function Am(){Wo&&(Wo.detachEvent("onpropertychange",e0),ia=Wo=null)}function e0(e){if(e.propertyName==="value"&&Vc(ia)){var t=[];Zy(t,ia,e,zf(e)),Ay(lS,t)}}function uS(e,t,r){e==="focusin"?(Am(),Wo=t,ia=r,Wo.attachEvent("onpropertychange",e0)):e==="focusout"&&Am()}function dS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vc(ia)}function hS(e,t){if(e==="click")return Vc(t)}function fS(e,t){if(e==="input"||e==="change")return Vc(t)}function pS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sr=typeof Object.is=="function"?Object.is:pS;function oa(e,t){if(Sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Id.call(t,s)||!Sr(e[s],t[s]))return!1}return!0}function Im(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zm(e,t){var r=Im(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Im(r)}}function t0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?t0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function r0(){for(var e=window,t=Xl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xl(e.document)}return t}function qf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mS(e){var t=r0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&t0(r.ownerDocument.documentElement,r)){if(n!==null&&qf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=zm(r,i);var o=zm(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gS=on&&"documentMode"in document&&11>=document.documentMode,yi=null,Xd=null,qo=null,eh=!1;function Dm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;eh||yi==null||yi!==Xl(n)||(n=yi,"selectionStart"in n&&qf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qo&&oa(qo,n)||(qo=n,n=oc(Xd,"onSelect"),0<n.length&&(t=new Uf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yi)))}function ol(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xi={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionend:ol("Transition","TransitionEnd")},qu={},n0={};on&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function Hc(e){if(qu[e])return qu[e];if(!xi[e])return e;var t=xi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in n0)return qu[e]=t[r];return e}var s0=Hc("animationend"),i0=Hc("animationiteration"),o0=Hc("animationstart"),a0=Hc("transitionend"),l0=new Map,Lm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(e,t){l0.set(e,t),Zs(t,[e])}for(var Vu=0;Vu<Lm.length;Vu++){var Hu=Lm[Vu],vS=Hu.toLowerCase(),yS=Hu[0].toUpperCase()+Hu.slice(1);as(vS,"on"+yS)}as(s0,"onAnimationEnd");as(i0,"onAnimationIteration");as(o0,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(a0,"onTransitionEnd");Yi("onMouseEnter",["mouseout","mouseover"]);Yi("onMouseLeave",["mouseout","mouseover"]);Yi("onPointerEnter",["pointerout","pointerover"]);Yi("onPointerLeave",["pointerout","pointerover"]);Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function Mm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,vj(n,t,void 0,e),e.currentTarget=null}function c0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Mm(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Mm(s,l,u),i=c}}}if(tc)throw e=Qd,tc=!1,Qd=null,e}function Ne(e,t){var r=t[ih];r===void 0&&(r=t[ih]=new Set);var n=e+"__bubble";r.has(n)||(u0(t,e,2,!1),r.add(n))}function Ku(e,t,r){var n=0;t&&(n|=4),u0(r,e,n,t)}var al="_reactListening"+Math.random().toString(36).slice(2);function aa(e){if(!e[al]){e[al]=!0,vy.forEach(function(r){r!=="selectionchange"&&(xS.has(r)||Ku(r,!1,e),Ku(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[al]||(t[al]=!0,Ku("selectionchange",!1,t))}}function u0(e,t,r,n){switch(Ky(t)){case 1:var s=Aj;break;case 4:s=Ij;break;default:s=$f}r=s.bind(null,t,r,e),s=void 0,!Gd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Gu(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Es(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Ay(function(){var u=i,d=zf(r),h=[];e:{var p=l0.get(e);if(p!==void 0){var f=Uf,b=e;switch(e){case"keypress":if(Ll(r)===0)break e;case"keydown":case"keyup":f=Qj;break;case"focusin":b="focus",f=Uu;break;case"focusout":b="blur",f=Uu;break;case"beforeblur":case"afterblur":f=Uu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Lj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Zj;break;case s0:case i0:case o0:f=Fj;break;case a0:f=eS;break;case"scroll":f=zj;break;case"wheel":f=rS;break;case"copy":case"cut":case"paste":f=Bj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Cm}var g=(t&4)!==0,m=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=ta(y,x),_!=null&&g.push(la(y,_,w)))),m)break;y=y.return}0<g.length&&(p=new f(p,b,null,r,d),h.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==Hd&&(b=r.relatedTarget||r.fromElement)&&(Es(b)||b[an]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(b=r.relatedTarget||r.toElement,f=u,b=b?Es(b):null,b!==null&&(m=Xs(b),b!==m||b.tag!==5&&b.tag!==6)&&(b=null)):(f=null,b=u),f!==b)){if(g=Nm,_="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Cm,_="onPointerLeave",x="onPointerEnter",y="pointer"),m=f==null?p:wi(f),w=b==null?p:wi(b),p=new g(_,y+"leave",f,r,d),p.target=m,p.relatedTarget=w,_=null,Es(d)===u&&(g=new g(x,y+"enter",b,r,d),g.target=w,g.relatedTarget=m,_=g),m=_,f&&b)t:{for(g=f,x=b,y=0,w=g;w;w=ni(w))y++;for(w=0,_=x;_;_=ni(_))w++;for(;0<y-w;)g=ni(g),y--;for(;0<w-y;)x=ni(x),w--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=ni(g),x=ni(x)}g=null}else g=null;f!==null&&$m(h,p,f,g,!1),b!==null&&m!==null&&$m(h,m,b,g,!0)}}e:{if(p=u?wi(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var j=cS;else if(Rm(p))if(Xy)j=fS;else{j=dS;var N=uS}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=hS);if(j&&(j=j(e,u))){Zy(h,j,r,d);break e}N&&N(e,p,u),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Ud(p,"number",p.value)}switch(N=u?wi(u):window,e){case"focusin":(Rm(N)||N.contentEditable==="true")&&(yi=N,Xd=u,qo=null);break;case"focusout":qo=Xd=yi=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,Dm(h,r,d);break;case"selectionchange":if(gS)break;case"keydown":case"keyup":Dm(h,r,d)}var E;if(Wf)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else vi?Yy(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Qy&&r.locale!=="ko"&&(vi||k!=="onCompositionStart"?k==="onCompositionEnd"&&vi&&(E=Gy()):(Un=d,Ff="value"in Un?Un.value:Un.textContent,vi=!0)),N=oc(u,k),0<N.length&&(k=new Em(k,e,null,r,d),h.push({event:k,listeners:N}),E?k.data=E:(E=Jy(r),E!==null&&(k.data=E)))),(E=sS?iS(e,r):oS(e,r))&&(u=oc(u,"onBeforeInput"),0<u.length&&(d=new Em("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}c0(h,t)})}function la(e,t,r){return{instance:e,listener:t,currentTarget:r}}function oc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ta(e,r),i!=null&&n.unshift(la(e,i,s)),i=ta(e,t),i!=null&&n.push(la(e,i,s))),e=e.return}return n}function ni(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $m(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ta(r,i),c!=null&&o.unshift(la(r,c,l))):s||(c=ta(r,i),c!=null&&o.push(la(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var wS=/\r\n?/g,bS=/\u0000|\uFFFD/g;function Fm(e){return(typeof e=="string"?e:""+e).replace(wS,`
`).replace(bS,"")}function ll(e,t,r){if(t=Fm(t),Fm(e)!==t&&r)throw Error(A(425))}function ac(){}var th=null,rh=null;function nh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sh=typeof setTimeout=="function"?setTimeout:void 0,_S=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(e){return Um.resolve(null).then(e).catch(SS)}:sh;function SS(e){setTimeout(function(){throw e})}function Qu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),sa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);sa(t)}function Kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var uo=Math.random().toString(36).slice(2),Lr="__reactFiber$"+uo,ca="__reactProps$"+uo,an="__reactContainer$"+uo,ih="__reactEvents$"+uo,kS="__reactListeners$"+uo,NS="__reactHandles$"+uo;function Es(e){var t=e[Lr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[an]||r[Lr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Bm(e);e!==null;){if(r=e[Lr])return r;e=Bm(e)}return t}e=r,r=e.parentNode}return null}function Da(e){return e=e[Lr]||e[an],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Kc(e){return e[ca]||null}var oh=[],bi=-1;function ls(e){return{current:e}}function Ee(e){0>bi||(e.current=oh[bi],oh[bi]=null,bi--)}function je(e,t){bi++,oh[bi]=e.current,e.current=t}var ss={},lt=ls(ss),Tt=ls(!1),Bs=ss;function Ji(e,t){var r=e.type.contextTypes;if(!r)return ss;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(e){return e=e.childContextTypes,e!=null}function lc(){Ee(Tt),Ee(lt)}function Wm(e,t,r){if(lt.current!==ss)throw Error(A(168));je(lt,t),je(Tt,r)}function d0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(A(108,uj(e)||"Unknown",s));return Ie({},r,n)}function cc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ss,Bs=lt.current,je(lt,e),je(Tt,Tt.current),!0}function qm(e,t,r){var n=e.stateNode;if(!n)throw Error(A(169));r?(e=d0(e,t,Bs),n.__reactInternalMemoizedMergedChildContext=e,Ee(Tt),Ee(lt),je(lt,e)):Ee(Tt),je(Tt,r)}var Zr=null,Gc=!1,Yu=!1;function h0(e){Zr===null?Zr=[e]:Zr.push(e)}function ES(e){Gc=!0,h0(e)}function cs(){if(!Yu&&Zr!==null){Yu=!0;var e=0,t=ge;try{var r=Zr;for(ge=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Zr=null,Gc=!1}catch(s){throw Zr!==null&&(Zr=Zr.slice(e+1)),Ly(Df,cs),s}finally{ge=t,Yu=!1}}return null}var _i=[],ji=0,uc=null,dc=0,Xt=[],er=0,Ws=null,tn=1,rn="";function ws(e,t){_i[ji++]=dc,_i[ji++]=uc,uc=e,dc=t}function f0(e,t,r){Xt[er++]=tn,Xt[er++]=rn,Xt[er++]=Ws,Ws=e;var n=tn;e=rn;var s=32-_r(n)-1;n&=~(1<<s),r+=1;var i=32-_r(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,tn=1<<32-_r(t)+s|r<<s|n,rn=i+e}else tn=1<<i|r<<s|n,rn=e}function Vf(e){e.return!==null&&(ws(e,1),f0(e,1,0))}function Hf(e){for(;e===uc;)uc=_i[--ji],_i[ji]=null,dc=_i[--ji],_i[ji]=null;for(;e===Ws;)Ws=Xt[--er],Xt[er]=null,rn=Xt[--er],Xt[er]=null,tn=Xt[--er],Xt[er]=null}var Bt=null,Ut=null,Te=!1,br=null;function p0(e,t){var r=rr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Vm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=Kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ws!==null?{id:tn,overflow:rn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Bt=e,Ut=null,!0):!1;default:return!1}}function ah(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lh(e){if(Te){var t=Ut;if(t){var r=t;if(!Vm(e,t)){if(ah(e))throw Error(A(418));t=Kn(r.nextSibling);var n=Bt;t&&Vm(e,t)?p0(n,r):(e.flags=e.flags&-4097|2,Te=!1,Bt=e)}}else{if(ah(e))throw Error(A(418));e.flags=e.flags&-4097|2,Te=!1,Bt=e}}}function Hm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function cl(e){if(e!==Bt)return!1;if(!Te)return Hm(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nh(e.type,e.memoizedProps)),t&&(t=Ut)){if(ah(e))throw m0(),Error(A(418));for(;t;)p0(e,t),t=Kn(t.nextSibling)}if(Hm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ut=Kn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Bt?Kn(e.stateNode.nextSibling):null;return!0}function m0(){for(var e=Ut;e;)e=Kn(e.nextSibling)}function Zi(){Ut=Bt=null,Te=!1}function Kf(e){br===null?br=[e]:br.push(e)}var CS=hn.ReactCurrentBatchConfig;function To(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var n=r.stateNode}if(!n)throw Error(A(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function ul(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Km(e){var t=e._init;return t(e._payload)}function g0(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=Jn(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,_){return y===null||y.tag!==6?(y=nd(w,x.mode,_),y.return=x,y):(y=s(y,w),y.return=x,y)}function c(x,y,w,_){var j=w.type;return j===gi?d(x,y,w.props.children,_,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nn&&Km(j)===y.type)?(_=s(y,w.props),_.ref=To(x,y,w),_.return=x,_):(_=ql(w.type,w.key,w.props,null,x.mode,_),_.ref=To(x,y,w),_.return=x,_)}function u(x,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=sd(w,x.mode,_),y.return=x,y):(y=s(y,w.children||[]),y.return=x,y)}function d(x,y,w,_,j){return y===null||y.tag!==7?(y=Us(w,x.mode,_,j),y.return=x,y):(y=s(y,w),y.return=x,y)}function h(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=nd(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xa:return w=ql(y.type,y.key,y.props,null,x.mode,w),w.ref=To(x,null,y),w.return=x,w;case mi:return y=sd(y,x.mode,w),y.return=x,y;case Nn:var _=y._init;return h(x,_(y._payload),w)}if(zo(y)||So(y))return y=Us(y,x.mode,w,null),y.return=x,y;ul(x,y)}return null}function p(x,y,w,_){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(x,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xa:return w.key===j?c(x,y,w,_):null;case mi:return w.key===j?u(x,y,w,_):null;case Nn:return j=w._init,p(x,y,j(w._payload),_)}if(zo(w)||So(w))return j!==null?null:d(x,y,w,_,null);ul(x,w)}return null}function f(x,y,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,l(y,x,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xa:return x=x.get(_.key===null?w:_.key)||null,c(y,x,_,j);case mi:return x=x.get(_.key===null?w:_.key)||null,u(y,x,_,j);case Nn:var N=_._init;return f(x,y,w,N(_._payload),j)}if(zo(_)||So(_))return x=x.get(w)||null,d(y,x,_,j,null);ul(y,_)}return null}function b(x,y,w,_){for(var j=null,N=null,E=y,k=y=0,R=null;E!==null&&k<w.length;k++){E.index>k?(R=E,E=null):R=E.sibling;var C=p(x,E,w[k],_);if(C===null){E===null&&(E=R);break}e&&E&&C.alternate===null&&t(x,E),y=i(C,y,k),N===null?j=C:N.sibling=C,N=C,E=R}if(k===w.length)return r(x,E),Te&&ws(x,k),j;if(E===null){for(;k<w.length;k++)E=h(x,w[k],_),E!==null&&(y=i(E,y,k),N===null?j=E:N.sibling=E,N=E);return Te&&ws(x,k),j}for(E=n(x,E);k<w.length;k++)R=f(E,x,k,w[k],_),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?k:R.key),y=i(R,y,k),N===null?j=R:N.sibling=R,N=R);return e&&E.forEach(function(F){return t(x,F)}),Te&&ws(x,k),j}function g(x,y,w,_){var j=So(w);if(typeof j!="function")throw Error(A(150));if(w=j.call(w),w==null)throw Error(A(151));for(var N=j=null,E=y,k=y=0,R=null,C=w.next();E!==null&&!C.done;k++,C=w.next()){E.index>k?(R=E,E=null):R=E.sibling;var F=p(x,E,C.value,_);if(F===null){E===null&&(E=R);break}e&&E&&F.alternate===null&&t(x,E),y=i(F,y,k),N===null?j=F:N.sibling=F,N=F,E=R}if(C.done)return r(x,E),Te&&ws(x,k),j;if(E===null){for(;!C.done;k++,C=w.next())C=h(x,C.value,_),C!==null&&(y=i(C,y,k),N===null?j=C:N.sibling=C,N=C);return Te&&ws(x,k),j}for(E=n(x,E);!C.done;k++,C=w.next())C=f(E,x,k,C.value,_),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?k:C.key),y=i(C,y,k),N===null?j=C:N.sibling=C,N=C);return e&&E.forEach(function(I){return t(x,I)}),Te&&ws(x,k),j}function m(x,y,w,_){if(typeof w=="object"&&w!==null&&w.type===gi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xa:e:{for(var j=w.key,N=y;N!==null;){if(N.key===j){if(j=w.type,j===gi){if(N.tag===7){r(x,N.sibling),y=s(N,w.props.children),y.return=x,x=y;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nn&&Km(j)===N.type){r(x,N.sibling),y=s(N,w.props),y.ref=To(x,N,w),y.return=x,x=y;break e}r(x,N);break}else t(x,N);N=N.sibling}w.type===gi?(y=Us(w.props.children,x.mode,_,w.key),y.return=x,x=y):(_=ql(w.type,w.key,w.props,null,x.mode,_),_.ref=To(x,y,w),_.return=x,x=_)}return o(x);case mi:e:{for(N=w.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=s(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=sd(w,x.mode,_),y.return=x,x=y}return o(x);case Nn:return N=w._init,m(x,y,N(w._payload),_)}if(zo(w))return b(x,y,w,_);if(So(w))return g(x,y,w,_);ul(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=s(y,w),y.return=x,x=y):(r(x,y),y=nd(w,x.mode,_),y.return=x,x=y),o(x)):r(x,y)}return m}var Xi=g0(!0),v0=g0(!1),hc=ls(null),fc=null,Si=null,Gf=null;function Qf(){Gf=Si=fc=null}function Yf(e){var t=hc.current;Ee(hc),e._currentValue=t}function ch(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ri(e,t){fc=e,Gf=Si=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Et=!0),e.firstContext=null)}function ir(e){var t=e._currentValue;if(Gf!==e)if(e={context:e,memoizedValue:t,next:null},Si===null){if(fc===null)throw Error(A(308));Si=e,fc.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Cs=null;function Jf(e){Cs===null?Cs=[e]:Cs.push(e)}function y0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Jf(t)):(r.next=s.next,s.next=r),t.interleaved=r,ln(e,n)}function ln(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var En=!1;function Zf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ue&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ln(e,r)}return s=n.interleaved,s===null?(t.next=t,Jf(n)):(t.next=s.next,s.next=t),n.interleaved=t,ln(e,r)}function Ml(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lf(e,r)}}function Gm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pc(e,t,r,n){var s=e.updateQueue;En=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var p=l.lane,f=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,g=l;switch(p=t,f=r,g.tag){case 1:if(b=g.payload,typeof b=="function"){h=b.call(f,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,p=typeof b=="function"?b.call(f,h,p):b,p==null)break e;h=Ie({},h,p);break e;case 2:En=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Vs|=o,e.lanes=o,e.memoizedState=h}}function Qm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(A(191,s));s.call(n)}}}var La={},Ur=ls(La),ua=ls(La),da=ls(La);function Ts(e){if(e===La)throw Error(A(174));return e}function Xf(e,t){switch(je(da,t),je(ua,e),je(Ur,La),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wd(t,e)}Ee(Ur),je(Ur,t)}function eo(){Ee(Ur),Ee(ua),Ee(da)}function w0(e){Ts(da.current);var t=Ts(Ur.current),r=Wd(t,e.type);t!==r&&(je(ua,e),je(Ur,r))}function ep(e){ua.current===e&&(Ee(Ur),Ee(ua))}var Re=ls(0);function mc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ju=[];function tp(){for(var e=0;e<Ju.length;e++)Ju[e]._workInProgressVersionPrimary=null;Ju.length=0}var $l=hn.ReactCurrentDispatcher,Zu=hn.ReactCurrentBatchConfig,qs=0,Oe=null,Ue=null,qe=null,gc=!1,Vo=!1,ha=0,TS=0;function et(){throw Error(A(321))}function rp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Sr(e[r],t[r]))return!1;return!0}function np(e,t,r,n,s,i){if(qs=i,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$l.current=e===null||e.memoizedState===null?AS:IS,e=r(n,s),Vo){i=0;do{if(Vo=!1,ha=0,25<=i)throw Error(A(301));i+=1,qe=Ue=null,t.updateQueue=null,$l.current=zS,e=r(n,s)}while(Vo)}if($l.current=vc,t=Ue!==null&&Ue.next!==null,qs=0,qe=Ue=Oe=null,gc=!1,t)throw Error(A(300));return e}function sp(){var e=ha!==0;return ha=0,e}function Ar(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Oe.memoizedState=qe=e:qe=qe.next=e,qe}function or(){if(Ue===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=qe===null?Oe.memoizedState:qe.next;if(t!==null)qe=t,Ue=e;else{if(e===null)throw Error(A(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},qe===null?Oe.memoizedState=qe=e:qe=qe.next=e}return qe}function fa(e,t){return typeof t=="function"?t(e):t}function Xu(e){var t=or(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=Ue,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((qs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Oe.lanes|=d,Vs|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Sr(n,t.memoizedState)||(Et=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Oe.lanes|=i,Vs|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ed(e){var t=or(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Sr(i,t.memoizedState)||(Et=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function b0(){}function _0(e,t){var r=Oe,n=or(),s=t(),i=!Sr(n.memoizedState,s);if(i&&(n.memoizedState=s,Et=!0),n=n.queue,ip(k0.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,pa(9,S0.bind(null,r,n,s,t),void 0,null),He===null)throw Error(A(349));qs&30||j0(r,t,s)}return s}function j0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function S0(e,t,r,n){t.value=r,t.getSnapshot=n,N0(t)&&E0(e)}function k0(e,t,r){return r(function(){N0(t)&&E0(e)})}function N0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Sr(e,r)}catch{return!0}}function E0(e){var t=ln(e,1);t!==null&&jr(t,e,1,-1)}function Ym(e){var t=Ar();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t.queue=e,e=e.dispatch=OS.bind(null,Oe,e),[t.memoizedState,e]}function pa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function C0(){return or().memoizedState}function Fl(e,t,r,n){var s=Ar();Oe.flags|=e,s.memoizedState=pa(1|t,r,void 0,n===void 0?null:n)}function Qc(e,t,r,n){var s=or();n=n===void 0?null:n;var i=void 0;if(Ue!==null){var o=Ue.memoizedState;if(i=o.destroy,n!==null&&rp(n,o.deps)){s.memoizedState=pa(t,r,i,n);return}}Oe.flags|=e,s.memoizedState=pa(1|t,r,i,n)}function Jm(e,t){return Fl(8390656,8,e,t)}function ip(e,t){return Qc(2048,8,e,t)}function T0(e,t){return Qc(4,2,e,t)}function P0(e,t){return Qc(4,4,e,t)}function R0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function O0(e,t,r){return r=r!=null?r.concat([e]):null,Qc(4,4,R0.bind(null,t,e),r)}function op(){}function A0(e,t){var r=or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function I0(e,t){var r=or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function z0(e,t,r){return qs&21?(Sr(r,t)||(r=Fy(),Oe.lanes|=r,Vs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Et=!0),e.memoizedState=r)}function PS(e,t){var r=ge;ge=r!==0&&4>r?r:4,e(!0);var n=Zu.transition;Zu.transition={};try{e(!1),t()}finally{ge=r,Zu.transition=n}}function D0(){return or().memoizedState}function RS(e,t,r){var n=Yn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},L0(e))M0(t,r);else if(r=y0(e,t,r,n),r!==null){var s=gt();jr(r,e,n,s),$0(r,t,n)}}function OS(e,t,r){var n=Yn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(L0(e))M0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Sr(l,o)){var c=t.interleaved;c===null?(s.next=s,Jf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=y0(e,t,s,n),r!==null&&(s=gt(),jr(r,e,n,s),$0(r,t,n))}}function L0(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function M0(e,t){Vo=gc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Lf(e,r)}}var vc={readContext:ir,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},AS={readContext:ir,useCallback:function(e,t){return Ar().memoizedState=[e,t===void 0?null:t],e},useContext:ir,useEffect:Jm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fl(4194308,4,R0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fl(4,2,e,t)},useMemo:function(e,t){var r=Ar();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ar();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=RS.bind(null,Oe,e),[n.memoizedState,e]},useRef:function(e){var t=Ar();return e={current:e},t.memoizedState=e},useState:Ym,useDebugValue:op,useDeferredValue:function(e){return Ar().memoizedState=e},useTransition:function(){var e=Ym(!1),t=e[0];return e=PS.bind(null,e[1]),Ar().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Oe,s=Ar();if(Te){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),He===null)throw Error(A(349));qs&30||j0(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Jm(k0.bind(null,n,i,e),[e]),n.flags|=2048,pa(9,S0.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ar(),t=He.identifierPrefix;if(Te){var r=rn,n=tn;r=(n&~(1<<32-_r(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ha++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=TS++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},IS={readContext:ir,useCallback:A0,useContext:ir,useEffect:ip,useImperativeHandle:O0,useInsertionEffect:T0,useLayoutEffect:P0,useMemo:I0,useReducer:Xu,useRef:C0,useState:function(){return Xu(fa)},useDebugValue:op,useDeferredValue:function(e){var t=or();return z0(t,Ue.memoizedState,e)},useTransition:function(){var e=Xu(fa)[0],t=or().memoizedState;return[e,t]},useMutableSource:b0,useSyncExternalStore:_0,useId:D0,unstable_isNewReconciler:!1},zS={readContext:ir,useCallback:A0,useContext:ir,useEffect:ip,useImperativeHandle:O0,useInsertionEffect:T0,useLayoutEffect:P0,useMemo:I0,useReducer:ed,useRef:C0,useState:function(){return ed(fa)},useDebugValue:op,useDeferredValue:function(e){var t=or();return Ue===null?t.memoizedState=e:z0(t,Ue.memoizedState,e)},useTransition:function(){var e=ed(fa)[0],t=or().memoizedState;return[e,t]},useMutableSource:b0,useSyncExternalStore:_0,useId:D0,unstable_isNewReconciler:!1};function gr(e,t){if(e&&e.defaultProps){t=Ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function uh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yc={isMounted:function(e){return(e=e._reactInternals)?Xs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gt(),s=Yn(e),i=nn(n,s);i.payload=t,r!=null&&(i.callback=r),t=Gn(e,i,s),t!==null&&(jr(t,e,s,n),Ml(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gt(),s=Yn(e),i=nn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Gn(e,i,s),t!==null&&(jr(t,e,s,n),Ml(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gt(),n=Yn(e),s=nn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Gn(e,s,n),t!==null&&(jr(t,e,n,r),Ml(t,e,n))}};function Zm(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!oa(r,n)||!oa(s,i):!0}function F0(e,t,r){var n=!1,s=ss,i=t.contextType;return typeof i=="object"&&i!==null?i=ir(i):(s=Pt(t)?Bs:lt.current,n=t.contextTypes,i=(n=n!=null)?Ji(e,s):ss),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Xm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Yc.enqueueReplaceState(t,t.state,null)}function dh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Zf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ir(i):(i=Pt(t)?Bs:lt.current,s.context=Ji(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(uh(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yc.enqueueReplaceState(s,s.state,null),pc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function to(e,t){try{var r="",n=t;do r+=cj(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function td(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function hh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var DS=typeof WeakMap=="function"?WeakMap:Map;function U0(e,t,r){r=nn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){xc||(xc=!0,_h=n),hh(e,t)},r}function B0(e,t,r){r=nn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){hh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){hh(e,t),typeof n!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function eg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new DS;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=YS.bind(null,e,t,r),t.then(e,e))}function tg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rg(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=nn(-1,1),t.tag=2,Gn(r,t,1))),r.lanes|=1),e)}var LS=hn.ReactCurrentOwner,Et=!1;function ht(e,t,r,n){t.child=e===null?v0(t,null,r,n):Xi(t,e.child,r,n)}function ng(e,t,r,n,s){r=r.render;var i=t.ref;return Ri(t,s),n=np(e,t,r,n,i,s),r=sp(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cn(e,t,s)):(Te&&r&&Vf(t),t.flags|=1,ht(e,t,n,s),t.child)}function sg(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!pp(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,W0(e,t,i,n,s)):(e=ql(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:oa,r(o,n)&&e.ref===t.ref)return cn(e,t,s)}return t.flags|=1,e=Jn(i,n),e.ref=t.ref,e.return=t,t.child=e}function W0(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(oa(i,n)&&e.ref===t.ref)if(Et=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Et=!0);else return t.lanes=e.lanes,cn(e,t,s)}return fh(e,t,r,n,s)}function q0(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ni,Lt),Lt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(Ni,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,je(Ni,Lt),Lt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,je(Ni,Lt),Lt|=n;return ht(e,t,s,r),t.child}function V0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function fh(e,t,r,n,s){var i=Pt(r)?Bs:lt.current;return i=Ji(t,i),Ri(t,s),r=np(e,t,r,n,i,s),n=sp(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cn(e,t,s)):(Te&&n&&Vf(t),t.flags|=1,ht(e,t,r,s),t.child)}function ig(e,t,r,n,s){if(Pt(r)){var i=!0;cc(t)}else i=!1;if(Ri(t,s),t.stateNode===null)Ul(e,t),F0(t,r,n),dh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ir(u):(u=Pt(r)?Bs:lt.current,u=Ji(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Xm(t,o,n,u),En=!1;var p=t.memoizedState;o.state=p,pc(t,n,o,s),c=t.memoizedState,l!==n||p!==c||Tt.current||En?(typeof d=="function"&&(uh(t,r,d,n),c=t.memoizedState),(l=En||Zm(t,r,l,n,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,x0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:gr(t.type,l),o.props=u,h=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ir(c):(c=Pt(r)?Bs:lt.current,c=Ji(t,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&Xm(t,o,n,c),En=!1,p=t.memoizedState,o.state=p,pc(t,n,o,s);var b=t.memoizedState;l!==h||p!==b||Tt.current||En?(typeof f=="function"&&(uh(t,r,f,n),b=t.memoizedState),(u=En||Zm(t,r,u,n,p,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return ph(e,t,r,n,i,s)}function ph(e,t,r,n,s,i){V0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&qm(t,r,!1),cn(e,t,i);n=t.stateNode,LS.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Xi(t,e.child,null,i),t.child=Xi(t,null,l,i)):ht(e,t,l,i),t.memoizedState=n.state,s&&qm(t,r,!0),t.child}function H0(e){var t=e.stateNode;t.pendingContext?Wm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wm(e,t.context,!1),Xf(e,t.containerInfo)}function og(e,t,r,n,s){return Zi(),Kf(s),t.flags|=256,ht(e,t,r,n),t.child}var mh={dehydrated:null,treeContext:null,retryLane:0};function gh(e){return{baseLanes:e,cachePool:null,transitions:null}}function K0(e,t,r){var n=t.pendingProps,s=Re.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je(Re,s&1),e===null)return lh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Xc(o,n,0,null),e=Us(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=gh(r),t.memoizedState=mh,e):ap(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return MS(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Jn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Jn(l,i):(i=Us(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?gh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=mh,n}return i=e.child,e=i.sibling,n=Jn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ap(e,t){return t=Xc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dl(e,t,r,n){return n!==null&&Kf(n),Xi(t,e.child,null,r),e=ap(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MS(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=td(Error(A(422))),dl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Xc({mode:"visible",children:n.children},s,0,null),i=Us(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Xi(t,e.child,null,o),t.child.memoizedState=gh(o),t.memoizedState=mh,i);if(!(t.mode&1))return dl(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(A(419)),n=td(i,n,void 0),dl(e,t,o,n)}if(l=(o&e.childLanes)!==0,Et||l){if(n=He,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ln(e,s),jr(n,e,s,-1))}return fp(),n=td(Error(A(421))),dl(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=JS.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ut=Kn(s.nextSibling),Bt=t,Te=!0,br=null,e!==null&&(Xt[er++]=tn,Xt[er++]=rn,Xt[er++]=Ws,tn=e.id,rn=e.overflow,Ws=t),t=ap(t,n.children),t.flags|=4096,t)}function ag(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ch(e.return,t,r)}function rd(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function G0(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ht(e,t,n.children,r),n=Re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ag(e,r,t);else if(e.tag===19)ag(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(je(Re,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&mc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),rd(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&mc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}rd(t,!0,r,null,i);break;case"together":rd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=Jn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Jn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $S(e,t,r){switch(t.tag){case 3:H0(t),Zi();break;case 5:w0(t);break;case 1:Pt(t.type)&&cc(t);break;case 4:Xf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;je(hc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(je(Re,Re.current&1),t.flags|=128,null):r&t.child.childLanes?K0(e,t,r):(je(Re,Re.current&1),e=cn(e,t,r),e!==null?e.sibling:null);je(Re,Re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return G0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Re,Re.current),n)break;return null;case 22:case 23:return t.lanes=0,q0(e,t,r)}return cn(e,t,r)}var Q0,vh,Y0,J0;Q0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vh=function(){};Y0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ts(Ur.current);var i=null;switch(r){case"input":s=$d(e,s),n=$d(e,n),i=[];break;case"select":s=Ie({},s,{value:void 0}),n=Ie({},n,{value:void 0}),i=[];break;case"textarea":s=Bd(e,s),n=Bd(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ac)}qd(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ne("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};J0=function(e,t,r,n){r!==n&&(t.flags|=4)};function Po(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function FS(e,t,r){var n=t.pendingProps;switch(Hf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return Pt(t.type)&&lc(),tt(t),null;case 3:return n=t.stateNode,eo(),Ee(Tt),Ee(lt),tp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(cl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,br!==null&&(kh(br),br=null))),vh(e,t),tt(t),null;case 5:ep(t);var s=Ts(da.current);if(r=t.type,e!==null&&t.stateNode!=null)Y0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(A(166));return tt(t),null}if(e=Ts(Ur.current),cl(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Lr]=t,n[ca]=i,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<Lo.length;s++)Ne(Lo[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":gm(n,i),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",n);break;case"textarea":ym(n,i),Ne("invalid",n)}qd(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ll(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ll(n.textContent,l,e),s=["children",""+l]):Xo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ne("scroll",n)}switch(r){case"input":el(n),vm(n,i,!0);break;case"textarea":el(n),xm(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ac)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ky(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Lr]=t,e[ca]=n,Q0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Vd(r,n),r){case"dialog":Ne("cancel",e),Ne("close",e),s=n;break;case"iframe":case"object":case"embed":Ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<Lo.length;s++)Ne(Lo[s],e);s=n;break;case"source":Ne("error",e),s=n;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),s=n;break;case"details":Ne("toggle",e),s=n;break;case"input":gm(e,n),s=$d(e,n),Ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ie({},n,{value:void 0}),Ne("invalid",e);break;case"textarea":ym(e,n),s=Bd(e,n),Ne("invalid",e);break;default:s=n}qd(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Cy(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ny(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ea(e,c):typeof c=="number"&&ea(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ne("scroll",e):c!=null&&Rf(e,i,c,o))}switch(r){case"input":el(e),vm(e,n,!1);break;case"textarea":el(e),xm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ns(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ei(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ei(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ac)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)J0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(A(166));if(r=Ts(da.current),Ts(Ur.current),cl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Lr]=t,(i=n.nodeValue!==r)&&(e=Bt,e!==null))switch(e.tag){case 3:ll(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ll(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Lr]=t,t.stateNode=n}return tt(t),null;case 13:if(Ee(Re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&Ut!==null&&t.mode&1&&!(t.flags&128))m0(),Zi(),t.flags|=98560,i=!1;else if(i=cl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[Lr]=t}else Zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),i=!1}else br!==null&&(kh(br),br=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?We===0&&(We=3):fp())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return eo(),vh(e,t),e===null&&aa(t.stateNode.containerInfo),tt(t),null;case 10:return Yf(t.type._context),tt(t),null;case 17:return Pt(t.type)&&lc(),tt(t),null;case 19:if(Ee(Re),i=t.memoizedState,i===null)return tt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Po(i,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=mc(e),o!==null){for(t.flags|=128,Po(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Re,Re.current&1|2),t.child}e=e.sibling}i.tail!==null&&Le()>ro&&(t.flags|=128,n=!0,Po(i,!1),t.lanes=4194304)}else{if(!n)if(e=mc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Po(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Te)return tt(t),null}else 2*Le()-i.renderingStartTime>ro&&r!==1073741824&&(t.flags|=128,n=!0,Po(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Le(),t.sibling=null,r=Re.current,je(Re,n?r&1|2:r&1),t):(tt(t),null);case 22:case 23:return hp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Lt&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function US(e,t){switch(Hf(t),t.tag){case 1:return Pt(t.type)&&lc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return eo(),Ee(Tt),Ee(lt),tp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ep(t),null;case 13:if(Ee(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Re),null;case 4:return eo(),null;case 10:return Yf(t.type._context),null;case 22:case 23:return hp(),null;case 24:return null;default:return null}}var hl=!1,nt=!1,BS=typeof WeakSet=="function"?WeakSet:Set,B=null;function ki(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){De(e,t,n)}else r.current=null}function yh(e,t,r){try{r()}catch(n){De(e,t,n)}}var lg=!1;function WS(e,t){if(th=sc,e=r0(),qf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===r&&++u===s&&(l=o),p===i&&++d===n&&(c=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(rh={focusedElem:e,selectionRange:r},sc=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,m=b.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:gr(t.type,g),m);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(_){De(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return b=lg,lg=!1,b}function Ho(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&yh(t,r,i)}s=s.next}while(s!==n)}}function Jc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function xh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Z0(e){var t=e.alternate;t!==null&&(e.alternate=null,Z0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lr],delete t[ca],delete t[ih],delete t[kS],delete t[NS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function X0(e){return e.tag===5||e.tag===3||e.tag===4}function cg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||X0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ac));else if(n!==4&&(e=e.child,e!==null))for(wh(e,t,r),e=e.sibling;e!==null;)wh(e,t,r),e=e.sibling}function bh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(bh(e,t,r),e=e.sibling;e!==null;)bh(e,t,r),e=e.sibling}var Qe=null,wr=!1;function wn(e,t,r){for(r=r.child;r!==null;)ex(e,t,r),r=r.sibling}function ex(e,t,r){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(Wc,r)}catch{}switch(r.tag){case 5:nt||ki(r,t);case 6:var n=Qe,s=wr;Qe=null,wn(e,t,r),Qe=n,wr=s,Qe!==null&&(wr?(e=Qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qe.removeChild(r.stateNode));break;case 18:Qe!==null&&(wr?(e=Qe,r=r.stateNode,e.nodeType===8?Qu(e.parentNode,r):e.nodeType===1&&Qu(e,r),sa(e)):Qu(Qe,r.stateNode));break;case 4:n=Qe,s=wr,Qe=r.stateNode.containerInfo,wr=!0,wn(e,t,r),Qe=n,wr=s;break;case 0:case 11:case 14:case 15:if(!nt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&yh(r,t,o),s=s.next}while(s!==n)}wn(e,t,r);break;case 1:if(!nt&&(ki(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){De(r,t,l)}wn(e,t,r);break;case 21:wn(e,t,r);break;case 22:r.mode&1?(nt=(n=nt)||r.memoizedState!==null,wn(e,t,r),nt=n):wn(e,t,r);break;default:wn(e,t,r)}}function ug(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new BS),t.forEach(function(n){var s=ZS.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function fr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Qe=l.stateNode,wr=!1;break e;case 3:Qe=l.stateNode.containerInfo,wr=!0;break e;case 4:Qe=l.stateNode.containerInfo,wr=!0;break e}l=l.return}if(Qe===null)throw Error(A(160));ex(i,o,s),Qe=null,wr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){De(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tx(t,e),t=t.sibling}function tx(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fr(t,e),Or(e),n&4){try{Ho(3,e,e.return),Jc(3,e)}catch(g){De(e,e.return,g)}try{Ho(5,e,e.return)}catch(g){De(e,e.return,g)}}break;case 1:fr(t,e),Or(e),n&512&&r!==null&&ki(r,r.return);break;case 5:if(fr(t,e),Or(e),n&512&&r!==null&&ki(r,r.return),e.flags&32){var s=e.stateNode;try{ea(s,"")}catch(g){De(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&jy(s,i),Vd(l,o);var u=Vd(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Cy(s,h):d==="dangerouslySetInnerHTML"?Ny(s,h):d==="children"?ea(s,h):Rf(s,d,h,u)}switch(l){case"input":Fd(s,i);break;case"textarea":Sy(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Ei(s,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?Ei(s,!!i.multiple,i.defaultValue,!0):Ei(s,!!i.multiple,i.multiple?[]:"",!1))}s[ca]=i}catch(g){De(e,e.return,g)}}break;case 6:if(fr(t,e),Or(e),n&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){De(e,e.return,g)}}break;case 3:if(fr(t,e),Or(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sa(t.containerInfo)}catch(g){De(e,e.return,g)}break;case 4:fr(t,e),Or(e);break;case 13:fr(t,e),Or(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(up=Le())),n&4&&ug(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(nt=(u=nt)||d,fr(t,e),nt=u):fr(t,e),Or(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(B=e,d=e.child;d!==null;){for(h=B=d;B!==null;){switch(p=B,f=p.child,p.tag){case 0:case 11:case 14:case 15:Ho(4,p,p.return);break;case 1:ki(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(g){De(n,r,g)}}break;case 5:ki(p,p.return);break;case 22:if(p.memoizedState!==null){hg(h);continue}}f!==null?(f.return=p,B=f):hg(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ey("display",o))}catch(g){De(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){De(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fr(t,e),Or(e),n&4&&ug(e);break;case 21:break;default:fr(t,e),Or(e)}}function Or(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(X0(r)){var n=r;break e}r=r.return}throw Error(A(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ea(s,""),n.flags&=-33);var i=cg(e);bh(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=cg(e);wh(e,l,o);break;default:throw Error(A(161))}}catch(c){De(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qS(e,t,r){B=e,rx(e)}function rx(e,t,r){for(var n=(e.mode&1)!==0;B!==null;){var s=B,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||hl;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||nt;l=hl;var u=nt;if(hl=o,(nt=c)&&!u)for(B=s;B!==null;)o=B,c=o.child,o.tag===22&&o.memoizedState!==null?fg(s):c!==null?(c.return=o,B=c):fg(s);for(;i!==null;)B=i,rx(i),i=i.sibling;B=s,hl=l,nt=u}dg(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,B=i):dg(e)}}function dg(e){for(;B!==null;){var t=B;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||Jc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!nt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:gr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Qm(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Qm(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&sa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}nt||t.flags&512&&xh(t)}catch(p){De(t,t.return,p)}}if(t===e){B=null;break}if(r=t.sibling,r!==null){r.return=t.return,B=r;break}B=t.return}}function hg(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var r=t.sibling;if(r!==null){r.return=t.return,B=r;break}B=t.return}}function fg(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Jc(4,t)}catch(c){De(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){De(t,s,c)}}var i=t.return;try{xh(t)}catch(c){De(t,i,c)}break;case 5:var o=t.return;try{xh(t)}catch(c){De(t,o,c)}}}catch(c){De(t,t.return,c)}if(t===e){B=null;break}var l=t.sibling;if(l!==null){l.return=t.return,B=l;break}B=t.return}}var VS=Math.ceil,yc=hn.ReactCurrentDispatcher,lp=hn.ReactCurrentOwner,nr=hn.ReactCurrentBatchConfig,ue=0,He=null,$e=null,Ye=0,Lt=0,Ni=ls(0),We=0,ma=null,Vs=0,Zc=0,cp=0,Ko=null,Nt=null,up=0,ro=1/0,Yr=null,xc=!1,_h=null,Qn=null,fl=!1,Bn=null,wc=0,Go=0,jh=null,Bl=-1,Wl=0;function gt(){return ue&6?Le():Bl!==-1?Bl:Bl=Le()}function Yn(e){return e.mode&1?ue&2&&Ye!==0?Ye&-Ye:CS.transition!==null?(Wl===0&&(Wl=Fy()),Wl):(e=ge,e!==0||(e=window.event,e=e===void 0?16:Ky(e.type)),e):1}function jr(e,t,r,n){if(50<Go)throw Go=0,jh=null,Error(A(185));Ia(e,r,n),(!(ue&2)||e!==He)&&(e===He&&(!(ue&2)&&(Zc|=r),We===4&&Tn(e,Ye)),Rt(e,n),r===1&&ue===0&&!(t.mode&1)&&(ro=Le()+500,Gc&&cs()))}function Rt(e,t){var r=e.callbackNode;Cj(e,t);var n=nc(e,e===He?Ye:0);if(n===0)r!==null&&_m(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_m(r),t===1)e.tag===0?ES(pg.bind(null,e)):h0(pg.bind(null,e)),jS(function(){!(ue&6)&&cs()}),r=null;else{switch(Uy(n)){case 1:r=Df;break;case 4:r=My;break;case 16:r=rc;break;case 536870912:r=$y;break;default:r=rc}r=ux(r,nx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nx(e,t){if(Bl=-1,Wl=0,ue&6)throw Error(A(327));var r=e.callbackNode;if(Oi()&&e.callbackNode!==r)return null;var n=nc(e,e===He?Ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bc(e,n);else{t=n;var s=ue;ue|=2;var i=ix();(He!==e||Ye!==t)&&(Yr=null,ro=Le()+500,Fs(e,t));do try{GS();break}catch(l){sx(e,l)}while(!0);Qf(),yc.current=i,ue=s,$e!==null?t=0:(He=null,Ye=0,t=We)}if(t!==0){if(t===2&&(s=Yd(e),s!==0&&(n=s,t=Sh(e,s))),t===1)throw r=ma,Fs(e,0),Tn(e,n),Rt(e,Le()),r;if(t===6)Tn(e,n);else{if(s=e.current.alternate,!(n&30)&&!HS(s)&&(t=bc(e,n),t===2&&(i=Yd(e),i!==0&&(n=i,t=Sh(e,i))),t===1))throw r=ma,Fs(e,0),Tn(e,n),Rt(e,Le()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(A(345));case 2:bs(e,Nt,Yr);break;case 3:if(Tn(e,n),(n&130023424)===n&&(t=up+500-Le(),10<t)){if(nc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){gt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=sh(bs.bind(null,e,Nt,Yr),t);break}bs(e,Nt,Yr);break;case 4:if(Tn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-_r(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*VS(n/1960))-n,10<n){e.timeoutHandle=sh(bs.bind(null,e,Nt,Yr),n);break}bs(e,Nt,Yr);break;case 5:bs(e,Nt,Yr);break;default:throw Error(A(329))}}}return Rt(e,Le()),e.callbackNode===r?nx.bind(null,e):null}function Sh(e,t){var r=Ko;return e.current.memoizedState.isDehydrated&&(Fs(e,t).flags|=256),e=bc(e,t),e!==2&&(t=Nt,Nt=r,t!==null&&kh(t)),e}function kh(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function HS(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Sr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t){for(t&=~cp,t&=~Zc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_r(t),n=1<<r;e[r]=-1,t&=~n}}function pg(e){if(ue&6)throw Error(A(327));Oi();var t=nc(e,0);if(!(t&1))return Rt(e,Le()),null;var r=bc(e,t);if(e.tag!==0&&r===2){var n=Yd(e);n!==0&&(t=n,r=Sh(e,n))}if(r===1)throw r=ma,Fs(e,0),Tn(e,t),Rt(e,Le()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bs(e,Nt,Yr),Rt(e,Le()),null}function dp(e,t){var r=ue;ue|=1;try{return e(t)}finally{ue=r,ue===0&&(ro=Le()+500,Gc&&cs())}}function Hs(e){Bn!==null&&Bn.tag===0&&!(ue&6)&&Oi();var t=ue;ue|=1;var r=nr.transition,n=ge;try{if(nr.transition=null,ge=1,e)return e()}finally{ge=n,nr.transition=r,ue=t,!(ue&6)&&cs()}}function hp(){Lt=Ni.current,Ee(Ni)}function Fs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_S(r)),$e!==null)for(r=$e.return;r!==null;){var n=r;switch(Hf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lc();break;case 3:eo(),Ee(Tt),Ee(lt),tp();break;case 5:ep(n);break;case 4:eo();break;case 13:Ee(Re);break;case 19:Ee(Re);break;case 10:Yf(n.type._context);break;case 22:case 23:hp()}r=r.return}if(He=e,$e=e=Jn(e.current,null),Ye=Lt=t,We=0,ma=null,cp=Zc=Vs=0,Nt=Ko=null,Cs!==null){for(t=0;t<Cs.length;t++)if(r=Cs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Cs=null}return e}function sx(e,t){do{var r=$e;try{if(Qf(),$l.current=vc,gc){for(var n=Oe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}gc=!1}if(qs=0,qe=Ue=Oe=null,Vo=!1,ha=0,lp.current=null,r===null||r.return===null){We=1,ma=t,$e=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ye,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=tg(o);if(f!==null){f.flags&=-257,rg(f,o,l,i,t),f.mode&1&&eg(i,u,t),t=f,c=u;var b=t.updateQueue;if(b===null){var g=new Set;g.add(c),t.updateQueue=g}else b.add(c);break e}else{if(!(t&1)){eg(i,u,t),fp();break e}c=Error(A(426))}}else if(Te&&l.mode&1){var m=tg(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),rg(m,o,l,i,t),Kf(to(c,l));break e}}i=c=to(c,l),We!==4&&(We=2),Ko===null?Ko=[i]:Ko.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=U0(i,c,t);Gm(i,x);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Qn===null||!Qn.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=B0(i,l,t);Gm(i,_);break e}}i=i.return}while(i!==null)}ax(r)}catch(j){t=j,$e===r&&r!==null&&($e=r=r.return);continue}break}while(!0)}function ix(){var e=yc.current;return yc.current=vc,e===null?vc:e}function fp(){(We===0||We===3||We===2)&&(We=4),He===null||!(Vs&268435455)&&!(Zc&268435455)||Tn(He,Ye)}function bc(e,t){var r=ue;ue|=2;var n=ix();(He!==e||Ye!==t)&&(Yr=null,Fs(e,t));do try{KS();break}catch(s){sx(e,s)}while(!0);if(Qf(),ue=r,yc.current=n,$e!==null)throw Error(A(261));return He=null,Ye=0,We}function KS(){for(;$e!==null;)ox($e)}function GS(){for(;$e!==null&&!xj();)ox($e)}function ox(e){var t=cx(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?ax(e):$e=t,lp.current=null}function ax(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=US(r,t),r!==null){r.flags&=32767,$e=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,$e=null;return}}else if(r=FS(r,t,Lt),r!==null){$e=r;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);We===0&&(We=5)}function bs(e,t,r){var n=ge,s=nr.transition;try{nr.transition=null,ge=1,QS(e,t,r,n)}finally{nr.transition=s,ge=n}return null}function QS(e,t,r,n){do Oi();while(Bn!==null);if(ue&6)throw Error(A(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Tj(e,i),e===He&&($e=He=null,Ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fl||(fl=!0,ux(rc,function(){return Oi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=nr.transition,nr.transition=null;var o=ge;ge=1;var l=ue;ue|=4,lp.current=null,WS(e,r),tx(r,e),mS(rh),sc=!!th,rh=th=null,e.current=r,qS(r),wj(),ue=l,ge=o,nr.transition=i}else e.current=r;if(fl&&(fl=!1,Bn=e,wc=s),i=e.pendingLanes,i===0&&(Qn=null),jj(r.stateNode),Rt(e,Le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(xc)throw xc=!1,e=_h,_h=null,e;return wc&1&&e.tag!==0&&Oi(),i=e.pendingLanes,i&1?e===jh?Go++:(Go=0,jh=e):Go=0,cs(),null}function Oi(){if(Bn!==null){var e=Uy(wc),t=nr.transition,r=ge;try{if(nr.transition=null,ge=16>e?16:e,Bn===null)var n=!1;else{if(e=Bn,Bn=null,wc=0,ue&6)throw Error(A(331));var s=ue;for(ue|=4,B=e.current;B!==null;){var i=B,o=i.child;if(B.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(B=u;B!==null;){var d=B;switch(d.tag){case 0:case 11:case 15:Ho(8,d,i)}var h=d.child;if(h!==null)h.return=d,B=h;else for(;B!==null;){d=B;var p=d.sibling,f=d.return;if(Z0(d),d===u){B=null;break}if(p!==null){p.return=f,B=p;break}B=f}}}var b=i.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}B=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,B=o;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ho(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,B=x;break e}B=i.return}}var y=e.current;for(B=y;B!==null;){o=B;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,B=w;else e:for(o=y;B!==null;){if(l=B,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Jc(9,l)}}catch(j){De(l,l.return,j)}if(l===o){B=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,B=_;break e}B=l.return}}if(ue=s,cs(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(Wc,e)}catch{}n=!0}return n}finally{ge=r,nr.transition=t}}return!1}function mg(e,t,r){t=to(r,t),t=U0(e,t,1),e=Gn(e,t,1),t=gt(),e!==null&&(Ia(e,1,t),Rt(e,t))}function De(e,t,r){if(e.tag===3)mg(e,e,r);else for(;t!==null;){if(t.tag===3){mg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qn===null||!Qn.has(n))){e=to(r,e),e=B0(t,e,1),t=Gn(t,e,1),e=gt(),t!==null&&(Ia(t,1,e),Rt(t,e));break}}t=t.return}}function YS(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&r,He===e&&(Ye&r)===r&&(We===4||We===3&&(Ye&130023424)===Ye&&500>Le()-up?Fs(e,0):cp|=r),Rt(e,t)}function lx(e,t){t===0&&(e.mode&1?(t=nl,nl<<=1,!(nl&130023424)&&(nl=4194304)):t=1);var r=gt();e=ln(e,t),e!==null&&(Ia(e,t,r),Rt(e,r))}function JS(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),lx(e,r)}function ZS(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(A(314))}n!==null&&n.delete(t),lx(e,r)}var cx;cx=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tt.current)Et=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Et=!1,$S(e,t,r);Et=!!(e.flags&131072)}else Et=!1,Te&&t.flags&1048576&&f0(t,dc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ul(e,t),e=t.pendingProps;var s=Ji(t,lt.current);Ri(t,r),s=np(null,t,n,e,s,r);var i=sp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pt(n)?(i=!0,cc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zf(t),s.updater=Yc,t.stateNode=s,s._reactInternals=t,dh(t,n,e,r),t=ph(null,t,n,!0,i,r)):(t.tag=0,Te&&i&&Vf(t),ht(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ul(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=ek(n),e=gr(n,e),s){case 0:t=fh(null,t,n,e,r);break e;case 1:t=ig(null,t,n,e,r);break e;case 11:t=ng(null,t,n,e,r);break e;case 14:t=sg(null,t,n,gr(n.type,e),r);break e}throw Error(A(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gr(n,s),fh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gr(n,s),ig(e,t,n,s,r);case 3:e:{if(H0(t),e===null)throw Error(A(387));n=t.pendingProps,i=t.memoizedState,s=i.element,x0(e,t),pc(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=to(Error(A(423)),t),t=og(e,t,n,r,s);break e}else if(n!==s){s=to(Error(A(424)),t),t=og(e,t,n,r,s);break e}else for(Ut=Kn(t.stateNode.containerInfo.firstChild),Bt=t,Te=!0,br=null,r=v0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zi(),n===s){t=cn(e,t,r);break e}ht(e,t,n,r)}t=t.child}return t;case 5:return w0(t),e===null&&lh(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,nh(n,s)?o=null:i!==null&&nh(n,i)&&(t.flags|=32),V0(e,t),ht(e,t,o,r),t.child;case 6:return e===null&&lh(t),null;case 13:return K0(e,t,r);case 4:return Xf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xi(t,null,n,r):ht(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gr(n,s),ng(e,t,n,s,r);case 7:return ht(e,t,t.pendingProps,r),t.child;case 8:return ht(e,t,t.pendingProps.children,r),t.child;case 12:return ht(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,je(hc,n._currentValue),n._currentValue=o,i!==null)if(Sr(i.value,o)){if(i.children===s.children&&!Tt.current){t=cn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=nn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ch(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(A(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ch(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ht(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ri(t,r),s=ir(s),n=n(s),t.flags|=1,ht(e,t,n,r),t.child;case 14:return n=t.type,s=gr(n,t.pendingProps),s=gr(n.type,s),sg(e,t,n,s,r);case 15:return W0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gr(n,s),Ul(e,t),t.tag=1,Pt(n)?(e=!0,cc(t)):e=!1,Ri(t,r),F0(t,n,s),dh(t,n,s,r),ph(null,t,n,!0,e,r);case 19:return G0(e,t,r);case 22:return q0(e,t,r)}throw Error(A(156,t.tag))};function ux(e,t){return Ly(e,t)}function XS(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(e,t,r,n){return new XS(e,t,r,n)}function pp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ek(e){if(typeof e=="function")return pp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Af)return 11;if(e===If)return 14}return 2}function Jn(e,t){var r=e.alternate;return r===null?(r=rr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ql(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")pp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case gi:return Us(r.children,s,i,t);case Of:o=8,s|=8;break;case zd:return e=rr(12,r,t,s|2),e.elementType=zd,e.lanes=i,e;case Dd:return e=rr(13,r,t,s),e.elementType=Dd,e.lanes=i,e;case Ld:return e=rr(19,r,t,s),e.elementType=Ld,e.lanes=i,e;case wy:return Xc(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yy:o=10;break e;case xy:o=9;break e;case Af:o=11;break e;case If:o=14;break e;case Nn:o=16,n=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=rr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Us(e,t,r,n){return e=rr(7,e,n,t),e.lanes=r,e}function Xc(e,t,r,n){return e=rr(22,e,n,t),e.elementType=wy,e.lanes=r,e.stateNode={isHidden:!1},e}function nd(e,t,r){return e=rr(6,e,null,t),e.lanes=r,e}function sd(e,t,r){return t=rr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tk(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mu(0),this.expirationTimes=Mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mp(e,t,r,n,s,i,o,l,c){return e=new tk(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=rr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zf(i),e}function rk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function dx(e){if(!e)return ss;e=e._reactInternals;e:{if(Xs(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(Pt(r))return d0(e,r,t)}return t}function hx(e,t,r,n,s,i,o,l,c){return e=mp(r,n,!0,e,s,i,o,l,c),e.context=dx(null),r=e.current,n=gt(),s=Yn(r),i=nn(n,s),i.callback=t??null,Gn(r,i,s),e.current.lanes=s,Ia(e,s,n),Rt(e,n),e}function eu(e,t,r,n){var s=t.current,i=gt(),o=Yn(s);return r=dx(r),t.context===null?t.context=r:t.pendingContext=r,t=nn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Gn(s,t,o),e!==null&&(jr(e,s,o,i),Ml(e,s,o)),o}function _c(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gp(e,t){gg(e,t),(e=e.alternate)&&gg(e,t)}function nk(){return null}var fx=typeof reportError=="function"?reportError:function(e){console.error(e)};function vp(e){this._internalRoot=e}tu.prototype.render=vp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));eu(e,t,null,null)};tu.prototype.unmount=vp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hs(function(){eu(null,e,null,null)}),t[an]=null}};function tu(e){this._internalRoot=e}tu.prototype.unstable_scheduleHydration=function(e){if(e){var t=qy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Cn.length&&t!==0&&t<Cn[r].priority;r++);Cn.splice(r,0,e),r===0&&Hy(e)}};function yp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vg(){}function sk(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=_c(o);i.call(u)}}var o=hx(t,n,e,0,null,!1,!1,"",vg);return e._reactRootContainer=o,e[an]=o.current,aa(e.nodeType===8?e.parentNode:e),Hs(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=_c(c);l.call(u)}}var c=mp(e,0,!1,null,null,!1,!1,"",vg);return e._reactRootContainer=c,e[an]=c.current,aa(e.nodeType===8?e.parentNode:e),Hs(function(){eu(t,c,r,n)}),c}function nu(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=_c(o);l.call(c)}}eu(t,o,e,s)}else o=sk(r,t,e,s,n);return _c(o)}By=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Do(t.pendingLanes);r!==0&&(Lf(t,r|1),Rt(t,Le()),!(ue&6)&&(ro=Le()+500,cs()))}break;case 13:Hs(function(){var n=ln(e,1);if(n!==null){var s=gt();jr(n,e,1,s)}}),gp(e,1)}};Mf=function(e){if(e.tag===13){var t=ln(e,134217728);if(t!==null){var r=gt();jr(t,e,134217728,r)}gp(e,134217728)}};Wy=function(e){if(e.tag===13){var t=Yn(e),r=ln(e,t);if(r!==null){var n=gt();jr(r,e,t,n)}gp(e,t)}};qy=function(){return ge};Vy=function(e,t){var r=ge;try{return ge=e,t()}finally{ge=r}};Kd=function(e,t,r){switch(t){case"input":if(Fd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Kc(n);if(!s)throw Error(A(90));_y(n),Fd(n,s)}}}break;case"textarea":Sy(e,r);break;case"select":t=r.value,t!=null&&Ei(e,!!r.multiple,t,!1)}};Ry=dp;Oy=Hs;var ik={usingClientEntryPoint:!1,Events:[Da,wi,Kc,Ty,Py,dp]},Ro={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ok={bundleType:Ro.bundleType,version:Ro.version,rendererPackageName:Ro.rendererPackageName,rendererConfig:Ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zy(e),e===null?null:e.stateNode},findFiberByHostInstance:Ro.findFiberByHostInstance||nk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{Wc=pl.inject(ok),Fr=pl}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ik;Vt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yp(t))throw Error(A(200));return rk(e,t,null,r)};Vt.createRoot=function(e,t){if(!yp(e))throw Error(A(299));var r=!1,n="",s=fx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=mp(e,1,!1,null,null,r,!1,n,s),e[an]=t.current,aa(e.nodeType===8?e.parentNode:e),new vp(t)};Vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=zy(t),e=e===null?null:e.stateNode,e};Vt.flushSync=function(e){return Hs(e)};Vt.hydrate=function(e,t,r){if(!ru(t))throw Error(A(200));return nu(null,e,t,!0,r)};Vt.hydrateRoot=function(e,t,r){if(!yp(e))throw Error(A(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=fx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=hx(t,null,e,1,r??null,s,!1,i,o),e[an]=t.current,aa(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new tu(t)};Vt.render=function(e,t,r){if(!ru(t))throw Error(A(200));return nu(null,e,t,!1,r)};Vt.unmountComponentAtNode=function(e){if(!ru(e))throw Error(A(40));return e._reactRootContainer?(Hs(function(){nu(null,null,e,!1,function(){e._reactRootContainer=null,e[an]=null})}),!0):!1};Vt.unstable_batchedUpdates=dp;Vt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ru(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return nu(e,t,r,!1,n)};Vt.version="18.3.1-next-f1338f8080-20240426";function px(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(px)}catch(e){console.error(e)}}px(),py.exports=Vt;var Ma=py.exports;const mx=ry(Ma);var gx,yg=Ma;gx=yg.createRoot,yg.hydrateRoot;const ak=1,lk=1e6;let id=0;function ck(){return id=(id+1)%Number.MAX_SAFE_INTEGER,id.toString()}const od=new Map,xg=e=>{if(od.has(e))return;const t=setTimeout(()=>{od.delete(e),Qo({type:"REMOVE_TOAST",toastId:e})},lk);od.set(e,t)},uk=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ak)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?xg(r):e.toasts.forEach(n=>{xg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Vl=[];let Hl={toasts:[]};function Qo(e){Hl=uk(Hl,e),Vl.forEach(t=>{t(Hl)})}function dk({...e}){const t=ck(),r=s=>Qo({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Qo({type:"DISMISS_TOAST",toastId:t});return Qo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function qr(){const[e,t]=v.useState(Hl);return v.useEffect(()=>(Vl.push(t),()=>{const r=Vl.indexOf(t);r>-1&&Vl.splice(r,1)}),[e]),{...e,toast:dk,dismiss:r=>Qo({type:"DISMISS_TOAST",toastId:r})}}function ce(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function wg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vx(...e){return t=>{let r=!1;const n=e.map(s=>{const i=wg(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():wg(e[s],null)}}}}function ct(...e){return v.useCallback(vx(...e),e)}function hk(e,t){const r=v.createContext(t),n=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function us(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=h=>{var x;const{scope:p,children:f,...b}=h,g=((x=p==null?void 0:p[e])==null?void 0:x[c])||l,m=v.useMemo(()=>b,Object.values(b));return a.jsx(g.Provider,{value:m,children:f})};u.displayName=i+"Provider";function d(h,p){var g;const f=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,b=v.useContext(f);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,fk(s,...t)]}function fk(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ga(e){const t=mk(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(vk);if(c){const u=c.props.children,d=l.map(h=>h===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var pk=ga("Slot");function mk(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=xk(s),l=yk(i,s.props);return s.type!==v.Fragment&&(l.ref=n?vx(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yx=Symbol("radix.slottable");function gk(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=yx,t}function vk(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yx}function yk(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function xk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function xx(e){const t=e+"CollectionProvider",[r,n]=us(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:m,children:x}=g,y=D.useRef(null),w=D.useRef(new Map).current;return a.jsx(s,{scope:m,itemMap:w,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=ga(l),u=D.forwardRef((g,m)=>{const{scope:x,children:y}=g,w=i(l,x),_=ct(m,w.collectionRef);return a.jsx(c,{ref:_,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=ga(d),f=D.forwardRef((g,m)=>{const{scope:x,children:y,...w}=g,_=D.useRef(null),j=ct(m,_),N=i(d,x);return D.useEffect(()=>(N.itemMap.set(_,{ref:_,...w}),()=>void N.itemMap.delete(_))),a.jsx(p,{[h]:"",ref:j,children:y})});f.displayName=d;function b(g){const m=i(e+"CollectionConsumer",g);return D.useCallback(()=>{const y=m.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(m.itemMap.values()).sort((N,E)=>w.indexOf(N.ref.current)-w.indexOf(E.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:u,ItemSlot:f},b,n]}var wk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],me=wk.reduce((e,t)=>{const r=ga(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function wx(e,t){e&&Ma.flushSync(()=>e.dispatchEvent(t))}function ar(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function bk(e,t=globalThis==null?void 0:globalThis.document){const r=ar(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var _k="DismissableLayer",Nh="dismissableLayer.update",jk="dismissableLayer.pointerDownOutside",Sk="dismissableLayer.focusOutside",bg,bx=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),su=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(bx),[d,h]=v.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=v.useState({}),b=ct(t,E=>h(E)),g=Array.from(u.layers),[m]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(m),y=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=x,j=Nk(E=>{const k=E.target,R=[...u.branches].some(C=>C.contains(k));!_||R||(s==null||s(E),o==null||o(E),E.defaultPrevented||l==null||l())},p),N=Ek(E=>{const k=E.target;[...u.branches].some(C=>C.contains(k))||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},p);return bk(E=>{y===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},p),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(bg=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),_g(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=bg)}},[d,p,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),_g())},[d,u]),v.useEffect(()=>{const E=()=>f({});return document.addEventListener(Nh,E),()=>document.removeEventListener(Nh,E)},[]),a.jsx(me.div,{...c,ref:b,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:ce(e.onFocusCapture,N.onFocusCapture),onBlurCapture:ce(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ce(e.onPointerDownCapture,j.onPointerDownCapture)})});su.displayName=_k;var kk="DismissableLayerBranch",_x=v.forwardRef((e,t)=>{const r=v.useContext(bx),n=v.useRef(null),s=ct(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(me.div,{...e,ref:s})});_x.displayName=kk;function Nk(e,t=globalThis==null?void 0:globalThis.document){const r=ar(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){jx(jk,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Ek(e,t=globalThis==null?void 0:globalThis.document){const r=ar(e),n=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!n.current&&jx(Sk,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function _g(){const e=new CustomEvent(Nh);document.dispatchEvent(e)}function jx(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?wx(s,i):s.dispatchEvent(i)}var Ck=su,Tk=_x,lr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Pk="Portal",xp=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=v.useState(!1);lr(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?mx.createPortal(a.jsx(me.div,{...n,ref:t}),o):null});xp.displayName=Pk;function Rk(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var ei=e=>{const{present:t,children:r}=e,n=Ok(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=ct(n.ref,Ak(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:i}):null};ei.displayName="Presence";function Ok(e){const[t,r]=v.useState(),n=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Rk(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=ml(n.current);i.current=l==="mounted"?u:"none"},[l]),lr(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,f=ml(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),lr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const g=ml(n.current).includes(f.animationName);if(f.target===t&&g&&(c("ANIMATION_END"),!s.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},p=f=>{f.target===t&&(i.current=ml(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ml(e){return(e==null?void 0:e.animationName)||"none"}function Ak(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ik=Cf[" useInsertionEffect ".trim().toString()]||lr;function $a({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=zk({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=v.useCallback(d=>{var h;if(l){const p=Dk(d)?d(e):d;p!==e&&((h=o.current)==null||h.call(o,p))}else i(d)},[l,e,i,o]);return[c,u]}function zk({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),s=v.useRef(r),i=v.useRef(t);return Ik(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function Dk(e){return typeof e=="function"}var Lk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Mk="VisuallyHidden",iu=v.forwardRef((e,t)=>a.jsx(me.span,{...e,ref:t,style:{...Lk,...e.style}}));iu.displayName=Mk;var $k=iu,wp="ToastProvider",[bp,Fk,Uk]=xx("Toast"),[Sx,OI]=us("Toast",[Uk]),[Bk,ou]=Sx(wp),kx=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[u,d]=v.useState(0),h=v.useRef(!1),p=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${wp}\`. Expected non-empty \`string\`.`),a.jsx(bp.Provider,{scope:t,children:a.jsx(Bk,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>d(f=>f+1),[]),onToastRemove:v.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};kx.displayName=wp;var Nx="ToastViewport",Wk=["F8"],Eh="toast.viewportPause",Ch="toast.viewportResume",Ex=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Wk,label:s="Notifications ({hotkey})",...i}=e,o=ou(Nx,r),l=Fk(r),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),p=ct(t,h,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;v.useEffect(()=>{const m=x=>{var w;n.length!==0&&n.every(_=>x[_]||x.code===_)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),v.useEffect(()=>{const m=c.current,x=h.current;if(b&&m&&x){const y=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(Eh);x.dispatchEvent(N),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(Ch);x.dispatchEvent(N),o.isClosePausedRef.current=!1}},_=N=>{!m.contains(N.relatedTarget)&&w()},j=()=>{m.contains(document.activeElement)||w()};return m.addEventListener("focusin",y),m.addEventListener("focusout",_),m.addEventListener("pointermove",y),m.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{m.removeEventListener("focusin",y),m.removeEventListener("focusout",_),m.removeEventListener("pointermove",y),m.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[b,o.isClosePausedRef]);const g=v.useCallback(({tabbingDirection:m})=>{const y=l().map(w=>{const _=w.ref.current,j=[_,...r2(_)];return m==="forwards"?j:j.reverse()});return(m==="forwards"?y.reverse():y).flat()},[l]);return v.useEffect(()=>{const m=h.current;if(m){const x=y=>{var j,N,E;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const k=document.activeElement,R=y.shiftKey;if(y.target===m&&R){(j=u.current)==null||j.focus();return}const I=g({tabbingDirection:R?"backwards":"forwards"}),L=I.findIndex(z=>z===k);ad(I.slice(L+1))?y.preventDefault():R?(N=u.current)==null||N.focus():(E=d.current)==null||E.focus()}};return m.addEventListener("keydown",x),()=>m.removeEventListener("keydown",x)}},[l,g]),a.jsxs(Tk,{ref:c,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(Th,{ref:u,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"forwards"});ad(m)}}),a.jsx(bp.Slot,{scope:r,children:a.jsx(me.ol,{tabIndex:-1,...i,ref:p})}),b&&a.jsx(Th,{ref:d,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"backwards"});ad(m)}})]})});Ex.displayName=Nx;var Cx="ToastFocusProxy",Th=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=ou(Cx,r);return a.jsx(iu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});Th.displayName=Cx;var Fa="Toast",qk="toast.swipeStart",Vk="toast.swipeMove",Hk="toast.swipeCancel",Kk="toast.swipeEnd",Tx=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=$a({prop:n,defaultProp:s??!0,onChange:i,caller:Fa});return a.jsx(ei,{present:r||l,children:a.jsx(Yk,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ar(e.onPause),onResume:ar(e.onResume),onSwipeStart:ce(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ce(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ce(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ce(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Tx.displayName=Fa;var[Gk,Qk]=Sx(Fa,{onClose(){}}),Yk=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...b}=e,g=ou(Fa,r),[m,x]=v.useState(null),y=ct(t,z=>x(z)),w=v.useRef(null),_=v.useRef(null),j=s||g.duration,N=v.useRef(0),E=v.useRef(j),k=v.useRef(0),{onToastAdd:R,onToastRemove:C}=g,F=ar(()=>{var $;(m==null?void 0:m.contains(document.activeElement))&&(($=g.viewport)==null||$.focus()),o()}),I=v.useCallback(z=>{!z||z===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout(F,z))},[F]);v.useEffect(()=>{const z=g.viewport;if(z){const $=()=>{I(E.current),u==null||u()},W=()=>{const q=new Date().getTime()-N.current;E.current=E.current-q,window.clearTimeout(k.current),c==null||c()};return z.addEventListener(Eh,W),z.addEventListener(Ch,$),()=>{z.removeEventListener(Eh,W),z.removeEventListener(Ch,$)}}},[g.viewport,j,c,u,I]),v.useEffect(()=>{i&&!g.isClosePausedRef.current&&I(j)},[i,j,g.isClosePausedRef,I]),v.useEffect(()=>(R(),()=>C()),[R,C]);const L=v.useMemo(()=>m?Dx(m):null,[m]);return g.viewport?a.jsxs(a.Fragment,{children:[L&&a.jsx(Jk,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),a.jsx(Gk,{scope:r,onClose:F,children:Ma.createPortal(a.jsx(bp.ItemSlot,{scope:r,children:a.jsx(Ck,{asChild:!0,onEscapeKeyDown:ce(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||F(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ce(e.onKeyDown,z=>{z.key==="Escape"&&(l==null||l(z.nativeEvent),z.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:ce(e.onPointerDown,z=>{z.button===0&&(w.current={x:z.clientX,y:z.clientY})}),onPointerMove:ce(e.onPointerMove,z=>{if(!w.current)return;const $=z.clientX-w.current.x,W=z.clientY-w.current.y,q=!!_.current,P=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,M=P?T(0,$):0,Y=P?0:T(0,W),O=z.pointerType==="touch"?10:2,V={x:M,y:Y},re={originalEvent:z,delta:V};q?(_.current=V,gl(Vk,h,re,{discrete:!1})):jg(V,g.swipeDirection,O)?(_.current=V,gl(qk,d,re,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs($)>O||Math.abs(W)>O)&&(w.current=null)}),onPointerUp:ce(e.onPointerUp,z=>{const $=_.current,W=z.target;if(W.hasPointerCapture(z.pointerId)&&W.releasePointerCapture(z.pointerId),_.current=null,w.current=null,$){const q=z.currentTarget,P={originalEvent:z,delta:$};jg($,g.swipeDirection,g.swipeThreshold)?gl(Kk,f,P,{discrete:!0}):gl(Hk,p,P,{discrete:!0}),q.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Jk=e=>{const{__scopeToast:t,children:r,...n}=e,s=ou(Fa,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return e2(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(xp,{asChild:!0,children:a.jsx(iu,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},Zk="ToastTitle",Px=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(me.div,{...n,ref:t})});Px.displayName=Zk;var Xk="ToastDescription",Rx=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(me.div,{...n,ref:t})});Rx.displayName=Xk;var Ox="ToastAction",Ax=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(zx,{altText:r,asChild:!0,children:a.jsx(_p,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ox}\`. Expected non-empty \`string\`.`),null)});Ax.displayName=Ox;var Ix="ToastClose",_p=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=Qk(Ix,r);return a.jsx(zx,{asChild:!0,children:a.jsx(me.button,{type:"button",...n,ref:t,onClick:ce(e.onClick,s.onClose)})})});_p.displayName=Ix;var zx=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function Dx(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),t2(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Dx(n))}}),t}function gl(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?wx(s,i):s.dispatchEvent(i)}var jg=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function e2(e=()=>{}){const t=ar(e);lr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function t2(e){return e.nodeType===e.ELEMENT_NODE}function r2(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ad(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var n2=kx,Lx=Ex,Mx=Tx,$x=Px,Fx=Rx,Ux=Ax,Bx=_p;function Wx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Wx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qx(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Wx(e))&&(n&&(n+=" "),n+=t);return n}const Sg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,kg=qx,Ua=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return kg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const p=Sg(d)||Sg(h);return s[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(b=>{let[g,m]=b;return Array.isArray(m)?m.includes({...i,...l}[g]):{...i,...l}[g]===m})?[...u,h,p]:u},[]);return kg(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vx=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...i2,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Vx("lucide",s),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const r=v.forwardRef(({className:n,...s},i)=>v.createElement(o2,{ref:i,iconNode:t,className:Vx(`lucide-${s2(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=de("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=de("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=de("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=de("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=de("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=de("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=de("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=de("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=de("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=de("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=de("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=de("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=de("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kp="-",w2=e=>{const t=_2(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(kp);return l[0]===""&&l.length!==1&&l.shift(),Zx(l,t)||b2(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Zx=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Zx(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(kp);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Eg=/^\[(.+)\]$/,b2=e=>{if(Eg.test(e)){const t=Eg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},_2=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return S2(Object.entries(e.classGroups),r).forEach(([i,o])=>{Rh(o,n,i,t)}),n},Rh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Cg(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(j2(s)){Rh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Rh(o,Cg(t,i),r,n)})})},Cg=(e,t)=>{let r=e;return t.split(kp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},j2=e=>e.isThemeGetter,S2=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,k2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},Xx="!",N2=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let m=0;m<l.length;m++){let x=l[m];if(u===0){if(x===s&&(n||l.slice(m,m+i)===t)){c.push(l.slice(d,m)),d=m+i;continue}if(x==="/"){h=m;continue}}x==="["?u++:x==="]"&&u--}const p=c.length===0?l:l.substring(d),f=p.startsWith(Xx),b=f?p.substring(1):p,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:b,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},E2=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},C2=e=>({cache:k2(e.cacheSize),parseClassName:N2(e),...w2(e)}),T2=/\s+/,P2=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(T2);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=r(u);let b=!!f,g=n(b?p.substring(0,f):p);if(!g){if(!b){l=u+(l.length>0?" "+l:l);continue}if(g=n(p),!g){l=u+(l.length>0?" "+l:l);continue}b=!1}const m=E2(d).join(":"),x=h?m+Xx:m,y=x+g;if(i.includes(y))continue;i.push(y);const w=s(g,b);for(let _=0;_<w.length;++_){const j=w[_];i.push(x+j)}l=u+(l.length>0?" "+l:l)}return l};function R2(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=ew(t))&&(n&&(n+=" "),n+=r);return n}const ew=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=ew(e[n]))&&(r&&(r+=" "),r+=t);return r};function O2(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=C2(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=P2(c,r);return s(c,d),d}return function(){return i(R2.apply(null,arguments))}}const ke=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},tw=/^\[(?:([a-z-]+):)?(.+)\]$/i,A2=/^\d+\/\d+$/,I2=new Set(["px","full","screen"]),z2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,D2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,M2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kr=e=>Ai(e)||I2.has(e)||A2.test(e),bn=e=>ho(e,"length",K2),Ai=e=>!!e&&!Number.isNaN(Number(e)),ld=e=>ho(e,"number",Ai),Oo=e=>!!e&&Number.isInteger(Number(e)),F2=e=>e.endsWith("%")&&Ai(e.slice(0,-1)),ne=e=>tw.test(e),_n=e=>z2.test(e),U2=new Set(["length","size","percentage"]),B2=e=>ho(e,U2,rw),W2=e=>ho(e,"position",rw),q2=new Set(["image","url"]),V2=e=>ho(e,q2,Q2),H2=e=>ho(e,"",G2),Ao=()=>!0,ho=(e,t,r)=>{const n=tw.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},K2=e=>D2.test(e)&&!L2.test(e),rw=()=>!1,G2=e=>M2.test(e),Q2=e=>$2.test(e),Y2=()=>{const e=ke("colors"),t=ke("spacing"),r=ke("blur"),n=ke("brightness"),s=ke("borderColor"),i=ke("borderRadius"),o=ke("borderSpacing"),l=ke("borderWidth"),c=ke("contrast"),u=ke("grayscale"),d=ke("hueRotate"),h=ke("invert"),p=ke("gap"),f=ke("gradientColorStops"),b=ke("gradientColorStopPositions"),g=ke("inset"),m=ke("margin"),x=ke("opacity"),y=ke("padding"),w=ke("saturate"),_=ke("scale"),j=ke("sepia"),N=ke("skew"),E=ke("space"),k=ke("translate"),R=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",ne,t],I=()=>[ne,t],L=()=>["",Kr,bn],z=()=>["auto",Ai,ne],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",ne],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Ai,ne];return{cacheSize:500,separator:":",theme:{colors:[Ao],spacing:[Kr,bn],blur:["none","",_n,ne],brightness:Y(),borderColor:[e],borderRadius:["none","","full",_n,ne],borderSpacing:I(),borderWidth:L(),contrast:Y(),grayscale:T(),hueRotate:Y(),invert:T(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[F2,bn],inset:F(),margin:F(),opacity:Y(),padding:I(),saturate:Y(),scale:Y(),sepia:T(),skew:Y(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ne]}],container:["container"],columns:[{columns:[_n]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),ne]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oo,ne]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ne]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",Oo,ne]}],"grid-cols":[{"grid-cols":[Ao]}],"col-start-end":[{col:["auto",{span:["full",Oo,ne]},ne]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Ao]}],"row-start-end":[{row:["auto",{span:[Oo,ne]},ne]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ne]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ne,t]}],"min-w":[{"min-w":[ne,t,"min","max","fit"]}],"max-w":[{"max-w":[ne,t,"none","full","min","max","fit","prose",{screen:[_n]},_n]}],h:[{h:[ne,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ne,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ne,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ne,t,"auto","min","max","fit"]}],"font-size":[{text:["base",_n,bn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ld]}],"font-family":[{font:[Ao]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ne]}],"line-clamp":[{"line-clamp":["none",Ai,ld]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kr,ne]}],"list-image":[{"list-image":["none",ne]}],"list-style-type":[{list:["none","disc","decimal",ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kr,bn]}],"underline-offset":[{"underline-offset":["auto",Kr,ne]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),W2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",B2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},V2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Kr,ne]}],"outline-w":[{outline:[Kr,bn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Kr,bn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_n,H2]}],"shadow-color":[{shadow:[Ao]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",_n,ne]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ne]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",ne]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Oo,ne]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ne]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Kr,bn,ld]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J2=O2(Y2);function ve(...e){return J2(qx(e))}const Z2=n2,nw=v.forwardRef(({className:e,...t},r)=>a.jsx(Lx,{ref:r,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));nw.displayName=Lx.displayName;const X2=Ua("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sw=v.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(Mx,{ref:n,className:ve(X2({variant:t}),e),...r}));sw.displayName=Mx.displayName;const eN=v.forwardRef(({className:e,...t},r)=>a.jsx(Ux,{ref:r,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));eN.displayName=Ux.displayName;const iw=v.forwardRef(({className:e,...t},r)=>a.jsx(Bx,{ref:r,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(va,{className:"h-4 w-4"})}));iw.displayName=Bx.displayName;const ow=v.forwardRef(({className:e,...t},r)=>a.jsx($x,{ref:r,className:ve("text-sm font-semibold",e),...t}));ow.displayName=$x.displayName;const aw=v.forwardRef(({className:e,...t},r)=>a.jsx(Fx,{ref:r,className:ve("text-sm opacity-90",e),...t}));aw.displayName=Fx.displayName;function tN(){const{toasts:e}=qr();return a.jsxs(Z2,{children:[e.map(function({id:t,title:r,description:n,action:s,...i}){return a.jsxs(sw,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(ow,{children:r}),n&&a.jsx(aw,{children:n})]}),s,a.jsx(iw,{})]},t)}),a.jsx(nw,{})]})}var Tg=["light","dark"],rN="(prefers-color-scheme: dark)",nN=v.createContext(void 0),sN={setTheme:e=>{},themes:[]},iN=()=>{var e;return(e=v.useContext(nN))!=null?e:sN};v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?Tg.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,g=!1,m=!0)=>{let x=o?o[b]:b,y=g?b+"|| ''":`'${x}'`,w="";return s&&m&&!g&&Tg.includes(b)&&(w+=`d.style.colorScheme = '${b}';`),r==="class"?g||x?w+=`c.add(${y})`:w+="null":x&&(w+=`d[s](n,${y})`),w},f=e?`!function(){${d}${p(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${rN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var oN=e=>{switch(e){case"success":return cN;case"info":return dN;case"warning":return uN;case"error":return hN;default:return null}},aN=Array(12).fill(0),lN=({visible:e,className:t})=>D.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},D.createElement("div",{className:"sonner-spinner"},aN.map((r,n)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),cN=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uN=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dN=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hN=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fN=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pN=()=>{let[e,t]=D.useState(document.hidden);return D.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Oh=1,mN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Oh++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],D.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(vN(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Oh++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},kt=new mN,gN=(e,t)=>{let r=(t==null?void 0:t.id)||Oh++;return kt.addToast({title:e,...t,id:r}),r},vN=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",yN=gN,xN=()=>kt.toasts,wN=()=>kt.getActiveToasts();Object.assign(yN,{success:kt.success,info:kt.info,warning:kt.warning,error:kt.error,custom:kt.custom,message:kt.message,promise:kt.promise,dismiss:kt.dismiss,loading:kt.loading},{getHistory:xN,getToasts:wN});function bN(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}bN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function vl(e){return e.label!==void 0}var _N=3,jN="32px",SN="16px",Pg=4e3,kN=356,NN=14,EN=20,CN=200;function pr(...e){return e.filter(Boolean).join(" ")}function TN(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var PN=e=>{var t,r,n,s,i,o,l,c,u,d,h;let{invert:p,toast:f,unstyled:b,interacting:g,setHeights:m,visibleToasts:x,heights:y,index:w,toasts:_,expanded:j,removeToast:N,defaultRichColors:E,closeButton:k,style:R,cancelButtonStyle:C,actionButtonStyle:F,className:I="",descriptionClassName:L="",duration:z,position:$,gap:W,loadingIcon:q,expandByDefault:P,classNames:T,icons:M,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:O}=e,[V,re]=D.useState(null),[he,Se]=D.useState(null),[J,Z]=D.useState(!1),[Ze,Xe]=D.useState(!1),[bt,cr]=D.useState(!1),[ur,ti]=D.useState(!1),[bo,dr]=D.useState(!1),[Cr,It]=D.useState(0),[_t,ps]=D.useState(0),ms=D.useRef(f.duration||z||Pg),ri=D.useRef(null),Tr=D.useRef(null),be=w===0,Eu=w+1<=x,Ke=f.type,ye=f.dismissible!==!1,Cu=f.className||"",Tu=f.descriptionClassName||"",Hr=D.useMemo(()=>y.findIndex(ee=>ee.toastId===f.id)||0,[y,f.id]),gn=D.useMemo(()=>{var ee;return(ee=f.closeButton)!=null?ee:k},[f.closeButton,k]),_o=D.useMemo(()=>f.duration||z||Pg,[f.duration,z]),gs=D.useRef(0),vn=D.useRef(0),Ga=D.useRef(0),Pr=D.useRef(null),[Pu,Ru]=$.split("-"),Qa=D.useMemo(()=>y.reduce((ee,le,xe)=>xe>=Hr?ee:ee+le.height,0),[y,Hr]),jo=pN(),Ya=f.invert||p,H=Ke==="loading";vn.current=D.useMemo(()=>Hr*W+Qa,[Hr,Qa]),D.useEffect(()=>{ms.current=_o},[_o]),D.useEffect(()=>{Z(!0)},[]),D.useEffect(()=>{let ee=Tr.current;if(ee){let le=ee.getBoundingClientRect().height;return ps(le),m(xe=>[{toastId:f.id,height:le,position:f.position},...xe]),()=>m(xe=>xe.filter(zt=>zt.toastId!==f.id))}},[m,f.id]),D.useLayoutEffect(()=>{if(!J)return;let ee=Tr.current,le=ee.style.height;ee.style.height="auto";let xe=ee.getBoundingClientRect().height;ee.style.height=le,ps(xe),m(zt=>zt.find(Gt=>Gt.toastId===f.id)?zt.map(Gt=>Gt.toastId===f.id?{...Gt,height:xe}:Gt):[{toastId:f.id,height:xe,position:f.position},...zt])},[J,f.title,f.description,m,f.id]);let Ce=D.useCallback(()=>{Xe(!0),It(vn.current),m(ee=>ee.filter(le=>le.toastId!==f.id)),setTimeout(()=>{N(f)},CN)},[f,N,m,vn]);D.useEffect(()=>{if(f.promise&&Ke==="loading"||f.duration===1/0||f.type==="loading")return;let ee;return j||g||O&&jo?(()=>{if(Ga.current<gs.current){let le=new Date().getTime()-gs.current;ms.current=ms.current-le}Ga.current=new Date().getTime()})():ms.current!==1/0&&(gs.current=new Date().getTime(),ee=setTimeout(()=>{var le;(le=f.onAutoClose)==null||le.call(f,f),Ce()},ms.current)),()=>clearTimeout(ee)},[j,g,f,Ke,O,jo,Ce]),D.useEffect(()=>{f.delete&&Ce()},[Ce,f.delete]);function Rr(){var ee,le,xe;return M!=null&&M.loading?D.createElement("div",{className:pr(T==null?void 0:T.loader,(ee=f==null?void 0:f.classNames)==null?void 0:ee.loader,"sonner-loader"),"data-visible":Ke==="loading"},M.loading):q?D.createElement("div",{className:pr(T==null?void 0:T.loader,(le=f==null?void 0:f.classNames)==null?void 0:le.loader,"sonner-loader"),"data-visible":Ke==="loading"},q):D.createElement(lN,{className:pr(T==null?void 0:T.loader,(xe=f==null?void 0:f.classNames)==null?void 0:xe.loader),visible:Ke==="loading"})}return D.createElement("li",{tabIndex:0,ref:Tr,className:pr(I,Cu,T==null?void 0:T.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[Ke],(r=f==null?void 0:f.classNames)==null?void 0:r[Ke]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:E,"data-styled":!(f.jsx||f.unstyled||b),"data-mounted":J,"data-promise":!!f.promise,"data-swiped":bo,"data-removed":Ze,"data-visible":Eu,"data-y-position":Pu,"data-x-position":Ru,"data-index":w,"data-front":be,"data-swiping":bt,"data-dismissible":ye,"data-type":Ke,"data-invert":Ya,"data-swipe-out":ur,"data-swipe-direction":he,"data-expanded":!!(j||P&&J),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${Ze?Cr:vn.current}px`,"--initial-height":P?"auto":`${_t}px`,...R,...f.style},onDragEnd:()=>{cr(!1),re(null),Pr.current=null},onPointerDown:ee=>{H||!ye||(ri.current=new Date,It(vn.current),ee.target.setPointerCapture(ee.pointerId),ee.target.tagName!=="BUTTON"&&(cr(!0),Pr.current={x:ee.clientX,y:ee.clientY}))},onPointerUp:()=>{var ee,le,xe,zt;if(ur||!ye)return;Pr.current=null;let Gt=Number(((ee=Tr.current)==null?void 0:ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),yn=Number(((le=Tr.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vs=new Date().getTime()-((xe=ri.current)==null?void 0:xe.getTime()),hr=V==="x"?Gt:yn,xn=Math.abs(hr)/vs;if(Math.abs(hr)>=EN||xn>.11){It(vn.current),(zt=f.onDismiss)==null||zt.call(f,f),Se(V==="x"?Gt>0?"right":"left":yn>0?"down":"up"),Ce(),ti(!0),dr(!1);return}cr(!1),re(null)},onPointerMove:ee=>{var le,xe,zt,Gt;if(!Pr.current||!ye||((le=window.getSelection())==null?void 0:le.toString().length)>0)return;let yn=ee.clientY-Pr.current.y,vs=ee.clientX-Pr.current.x,hr=(xe=e.swipeDirections)!=null?xe:TN($);!V&&(Math.abs(vs)>1||Math.abs(yn)>1)&&re(Math.abs(vs)>Math.abs(yn)?"x":"y");let xn={x:0,y:0};V==="y"?(hr.includes("top")||hr.includes("bottom"))&&(hr.includes("top")&&yn<0||hr.includes("bottom")&&yn>0)&&(xn.y=yn):V==="x"&&(hr.includes("left")||hr.includes("right"))&&(hr.includes("left")&&vs<0||hr.includes("right")&&vs>0)&&(xn.x=vs),(Math.abs(xn.x)>0||Math.abs(xn.y)>0)&&dr(!0),(zt=Tr.current)==null||zt.style.setProperty("--swipe-amount-x",`${xn.x}px`),(Gt=Tr.current)==null||Gt.style.setProperty("--swipe-amount-y",`${xn.y}px`)}},gn&&!f.jsx?D.createElement("button",{"aria-label":Y,"data-disabled":H,"data-close-button":!0,onClick:H||!ye?()=>{}:()=>{var ee;Ce(),(ee=f.onDismiss)==null||ee.call(f,f)},className:pr(T==null?void 0:T.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(i=M==null?void 0:M.close)!=null?i:fN):null,f.jsx||v.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:D.createElement(D.Fragment,null,Ke||f.icon||f.promise?D.createElement("div",{"data-icon":"",className:pr(T==null?void 0:T.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Rr():null,f.type!=="loading"?f.icon||(M==null?void 0:M[Ke])||oN(Ke):null):null,D.createElement("div",{"data-content":"",className:pr(T==null?void 0:T.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},D.createElement("div",{"data-title":"",className:pr(T==null?void 0:T.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?D.createElement("div",{"data-description":"",className:pr(L,Tu,T==null?void 0:T.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),v.isValidElement(f.cancel)?f.cancel:f.cancel&&vl(f.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||C,onClick:ee=>{var le,xe;vl(f.cancel)&&ye&&((xe=(le=f.cancel).onClick)==null||xe.call(le,ee),Ce())},className:pr(T==null?void 0:T.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,v.isValidElement(f.action)?f.action:f.action&&vl(f.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||F,onClick:ee=>{var le,xe;vl(f.action)&&((xe=(le=f.action).onClick)==null||xe.call(le,ee),!ee.defaultPrevented&&Ce())},className:pr(T==null?void 0:T.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function Rg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function RN(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?SN:jN;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var ON=v.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:b=_N,toastOptions:g,dir:m=Rg(),gap:x=NN,loadingIcon:y,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[N,E]=D.useState([]),k=D.useMemo(()=>Array.from(new Set([n].concat(N.filter(O=>O.position).map(O=>O.position)))),[N,n]),[R,C]=D.useState([]),[F,I]=D.useState(!1),[L,z]=D.useState(!1),[$,W]=D.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=D.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=D.useRef(null),M=D.useRef(!1),Y=D.useCallback(O=>{E(V=>{var re;return(re=V.find(he=>he.id===O.id))!=null&&re.delete||kt.dismiss(O.id),V.filter(({id:he})=>he!==O.id)})},[]);return D.useEffect(()=>kt.subscribe(O=>{if(O.dismiss){E(V=>V.map(re=>re.id===O.id?{...re,delete:!0}:re));return}setTimeout(()=>{mx.flushSync(()=>{E(V=>{let re=V.findIndex(he=>he.id===O.id);return re!==-1?[...V.slice(0,re),{...V[re],...O},...V.slice(re+1)]:[O,...V]})})})}),[]),D.useEffect(()=>{if(d!=="system"){W(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let O=window.matchMedia("(prefers-color-scheme: dark)");try{O.addEventListener("change",({matches:V})=>{W(V?"dark":"light")})}catch{O.addListener(({matches:re})=>{try{W(re?"dark":"light")}catch(he){console.error(he)}})}},[d]),D.useEffect(()=>{N.length<=1&&I(!1)},[N]),D.useEffect(()=>{let O=V=>{var re,he;s.every(Se=>V[Se]||V.code===Se)&&(I(!0),(re=q.current)==null||re.focus()),V.code==="Escape"&&(document.activeElement===q.current||(he=q.current)!=null&&he.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[s]),D.useEffect(()=>{if(q.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,M.current=!1)}},[q.current]),D.createElement("section",{ref:t,"aria-label":`${_} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((O,V)=>{var re;let[he,Se]=O.split("-");return N.length?D.createElement("ol",{key:O,dir:m==="auto"?Rg():m,tabIndex:-1,ref:q,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":he,"data-lifted":F&&N.length>1&&!i,"data-x-position":Se,style:{"--front-toast-height":`${((re=R[0])==null?void 0:re.height)||0}px`,"--width":`${kN}px`,"--gap":`${x}px`,...f,...RN(c,u)},onBlur:J=>{M.current&&!J.currentTarget.contains(J.relatedTarget)&&(M.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||M.current||(M.current=!0,T.current=J.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{L||I(!1)},onDragEnd:()=>I(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},N.filter(J=>!J.position&&V===0||J.position===O).map((J,Z)=>{var Ze,Xe;return D.createElement(PN,{key:J.id,icons:w,index:Z,toast:J,defaultRichColors:h,duration:(Ze=g==null?void 0:g.duration)!=null?Ze:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:b,closeButton:(Xe=g==null?void 0:g.closeButton)!=null?Xe:o,interacting:L,position:O,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Y,toasts:N.filter(bt=>bt.position==J.position),heights:R.filter(bt=>bt.position==J.position),setHeights:C,expandByDefault:i,gap:x,loadingIcon:y,expanded:F,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const AN=({...e})=>{const{theme:t="system"}=iN();return a.jsx(ON,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var IN=Cf[" useId ".trim().toString()]||(()=>{}),zN=0;function Ii(e){const[t,r]=v.useState(IN());return lr(()=>{e||r(n=>n??String(zN++))},[e]),e||(t?`radix-${t}`:"")}const DN=["top","right","bottom","left"],is=Math.min,Mt=Math.max,Sc=Math.round,yl=Math.floor,Br=e=>({x:e,y:e}),LN={left:"right",right:"left",bottom:"top",top:"bottom"},MN={start:"end",end:"start"};function Ah(e,t,r){return Mt(e,is(t,r))}function un(e,t){return typeof e=="function"?e(t):e}function dn(e){return e.split("-")[0]}function fo(e){return e.split("-")[1]}function Np(e){return e==="x"?"y":"x"}function Ep(e){return e==="y"?"height":"width"}const $N=new Set(["top","bottom"]);function $r(e){return $N.has(dn(e))?"y":"x"}function Cp(e){return Np($r(e))}function FN(e,t,r){r===void 0&&(r=!1);const n=fo(e),s=Cp(e),i=Ep(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=kc(o)),[o,kc(o)]}function UN(e){const t=kc(e);return[Ih(e),t,Ih(t)]}function Ih(e){return e.replace(/start|end/g,t=>MN[t])}const Og=["left","right"],Ag=["right","left"],BN=["top","bottom"],WN=["bottom","top"];function qN(e,t,r){switch(e){case"top":case"bottom":return r?t?Ag:Og:t?Og:Ag;case"left":case"right":return t?BN:WN;default:return[]}}function VN(e,t,r,n){const s=fo(e);let i=qN(dn(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Ih)))),i}function kc(e){return e.replace(/left|right|bottom|top/g,t=>LN[t])}function HN(e){return{top:0,right:0,bottom:0,left:0,...e}}function lw(e){return typeof e!="number"?HN(e):{top:e,right:e,bottom:e,left:e}}function Nc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Ig(e,t,r){let{reference:n,floating:s}=e;const i=$r(t),o=Cp(t),l=Ep(o),c=dn(t),u=i==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let f;switch(c){case"top":f={x:d,y:n.y-s.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-s.width,y:h};break;default:f={x:n.x,y:n.y}}switch(fo(t)){case"start":f[o]-=p*(r&&u?-1:1);break;case"end":f[o]+=p*(r&&u?-1:1);break}return f}const KN=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Ig(u,n,c),p=n,f={},b=0;for(let g=0;g<l.length;g++){const{name:m,fn:x}=l[g],{x:y,y:w,data:_,reset:j}=await x({x:d,y:h,initialPlacement:n,placement:p,strategy:s,middlewareData:f,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,h=w??h,f={...f,[m]:{...f[m],..._}},j&&b<=50&&(b++,typeof j=="object"&&(j.placement&&(p=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:h}=Ig(u,p,c)),g=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:f}};async function ya(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=un(t,e),b=lw(f),m=l[p?h==="floating"?"reference":"floating":h],x=Nc(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(m)))==null||r?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Nc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-j.top+b.top)/_.y,bottom:(j.bottom-x.bottom+b.bottom)/_.y,left:(x.left-j.left+b.left)/_.x,right:(j.right-x.right+b.right)/_.x}}const GN=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=un(e,t)||{};if(u==null)return{};const h=lw(d),p={x:r,y:n},f=Cp(s),b=Ep(f),g=await o.getDimensions(u),m=f==="y",x=m?"top":"left",y=m?"bottom":"right",w=m?"clientHeight":"clientWidth",_=i.reference[b]+i.reference[f]-p[f]-i.floating[b],j=p[f]-i.reference[f],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=N?N[w]:0;(!E||!await(o.isElement==null?void 0:o.isElement(N)))&&(E=l.floating[w]||i.floating[b]);const k=_/2-j/2,R=E/2-g[b]/2-1,C=is(h[x],R),F=is(h[y],R),I=C,L=E-g[b]-F,z=E/2-g[b]/2+k,$=Ah(I,z,L),W=!c.arrow&&fo(s)!=null&&z!==$&&i.reference[b]/2-(z<I?C:F)-g[b]/2<0,q=W?z<I?z-I:z-L:0;return{[f]:p[f]+q,data:{[f]:$,centerOffset:z-$-q,...W&&{alignmentOffset:q}},reset:W}}}),QN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...m}=un(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=dn(s),y=$r(l),w=dn(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=p||(w||!g?[kc(l)]:UN(l)),N=b!=="none";!p&&N&&j.push(...VN(l,g,b,_));const E=[l,...j],k=await ya(t,m),R=[];let C=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&R.push(k[x]),h){const z=FN(s,o,_);R.push(k[z[0]],k[z[1]])}if(C=[...C,{placement:s,overflows:R}],!R.every(z=>z<=0)){var F,I;const z=(((F=i.flip)==null?void 0:F.index)||0)+1,$=E[z];if($&&(!(h==="alignment"?y!==$r($):!1)||C.every(P=>P.overflows[0]>0&&$r(P.placement)===y)))return{data:{index:z,overflows:C},reset:{placement:$}};let W=(I=C.filter(q=>q.overflows[0]<=0).sort((q,P)=>q.overflows[1]-P.overflows[1])[0])==null?void 0:I.placement;if(!W)switch(f){case"bestFit":{var L;const q=(L=C.filter(P=>{if(N){const T=$r(P.placement);return T===y||T==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(T=>T>0).reduce((T,M)=>T+M,0)]).sort((P,T)=>P[1]-T[1])[0])==null?void 0:L[0];q&&(W=q);break}case"initialPlacement":W=l;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function zg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Dg(e){return DN.some(t=>e[t]>=0)}const YN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=un(e,t);switch(n){case"referenceHidden":{const i=await ya(t,{...s,elementContext:"reference"}),o=zg(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Dg(o)}}}case"escaped":{const i=await ya(t,{...s,altBoundary:!0}),o=zg(i,r.floating);return{data:{escapedOffsets:o,escaped:Dg(o)}}}default:return{}}}}},cw=new Set(["left","top"]);async function JN(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=dn(r),l=fo(r),c=$r(r)==="y",u=cw.has(o)?-1:1,d=i&&c?-1:1,h=un(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof b=="number"&&(f=l==="end"?b*-1:b),c?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const ZN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await JN(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},XN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:m=>{let{x,y}=m;return{x,y}}},...c}=un(e,t),u={x:r,y:n},d=await ya(t,c),h=$r(dn(s)),p=Np(h);let f=u[p],b=u[h];if(i){const m=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=f+d[m],w=f-d[x];f=Ah(y,f,w)}if(o){const m=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=b+d[m],w=b-d[x];b=Ah(y,b,w)}const g=l.fn({...t,[p]:f,[h]:b});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[p]:i,[h]:o}}}}}},eE=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=un(e,t),d={x:r,y:n},h=$r(s),p=Np(h);let f=d[p],b=d[h];const g=un(l,t),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=p==="y"?"height":"width",_=i.reference[p]-i.floating[w]+m.mainAxis,j=i.reference[p]+i.reference[w]-m.mainAxis;f<_?f=_:f>j&&(f=j)}if(u){var x,y;const w=p==="y"?"width":"height",_=cw.has(dn(s)),j=i.reference[h]-i.floating[w]+(_&&((x=o.offset)==null?void 0:x[h])||0)+(_?0:m.crossAxis),N=i.reference[h]+i.reference[w]+(_?0:((y=o.offset)==null?void 0:y[h])||0)-(_?m.crossAxis:0);b<j?b=j:b>N&&(b=N)}return{[p]:f,[h]:b}}}},tE=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=un(e,t),d=await ya(t,u),h=dn(s),p=fo(s),f=$r(s)==="y",{width:b,height:g}=i.floating;let m,x;h==="top"||h==="bottom"?(m=h,x=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,m=p==="end"?"top":"bottom");const y=g-d.top-d.bottom,w=b-d.left-d.right,_=is(g-d[m],y),j=is(b-d[x],w),N=!t.middlewareData.shift;let E=_,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=y),N&&!p){const C=Mt(d.left,0),F=Mt(d.right,0),I=Mt(d.top,0),L=Mt(d.bottom,0);f?k=b-2*(C!==0||F!==0?C+F:Mt(d.left,d.right)):E=g-2*(I!==0||L!==0?I+L:Mt(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:E});const R=await o.getDimensions(l.floating);return b!==R.width||g!==R.height?{reset:{rects:!0}}:{}}}};function lu(){return typeof window<"u"}function po(e){return uw(e)?(e.nodeName||"").toLowerCase():"#document"}function Wt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vr(e){var t;return(t=(uw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uw(e){return lu()?e instanceof Node||e instanceof Wt(e).Node:!1}function kr(e){return lu()?e instanceof Element||e instanceof Wt(e).Element:!1}function Wr(e){return lu()?e instanceof HTMLElement||e instanceof Wt(e).HTMLElement:!1}function Lg(e){return!lu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wt(e).ShadowRoot}const rE=new Set(["inline","contents"]);function qa(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Nr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!rE.has(s)}const nE=new Set(["table","td","th"]);function sE(e){return nE.has(po(e))}const iE=[":popover-open",":modal"];function cu(e){return iE.some(t=>{try{return e.matches(t)}catch{return!1}})}const oE=["transform","translate","scale","rotate","perspective"],aE=["transform","translate","scale","rotate","perspective","filter"],lE=["paint","layout","strict","content"];function Tp(e){const t=Pp(),r=kr(e)?Nr(e):e;return oE.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||aE.some(n=>(r.willChange||"").includes(n))||lE.some(n=>(r.contain||"").includes(n))}function cE(e){let t=os(e);for(;Wr(t)&&!no(t);){if(Tp(t))return t;if(cu(t))return null;t=os(t)}return null}function Pp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uE=new Set(["html","body","#document"]);function no(e){return uE.has(po(e))}function Nr(e){return Wt(e).getComputedStyle(e)}function uu(e){return kr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function os(e){if(po(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Lg(e)&&e.host||Vr(e);return Lg(t)?t.host:t}function dw(e){const t=os(e);return no(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wr(t)&&qa(t)?t:dw(t)}function xa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=dw(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Wt(s);if(i){const l=zh(o);return t.concat(o,o.visualViewport||[],qa(s)?s:[],l&&r?xa(l):[])}return t.concat(s,xa(s,[],r))}function zh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hw(e){const t=Nr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Wr(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Sc(r)!==i||Sc(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Rp(e){return kr(e)?e:e.contextElement}function zi(e){const t=Rp(e);if(!Wr(t))return Br(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=hw(t);let o=(i?Sc(r.width):r.width)/n,l=(i?Sc(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const dE=Br(0);function fw(e){const t=Wt(e);return!Pp()||!t.visualViewport?dE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hE(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Wt(e)?!1:t}function Gs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Rp(e);let o=Br(1);t&&(n?kr(n)&&(o=zi(n)):o=zi(e));const l=hE(i,r,n)?fw(i):Br(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=Wt(i),f=n&&kr(n)?Wt(n):n;let b=p,g=zh(b);for(;g&&n&&f!==b;){const m=zi(g),x=g.getBoundingClientRect(),y=Nr(g),w=x.left+(g.clientLeft+parseFloat(y.paddingLeft))*m.x,_=x.top+(g.clientTop+parseFloat(y.paddingTop))*m.y;c*=m.x,u*=m.y,d*=m.x,h*=m.y,c+=w,u+=_,b=Wt(g),g=zh(b)}}return Nc({width:d,height:h,x:c,y:u})}function Op(e,t){const r=uu(e).scrollLeft;return t?t.left+r:Gs(Vr(e)).left+r}function pw(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Op(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function fE(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Vr(n),l=t?cu(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Br(1);const d=Br(0),h=Wr(n);if((h||!h&&!i)&&((po(n)!=="body"||qa(o))&&(c=uu(n)),Wr(n))){const f=Gs(n);u=zi(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const p=o&&!h&&!i?pw(o,c,!0):Br(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function pE(e){return Array.from(e.getClientRects())}function mE(e){const t=Vr(e),r=uu(e),n=e.ownerDocument.body,s=Mt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Mt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Op(e);const l=-r.scrollTop;return Nr(n).direction==="rtl"&&(o+=Mt(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function gE(e,t){const r=Wt(e),n=Vr(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=Pp();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}const vE=new Set(["absolute","fixed"]);function yE(e,t){const r=Gs(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Wr(e)?zi(e):Br(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function Mg(e,t,r){let n;if(t==="viewport")n=gE(e,r);else if(t==="document")n=mE(Vr(e));else if(kr(t))n=yE(t,r);else{const s=fw(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Nc(n)}function mw(e,t){const r=os(e);return r===t||!kr(r)||no(r)?!1:Nr(r).position==="fixed"||mw(r,t)}function xE(e,t){const r=t.get(e);if(r)return r;let n=xa(e,[],!1).filter(l=>kr(l)&&po(l)!=="body"),s=null;const i=Nr(e).position==="fixed";let o=i?os(e):e;for(;kr(o)&&!no(o);){const l=Nr(o),c=Tp(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&vE.has(s.position)||qa(o)&&!c&&mw(e,o))?n=n.filter(d=>d!==o):s=l,o=os(o)}return t.set(e,n),n}function wE(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?cu(t)?[]:xE(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=Mg(t,d,s);return u.top=Mt(h.top,u.top),u.right=is(h.right,u.right),u.bottom=is(h.bottom,u.bottom),u.left=Mt(h.left,u.left),u},Mg(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bE(e){const{width:t,height:r}=hw(e);return{width:t,height:r}}function _E(e,t,r){const n=Wr(t),s=Vr(t),i=r==="fixed",o=Gs(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Br(0);function u(){c.x=Op(s)}if(n||!n&&!i)if((po(t)!=="body"||qa(s))&&(l=uu(t)),n){const f=Gs(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?pw(s,l):Br(0),h=o.left+l.scrollLeft-c.x-d.x,p=o.top+l.scrollTop-c.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function cd(e){return Nr(e).position==="static"}function $g(e,t){if(!Wr(e)||Nr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Vr(e)===r&&(r=r.ownerDocument.body),r}function gw(e,t){const r=Wt(e);if(cu(e))return r;if(!Wr(e)){let s=os(e);for(;s&&!no(s);){if(kr(s)&&!cd(s))return s;s=os(s)}return r}let n=$g(e,t);for(;n&&sE(n)&&cd(n);)n=$g(n,t);return n&&no(n)&&cd(n)&&!Tp(n)?r:n||cE(e)||r}const jE=async function(e){const t=this.getOffsetParent||gw,r=this.getDimensions,n=await r(e.floating);return{reference:_E(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function SE(e){return Nr(e).direction==="rtl"}const kE={convertOffsetParentRelativeRectToViewportRelativeRect:fE,getDocumentElement:Vr,getClippingRect:wE,getOffsetParent:gw,getElementRects:jE,getClientRects:pE,getDimensions:bE,getScale:zi,isElement:kr,isRTL:SE};function vw(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function NE(e,t){let r=null,n;const s=Vr(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=u;if(l||t(),!p||!f)return;const b=yl(h),g=yl(s.clientWidth-(d+p)),m=yl(s.clientHeight-(h+f)),x=yl(d),w={rootMargin:-b+"px "+-g+"px "+-m+"px "+-x+"px",threshold:Mt(0,is(1,c))||1};let _=!0;function j(N){const E=N[0].intersectionRatio;if(E!==c){if(!_)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!vw(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function EE(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Rp(e),d=s||i?[...u?xa(u):[],...xa(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const h=u&&l?NE(u,r):null;let p=-1,f=null;o&&(f=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),r()}),u&&!c&&f.observe(u),f.observe(t));let b,g=c?Gs(e):null;c&&m();function m(){const x=Gs(e);g&&!vw(g,x)&&r(),g=x,b=requestAnimationFrame(m)}return r(),()=>{var x;d.forEach(y=>{s&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),h==null||h(),(x=f)==null||x.disconnect(),f=null,c&&cancelAnimationFrame(b)}}const CE=ZN,TE=XN,PE=QN,RE=tE,OE=YN,Fg=GN,AE=eE,IE=(e,t,r)=>{const n=new Map,s={platform:kE,...r},i={...s.platform,_c:n};return KN(e,t,{...s,platform:i})};var zE=typeof document<"u",DE=function(){},Kl=zE?v.useLayoutEffect:DE;function Ec(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ec(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Ec(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function yw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ug(e,t){const r=yw(e);return Math.round(t*r)/r}function ud(e){const t=v.useRef(e);return Kl(()=>{t.current=e}),t}function LE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=v.useState(n);Ec(p,n)||f(n);const[b,g]=v.useState(null),[m,x]=v.useState(null),y=v.useCallback(P=>{P!==N.current&&(N.current=P,g(P))},[]),w=v.useCallback(P=>{P!==E.current&&(E.current=P,x(P))},[]),_=i||b,j=o||m,N=v.useRef(null),E=v.useRef(null),k=v.useRef(d),R=c!=null,C=ud(c),F=ud(s),I=ud(u),L=v.useCallback(()=>{if(!N.current||!E.current)return;const P={placement:t,strategy:r,middleware:p};F.current&&(P.platform=F.current),IE(N.current,E.current,P).then(T=>{const M={...T,isPositioned:I.current!==!1};z.current&&!Ec(k.current,M)&&(k.current=M,Ma.flushSync(()=>{h(M)}))})},[p,t,r,F,I]);Kl(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(P=>({...P,isPositioned:!1})))},[u]);const z=v.useRef(!1);Kl(()=>(z.current=!0,()=>{z.current=!1}),[]),Kl(()=>{if(_&&(N.current=_),j&&(E.current=j),_&&j){if(C.current)return C.current(_,j,L);L()}},[_,j,L,C,R]);const $=v.useMemo(()=>({reference:N,floating:E,setReference:y,setFloating:w}),[y,w]),W=v.useMemo(()=>({reference:_,floating:j}),[_,j]),q=v.useMemo(()=>{const P={position:r,left:0,top:0};if(!W.floating)return P;const T=Ug(W.floating,d.x),M=Ug(W.floating,d.y);return l?{...P,transform:"translate("+T+"px, "+M+"px)",...yw(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:M}},[r,l,W.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:L,refs:$,elements:W,floatingStyles:q}),[d,L,$,W,q])}const ME=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Fg({element:n.current,padding:s}).fn(r):{}:n?Fg({element:n,padding:s}).fn(r):{}}}},$E=(e,t)=>({...CE(e),options:[e,t]}),FE=(e,t)=>({...TE(e),options:[e,t]}),UE=(e,t)=>({...AE(e),options:[e,t]}),BE=(e,t)=>({...PE(e),options:[e,t]}),WE=(e,t)=>({...RE(e),options:[e,t]}),qE=(e,t)=>({...OE(e),options:[e,t]}),VE=(e,t)=>({...ME(e),options:[e,t]});var HE="Arrow",xw=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(me.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});xw.displayName=HE;var KE=xw;function GE(e){const[t,r]=v.useState(void 0);return lr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Ap="Popper",[ww,bw]=us(Ap),[QE,_w]=ww(Ap),jw=e=>{const{__scopePopper:t,children:r}=e,[n,s]=v.useState(null);return a.jsx(QE,{scope:t,anchor:n,onAnchorChange:s,children:r})};jw.displayName=Ap;var Sw="PopperAnchor",kw=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=_w(Sw,r),o=v.useRef(null),l=ct(t,o);return v.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(me.div,{...s,ref:l})});kw.displayName=Sw;var Ip="PopperContent",[YE,JE]=ww(Ip),Nw=v.forwardRef((e,t)=>{var J,Z,Ze,Xe,bt,cr;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:b,...g}=e,m=_w(Ip,r),[x,y]=v.useState(null),w=ct(t,ur=>y(ur)),[_,j]=v.useState(null),N=GE(_),E=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,R=n+(i!=="center"?"-"+i:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],I=F.length>0,L={padding:C,boundary:F.filter(XE),altBoundary:I},{refs:z,floatingStyles:$,placement:W,isPositioned:q,middlewareData:P}=LE({strategy:"fixed",placement:R,whileElementsMounted:(...ur)=>EE(...ur,{animationFrame:f==="always"}),elements:{reference:m.anchor},middleware:[$E({mainAxis:s+k,alignmentAxis:o}),c&&FE({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?UE():void 0,...L}),c&&BE({...L}),WE({...L,apply:({elements:ur,rects:ti,availableWidth:bo,availableHeight:dr})=>{const{width:Cr,height:It}=ti.reference,_t=ur.floating.style;_t.setProperty("--radix-popper-available-width",`${bo}px`),_t.setProperty("--radix-popper-available-height",`${dr}px`),_t.setProperty("--radix-popper-anchor-width",`${Cr}px`),_t.setProperty("--radix-popper-anchor-height",`${It}px`)}}),_&&VE({element:_,padding:l}),eC({arrowWidth:E,arrowHeight:k}),p&&qE({strategy:"referenceHidden",...L})]}),[T,M]=Tw(W),Y=ar(b);lr(()=>{q&&(Y==null||Y())},[q,Y]);const O=(J=P.arrow)==null?void 0:J.x,V=(Z=P.arrow)==null?void 0:Z.y,re=((Ze=P.arrow)==null?void 0:Ze.centerOffset)!==0,[he,Se]=v.useState();return lr(()=>{x&&Se(window.getComputedStyle(x).zIndex)},[x]),a.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:q?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Xe=P.transformOrigin)==null?void 0:Xe.x,(bt=P.transformOrigin)==null?void 0:bt.y].join(" "),...((cr=P.hide)==null?void 0:cr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(YE,{scope:r,placedSide:T,onArrowChange:j,arrowX:O,arrowY:V,shouldHideArrow:re,children:a.jsx(me.div,{"data-side":T,"data-align":M,...g,ref:w,style:{...g.style,animation:q?void 0:"none"}})})})});Nw.displayName=Ip;var Ew="PopperArrow",ZE={top:"bottom",right:"left",bottom:"top",left:"right"},Cw=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=JE(Ew,n),o=ZE[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(KE,{...s,ref:r,style:{...s.style,display:"block"}})})});Cw.displayName=Ew;function XE(e){return e!==null}var eC=e=>({name:"transformOrigin",options:e,fn(t){var m,x,y;const{placement:r,rects:n,middlewareData:s}=t,o=((m=s.arrow)==null?void 0:m.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=Tw(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,f=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let b="",g="";return u==="bottom"?(b=o?h:`${p}px`,g=`${-c}px`):u==="top"?(b=o?h:`${p}px`,g=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,g=o?h:`${f}px`):u==="left"&&(b=`${n.floating.width+c}px`,g=o?h:`${f}px`),{data:{x:b,y:g}}}});function Tw(e){const[t,r="center"]=e.split("-");return[t,r]}var tC=jw,rC=kw,nC=Nw,sC=Cw,[du,AI]=us("Tooltip",[bw]),hu=bw(),Pw="TooltipProvider",iC=700,Dh="tooltip.open",[oC,zp]=du(Pw),Rw=e=>{const{__scopeTooltip:t,delayDuration:r=iC,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,o=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(oC,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};Rw.displayName=Pw;var wa="Tooltip",[aC,fu]=du(wa),Ow=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=zp(wa,e.__scopeTooltip),u=hu(t),[d,h]=v.useState(null),p=Ii(),f=v.useRef(0),b=o??c.disableHoverableContent,g=l??c.delayDuration,m=v.useRef(!1),[x,y]=$a({prop:n,defaultProp:s??!1,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(Dh))):c.onClose(),i==null||i(E)},caller:wa}),w=v.useMemo(()=>x?m.current?"delayed-open":"instant-open":"closed",[x]),_=v.useCallback(()=>{window.clearTimeout(f.current),f.current=0,m.current=!1,y(!0)},[y]),j=v.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y(!1)},[y]),N=v.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{m.current=!0,y(!0),f.current=0},g)},[g,y]);return v.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),a.jsx(tC,{...u,children:a.jsx(aC,{scope:t,contentId:p,open:x,stateAttribute:w,trigger:d,onTriggerChange:h,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayedRef.current?N():_()},[c.isOpenDelayedRef,N,_]),onTriggerLeave:v.useCallback(()=>{b?j():(window.clearTimeout(f.current),f.current=0)},[j,b]),onOpen:_,onClose:j,disableHoverableContent:b,children:r})})};Ow.displayName=wa;var Lh="TooltipTrigger",Aw=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=fu(Lh,r),i=zp(Lh,r),o=hu(r),l=v.useRef(null),c=ct(t,l,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(rC,{asChild:!0,...o,children:a.jsx(me.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ce(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ce(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ce(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ce(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ce(e.onBlur,s.onClose),onClick:ce(e.onClick,s.onClose)})})});Aw.displayName=Lh;var lC="TooltipPortal",[II,cC]=du(lC,{forceMount:void 0}),so="TooltipContent",Iw=v.forwardRef((e,t)=>{const r=cC(so,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=fu(so,e.__scopeTooltip);return a.jsx(ei,{present:n||o.open,children:o.disableHoverableContent?a.jsx(zw,{side:s,...i,ref:t}):a.jsx(uC,{side:s,...i,ref:t})})}),uC=v.forwardRef((e,t)=>{const r=fu(so,e.__scopeTooltip),n=zp(so,e.__scopeTooltip),s=v.useRef(null),i=ct(t,s),[o,l]=v.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,p=v.useCallback(()=>{l(null),h(!1)},[h]),f=v.useCallback((b,g)=>{const m=b.currentTarget,x={x:b.clientX,y:b.clientY},y=mC(x,m.getBoundingClientRect()),w=gC(x,y),_=vC(g.getBoundingClientRect()),j=xC([...w,..._]);l(j),h(!0)},[h]);return v.useEffect(()=>()=>p(),[p]),v.useEffect(()=>{if(c&&d){const b=m=>f(m,d),g=m=>f(m,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",g)}}},[c,d,f,p]),v.useEffect(()=>{if(o){const b=g=>{const m=g.target,x={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(m))||(d==null?void 0:d.contains(m)),w=!yC(x,o);y?p():w&&(p(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,o,u,p]),a.jsx(zw,{...e,ref:i})}),[dC,hC]=du(wa,{isInside:!1}),fC=gk("TooltipContent"),zw=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=fu(so,r),u=hu(r),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(Dh,d),()=>document.removeEventListener(Dh,d)),[d]),v.useEffect(()=>{if(c.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),a.jsx(su,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:a.jsxs(nC,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(fC,{children:n}),a.jsx(dC,{scope:r,isInside:!0,children:a.jsx($k,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Iw.displayName=so;var Dw="TooltipArrow",pC=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=hu(r);return hC(Dw,r).isInside?null:a.jsx(sC,{...s,...n,ref:t})});pC.displayName=Dw;function mC(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function gC(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function vC(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function yC(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,h=c.x,p=c.y;d>n!=p>n&&r<(h-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function xC(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),wC(t)}function wC(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var bC=Rw,_C=Ow,jC=Aw,Lw=Iw;const ba=bC,Cc=_C,Tc=jC,_a=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(Lw,{ref:n,sideOffset:t,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));_a.displayName=Lw.displayName;var mo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qs=typeof window>"u"||"Deno"in globalThis;function ft(){}function SC(e,t){return typeof e=="function"?e(t):e}function Mh(e){return typeof e=="number"&&e>=0&&e!==1/0}function Mw(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zn(e,t){return typeof e=="function"?e(t):e}function Jt(e,t){return typeof e=="function"?e(t):e}function Bg(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Dp(o,t.options))return!1}else if(!ja(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Wg(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ys(t.options.mutationKey)!==Ys(i))return!1}else if(!ja(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Dp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ys)(e)}function Ys(e){return JSON.stringify(e,(t,r)=>$h(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ja(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ja(e[r],t[r])):!1}function $w(e,t){if(e===t)return e;const r=qg(e)&&qg(t);if(r||$h(e)&&$h(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const h=r?d:i[d];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,u++):(l[h]=$w(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&u++)}return s===o&&u===s?e:l}return t}function Pc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function qg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $h(e){if(!Vg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Vg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Vg(e){return Object.prototype.toString.call(e)==="[object Object]"}function kC(e){return new Promise(t=>{setTimeout(t,e)})}function Fh(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?$w(e,t):t}function NC(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function EC(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Lp=Symbol();function Fw(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Lp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Uw(e,t){return typeof e=="function"?e(...t):!!e}var Rs,Rn,Mi,Vv,CC=(Vv=class extends mo{constructor(){super();X(this,Rs);X(this,Rn);X(this,Mi);U(this,Mi,t=>{if(!Qs&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){S(this,Rn)||this.setEventListener(S(this,Mi))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Rn))==null||t.call(this),U(this,Rn,void 0))}setEventListener(t){var r;U(this,Mi,t),(r=S(this,Rn))==null||r.call(this),U(this,Rn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){S(this,Rs)!==t&&(U(this,Rs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof S(this,Rs)=="boolean"?S(this,Rs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Rs=new WeakMap,Rn=new WeakMap,Mi=new WeakMap,Vv),Mp=new CC,$i,On,Fi,Hv,TC=(Hv=class extends mo{constructor(){super();X(this,$i,!0);X(this,On);X(this,Fi);U(this,Fi,t=>{if(!Qs&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){S(this,On)||this.setEventListener(S(this,Fi))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,On))==null||t.call(this),U(this,On,void 0))}setEventListener(t){var r;U(this,Fi,t),(r=S(this,On))==null||r.call(this),U(this,On,t(this.setOnline.bind(this)))}setOnline(t){S(this,$i)!==t&&(U(this,$i,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return S(this,$i)}},$i=new WeakMap,On=new WeakMap,Fi=new WeakMap,Hv),Rc=new TC;function Uh(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function PC(e){return Math.min(1e3*2**e,3e4)}function Bw(e){return(e??"online")==="online"?Rc.isOnline():!0}var Ww=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function dd(e){return e instanceof Ww}function qw(e){let t=!1,r=0,n=!1,s;const i=Uh(),o=g=>{var m;n||(p(new Ww(g)),(m=e.abort)==null||m.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Mp.isFocused()&&(e.networkMode==="always"||Rc.isOnline())&&e.canRun(),d=()=>Bw(e.networkMode)&&e.canRun(),h=g=>{var m;n||(n=!0,(m=e.onSuccess)==null||m.call(e,g),s==null||s(),i.resolve(g))},p=g=>{var m;n||(n=!0,(m=e.onError)==null||m.call(e,g),s==null||s(),i.reject(g))},f=()=>new Promise(g=>{var m;s=x=>{(n||u())&&g(x)},(m=e.onPause)==null||m.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(n)return;let g;const m=r===0?e.initialPromise:void 0;try{g=m??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(h).catch(x=>{var N;if(n)return;const y=e.retry??(Qs?0:3),w=e.retryDelay??PC,_=typeof w=="function"?w(r,x):w,j=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(t||!j){p(x);return}r++,(N=e.onFail)==null||N.call(e,r,x),kC(_).then(()=>u()?void 0:f()).then(()=>{t?p(x):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?b():f().then(b),i)}}var RC=e=>setTimeout(e,0);function OC(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=RC;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Be=OC(),Os,Kv,Vw=(Kv=class{constructor(){X(this,Os)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mh(this.gcTime)&&U(this,Os,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qs?1/0:5*60*1e3))}clearGcTimeout(){S(this,Os)&&(clearTimeout(S(this,Os)),U(this,Os,void 0))}},Os=new WeakMap,Kv),Ui,As,Yt,Is,rt,Ta,zs,yr,Qr,Gv,AC=(Gv=class extends Vw{constructor(t){super();X(this,yr);X(this,Ui);X(this,As);X(this,Yt);X(this,Is);X(this,rt);X(this,Ta);X(this,zs);U(this,zs,!1),U(this,Ta,t.defaultOptions),this.setOptions(t.options),this.observers=[],U(this,Is,t.client),U(this,Yt,S(this,Is).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,U(this,Ui,IC(this.options)),this.state=t.state??S(this,Ui),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=S(this,rt))==null?void 0:t.promise}setOptions(t){this.options={...S(this,Ta),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Yt).remove(this)}setData(t,r){const n=Fh(this.state.data,t,this.options);return ie(this,yr,Qr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ie(this,yr,Qr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=S(this,rt))==null?void 0:n.promise;return(s=S(this,rt))==null||s.cancel(t),r?r.then(ft).catch(ft):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,Ui))}isActive(){return this.observers.some(t=>Jt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Zn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Mw(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=S(this,rt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=S(this,rt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),S(this,Yt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(S(this,rt)&&(S(this,zs)?S(this,rt).cancel({revert:!0}):S(this,rt).cancelRetry()),this.scheduleGc()),S(this,Yt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ie(this,yr,Qr).call(this,{type:"invalidate"})}fetch(t,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(S(this,rt))return S(this,rt).continueRetry(),S(this,rt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(f=>f.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(U(this,zs,!0),n.signal)})},i=()=>{const p=Fw(this.options,r),b=(()=>{const g={client:S(this,Is),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return U(this,zs,!1),this.options.persister?this.options.persister(p,b,this):p(b)},l=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:S(this,Is),state:this.state,fetchFn:i};return s(p),p})();(u=this.options.behavior)==null||u.onFetch(l,this),U(this,As,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ie(this,yr,Qr).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=p=>{var f,b,g,m;dd(p)&&p.silent||ie(this,yr,Qr).call(this,{type:"error",error:p}),dd(p)||((b=(f=S(this,Yt).config).onError)==null||b.call(f,p,this),(m=(g=S(this,Yt).config).onSettled)==null||m.call(g,this.state.data,p,this)),this.scheduleGc()};return U(this,rt,qw({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var f,b,g,m;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(x){c(x);return}(b=(f=S(this,Yt).config).onSuccess)==null||b.call(f,p,this),(m=(g=S(this,Yt).config).onSettled)==null||m.call(g,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,f)=>{ie(this,yr,Qr).call(this,{type:"failed",failureCount:p,error:f})},onPause:()=>{ie(this,yr,Qr).call(this,{type:"pause"})},onContinue:()=>{ie(this,yr,Qr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),S(this,rt).start()}},Ui=new WeakMap,As=new WeakMap,Yt=new WeakMap,Is=new WeakMap,rt=new WeakMap,Ta=new WeakMap,zs=new WeakMap,yr=new WeakSet,Qr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Hw(n.data,this.options),fetchMeta:t.meta??null};case"success":return U(this,As,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return dd(s)&&s.revert&&S(this,As)?{...S(this,As),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Be.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),S(this,Yt).notify({query:this,type:"updated",action:t})})},Gv);function Hw(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Bw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function IC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ir,Qv,zC=(Qv=class extends mo{constructor(t={}){super();X(this,Ir);this.config=t,U(this,Ir,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Dp(s,r);let o=this.get(i);return o||(o=new AC({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){S(this,Ir).has(t.queryHash)||(S(this,Ir).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=S(this,Ir).get(t.queryHash);r&&(t.destroy(),r===t&&S(this,Ir).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Be.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return S(this,Ir).get(t)}getAll(){return[...S(this,Ir).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Bg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Bg(t,n)):r}notify(t){Be.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Be.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Be.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ir=new WeakMap,Qv),zr,ut,Ds,Dr,Sn,Yv,DC=(Yv=class extends Vw{constructor(t){super();X(this,Dr);X(this,zr);X(this,ut);X(this,Ds);this.mutationId=t.mutationId,U(this,ut,t.mutationCache),U(this,zr,[]),this.state=t.state||Kw(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){S(this,zr).includes(t)||(S(this,zr).push(t),this.clearGcTimeout(),S(this,ut).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){U(this,zr,S(this,zr).filter(r=>r!==t)),this.scheduleGc(),S(this,ut).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){S(this,zr).length||(this.state.status==="pending"?this.scheduleGc():S(this,ut).remove(this))}continue(){var t;return((t=S(this,Ds))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,h,p,f,b,g,m,x,y,w,_,j,N,E,k;const r=()=>{ie(this,Dr,Sn).call(this,{type:"continue"})};U(this,Ds,qw({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,C)=>{ie(this,Dr,Sn).call(this,{type:"failed",failureCount:R,error:C})},onPause:()=>{ie(this,Dr,Sn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,ut).canRun(this)}));const n=this.state.status==="pending",s=!S(this,Ds).canStart();try{if(n)r();else{ie(this,Dr,Sn).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=S(this,ut).config).onMutate)==null?void 0:o.call(i,t,this));const C=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));C!==this.state.context&&ie(this,Dr,Sn).call(this,{type:"pending",context:C,variables:t,isPaused:s})}const R=await S(this,Ds).start();return await((d=(u=S(this,ut).config).onSuccess)==null?void 0:d.call(u,R,t,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,R,t,this.state.context)),await((b=(f=S(this,ut).config).onSettled)==null?void 0:b.call(f,R,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,R,null,t,this.state.context)),ie(this,Dr,Sn).call(this,{type:"success",data:R}),R}catch(R){try{throw await((y=(x=S(this,ut).config).onError)==null?void 0:y.call(x,R,t,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,R,t,this.state.context)),await((N=(j=S(this,ut).config).onSettled)==null?void 0:N.call(j,void 0,R,this.state.variables,this.state.context,this)),await((k=(E=this.options).onSettled)==null?void 0:k.call(E,void 0,R,t,this.state.context)),R}finally{ie(this,Dr,Sn).call(this,{type:"error",error:R})}}finally{S(this,ut).runNext(this)}}},zr=new WeakMap,ut=new WeakMap,Ds=new WeakMap,Dr=new WeakSet,Sn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Be.batch(()=>{S(this,zr).forEach(n=>{n.onMutationUpdate(t)}),S(this,ut).notify({mutation:this,type:"updated",action:t})})},Yv);function Kw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xr,xr,Pa,Jv,LC=(Jv=class extends mo{constructor(t={}){super();X(this,Xr);X(this,xr);X(this,Pa);this.config=t,U(this,Xr,new Set),U(this,xr,new Map),U(this,Pa,0)}build(t,r,n){const s=new DC({mutationCache:this,mutationId:++Ja(this,Pa)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){S(this,Xr).add(t);const r=xl(t);if(typeof r=="string"){const n=S(this,xr).get(r);n?n.push(t):S(this,xr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(S(this,Xr).delete(t)){const r=xl(t);if(typeof r=="string"){const n=S(this,xr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&S(this,xr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=xl(t);if(typeof r=="string"){const n=S(this,xr).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=xl(t);if(typeof r=="string"){const s=(n=S(this,xr).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Be.batch(()=>{S(this,Xr).forEach(t=>{this.notify({type:"removed",mutation:t})}),S(this,Xr).clear(),S(this,xr).clear()})}getAll(){return Array.from(S(this,Xr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Wg(r,n))}findAll(t={}){return this.getAll().filter(r=>Wg(t,r))}notify(t){Be.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Be.batch(()=>Promise.all(t.map(r=>r.continue().catch(ft))))}},Xr=new WeakMap,xr=new WeakMap,Pa=new WeakMap,Jv);function xl(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Hg(e){return{onFetch:(t,r)=>{var d,h,p,f,b;const n=t.options,s=(p=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const m=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=Fw(t.options,t.fetchOptions),y=async(w,_,j)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const E=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return m(F),F})(),k=await x(E),{maxPages:R}=t.options,C=j?EC:NC;return{pages:C(w.pages,k,R),pageParams:C(w.pageParams,_,R)}};if(s&&i.length){const w=s==="backward",_=w?MC:Kg,j={pages:i,pageParams:o},N=_(n,j);l=await y(j,N,w)}else{const w=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:Kg(n,l);if(c>0&&_==null)break;l=await y(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,m;return(m=(g=t.options).persister)==null?void 0:m.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Kg(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function MC(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ze,An,In,Bi,Wi,zn,qi,Vi,Zv,$C=(Zv=class{constructor(e={}){X(this,ze);X(this,An);X(this,In);X(this,Bi);X(this,Wi);X(this,zn);X(this,qi);X(this,Vi);U(this,ze,e.queryCache||new zC),U(this,An,e.mutationCache||new LC),U(this,In,e.defaultOptions||{}),U(this,Bi,new Map),U(this,Wi,new Map),U(this,zn,0)}mount(){Ja(this,zn)._++,S(this,zn)===1&&(U(this,qi,Mp.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,ze).onFocus())})),U(this,Vi,Rc.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,ze).onOnline())})))}unmount(){var e,t;Ja(this,zn)._--,S(this,zn)===0&&((e=S(this,qi))==null||e.call(this),U(this,qi,void 0),(t=S(this,Vi))==null||t.call(this),U(this,Vi,void 0))}isFetching(e){return S(this,ze).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return S(this,An).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=S(this,ze).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=S(this,ze).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Zn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return S(this,ze).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=S(this,ze).get(n.queryHash),i=s==null?void 0:s.state.data,o=SC(t,i);if(o!==void 0)return S(this,ze).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Be.batch(()=>S(this,ze).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=S(this,ze).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=S(this,ze);Be.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=S(this,ze);return Be.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Be.batch(()=>S(this,ze).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ft).catch(ft)}invalidateQueries(e,t={}){return Be.batch(()=>(S(this,ze).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Be.batch(()=>S(this,ze).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(ft)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ft)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=S(this,ze).build(this,t);return r.isStaleByTime(Zn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ft).catch(ft)}fetchInfiniteQuery(e){return e.behavior=Hg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ft).catch(ft)}ensureInfiniteQueryData(e){return e.behavior=Hg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rc.isOnline()?S(this,An).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,ze)}getMutationCache(){return S(this,An)}getDefaultOptions(){return S(this,In)}setDefaultOptions(e){U(this,In,e)}setQueryDefaults(e,t){S(this,Bi).set(Ys(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...S(this,Bi).values()],r={};return t.forEach(n=>{ja(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){S(this,Wi).set(Ys(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...S(this,Wi).values()],r={};return t.forEach(n=>{ja(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...S(this,In).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Dp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Lp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...S(this,In).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){S(this,ze).clear(),S(this,An).clear()}},ze=new WeakMap,An=new WeakMap,In=new WeakMap,Bi=new WeakMap,Wi=new WeakMap,zn=new WeakMap,qi=new WeakMap,Vi=new WeakMap,Zv),jt,ae,Ra,dt,Ls,Hi,Dn,Ln,Oa,Ki,Gi,Ms,$s,Mn,Qi,pe,Mo,Bh,Wh,qh,Vh,Hh,Kh,Gh,Gw,Xv,FC=(Xv=class extends mo{constructor(t,r){super();X(this,pe);X(this,jt);X(this,ae);X(this,Ra);X(this,dt);X(this,Ls);X(this,Hi);X(this,Dn);X(this,Ln);X(this,Oa);X(this,Ki);X(this,Gi);X(this,Ms);X(this,$s);X(this,Mn);X(this,Qi,new Set);this.options=r,U(this,jt,t),U(this,Ln,null),U(this,Dn,Uh()),this.options.experimental_prefetchInRender||S(this,Dn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,ae).addObserver(this),Gg(S(this,ae),this.options)?ie(this,pe,Mo).call(this):this.updateResult(),ie(this,pe,Vh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qh(S(this,ae),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qh(S(this,ae),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ie(this,pe,Hh).call(this),ie(this,pe,Kh).call(this),S(this,ae).removeObserver(this)}setOptions(t){const r=this.options,n=S(this,ae);if(this.options=S(this,jt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jt(this.options.enabled,S(this,ae))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ie(this,pe,Gh).call(this),S(this,ae).setOptions(this.options),r._defaulted&&!Pc(this.options,r)&&S(this,jt).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,ae),observer:this});const s=this.hasListeners();s&&Qg(S(this,ae),n,this.options,r)&&ie(this,pe,Mo).call(this),this.updateResult(),s&&(S(this,ae)!==n||Jt(this.options.enabled,S(this,ae))!==Jt(r.enabled,S(this,ae))||Zn(this.options.staleTime,S(this,ae))!==Zn(r.staleTime,S(this,ae)))&&ie(this,pe,Bh).call(this);const i=ie(this,pe,Wh).call(this);s&&(S(this,ae)!==n||Jt(this.options.enabled,S(this,ae))!==Jt(r.enabled,S(this,ae))||i!==S(this,Mn))&&ie(this,pe,qh).call(this,i)}getOptimisticResult(t){const r=S(this,jt).getQueryCache().build(S(this,jt),t),n=this.createResult(r,t);return BC(this,n)&&(U(this,dt,n),U(this,Hi,this.options),U(this,Ls,S(this,ae).state)),n}getCurrentResult(){return S(this,dt)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){S(this,Qi).add(t)}getCurrentQuery(){return S(this,ae)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=S(this,jt).defaultQueryOptions(t),n=S(this,jt).getQueryCache().build(S(this,jt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ie(this,pe,Mo).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,dt)))}createResult(t,r){var R;const n=S(this,ae),s=this.options,i=S(this,dt),o=S(this,Ls),l=S(this,Hi),u=t!==n?t.state:S(this,Ra),{state:d}=t;let h={...d},p=!1,f;if(r._optimisticResults){const C=this.hasListeners(),F=!C&&Gg(t,r),I=C&&Qg(t,n,r,s);(F||I)&&(h={...h,...Hw(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:g,status:m}=h;f=h.data;let x=!1;if(r.placeholderData!==void 0&&f===void 0&&m==="pending"){let C;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(C=i.data,x=!0):C=typeof r.placeholderData=="function"?r.placeholderData((R=S(this,Gi))==null?void 0:R.state.data,S(this,Gi)):r.placeholderData,C!==void 0&&(m="success",f=Fh(i==null?void 0:i.data,C,r),p=!0)}if(r.select&&f!==void 0&&!x)if(i&&f===(o==null?void 0:o.data)&&r.select===S(this,Oa))f=S(this,Ki);else try{U(this,Oa,r.select),f=r.select(f),f=Fh(i==null?void 0:i.data,f,r),U(this,Ki,f),U(this,Ln,null)}catch(C){U(this,Ln,C)}S(this,Ln)&&(b=S(this,Ln),f=S(this,Ki),g=Date.now(),m="error");const y=h.fetchStatus==="fetching",w=m==="pending",_=m==="error",j=w&&y,N=f!==void 0,k={status:m,fetchStatus:h.fetchStatus,isPending:w,isSuccess:m==="success",isError:_,isInitialLoading:j,isLoading:j,data:f,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:_&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:_&&N,isStale:$p(t,r),refetch:this.refetch,promise:S(this,Dn),isEnabled:Jt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=L=>{k.status==="error"?L.reject(k.error):k.data!==void 0&&L.resolve(k.data)},F=()=>{const L=U(this,Dn,k.promise=Uh());C(L)},I=S(this,Dn);switch(I.status){case"pending":t.queryHash===n.queryHash&&C(I);break;case"fulfilled":(k.status==="error"||k.data!==I.value)&&F();break;case"rejected":(k.status!=="error"||k.error!==I.reason)&&F();break}}return k}updateResult(){const t=S(this,dt),r=this.createResult(S(this,ae),this.options);if(U(this,Ls,S(this,ae).state),U(this,Hi,this.options),S(this,Ls).data!==void 0&&U(this,Gi,S(this,ae)),Pc(r,t))return;U(this,dt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!S(this,Qi).size)return!0;const o=new Set(i??S(this,Qi));return this.options.throwOnError&&o.add("error"),Object.keys(S(this,dt)).some(l=>{const c=l;return S(this,dt)[c]!==t[c]&&o.has(c)})};ie(this,pe,Gw).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ie(this,pe,Vh).call(this)}},jt=new WeakMap,ae=new WeakMap,Ra=new WeakMap,dt=new WeakMap,Ls=new WeakMap,Hi=new WeakMap,Dn=new WeakMap,Ln=new WeakMap,Oa=new WeakMap,Ki=new WeakMap,Gi=new WeakMap,Ms=new WeakMap,$s=new WeakMap,Mn=new WeakMap,Qi=new WeakMap,pe=new WeakSet,Mo=function(t){ie(this,pe,Gh).call(this);let r=S(this,ae).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ft)),r},Bh=function(){ie(this,pe,Hh).call(this);const t=Zn(this.options.staleTime,S(this,ae));if(Qs||S(this,dt).isStale||!Mh(t))return;const n=Mw(S(this,dt).dataUpdatedAt,t)+1;U(this,Ms,setTimeout(()=>{S(this,dt).isStale||this.updateResult()},n))},Wh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,ae)):this.options.refetchInterval)??!1},qh=function(t){ie(this,pe,Kh).call(this),U(this,Mn,t),!(Qs||Jt(this.options.enabled,S(this,ae))===!1||!Mh(S(this,Mn))||S(this,Mn)===0)&&U(this,$s,setInterval(()=>{(this.options.refetchIntervalInBackground||Mp.isFocused())&&ie(this,pe,Mo).call(this)},S(this,Mn)))},Vh=function(){ie(this,pe,Bh).call(this),ie(this,pe,qh).call(this,ie(this,pe,Wh).call(this))},Hh=function(){S(this,Ms)&&(clearTimeout(S(this,Ms)),U(this,Ms,void 0))},Kh=function(){S(this,$s)&&(clearInterval(S(this,$s)),U(this,$s,void 0))},Gh=function(){const t=S(this,jt).getQueryCache().build(S(this,jt),this.options);if(t===S(this,ae))return;const r=S(this,ae);U(this,ae,t),U(this,Ra,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Gw=function(t){Be.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(S(this,dt))}),S(this,jt).getQueryCache().notify({query:S(this,ae),type:"observerResultsUpdated"})})},Xv);function UC(e,t){return Jt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Gg(e,t){return UC(e,t)||e.state.data!==void 0&&Qh(e,t,t.refetchOnMount)}function Qh(e,t,r){if(Jt(t.enabled,e)!==!1&&Zn(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&$p(e,t)}return!1}function Qg(e,t,r,n){return(e!==t||Jt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&$p(e,r)}function $p(e,t){return Jt(t.enabled,e)!==!1&&e.isStaleByTime(Zn(t.staleTime,e))}function BC(e,t){return!Pc(e.getCurrentResult(),t)}var $n,Fn,St,en,sn,Gl,Yh,ey,WC=(ey=class extends mo{constructor(r,n){super();X(this,sn);X(this,$n);X(this,Fn);X(this,St);X(this,en);U(this,$n,r),this.setOptions(n),this.bindMethods(),ie(this,sn,Gl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=S(this,$n).defaultMutationOptions(r),Pc(this.options,n)||S(this,$n).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,St),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ys(n.mutationKey)!==Ys(this.options.mutationKey)?this.reset():((s=S(this,St))==null?void 0:s.state.status)==="pending"&&S(this,St).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=S(this,St))==null||r.removeObserver(this)}onMutationUpdate(r){ie(this,sn,Gl).call(this),ie(this,sn,Yh).call(this,r)}getCurrentResult(){return S(this,Fn)}reset(){var r;(r=S(this,St))==null||r.removeObserver(this),U(this,St,void 0),ie(this,sn,Gl).call(this),ie(this,sn,Yh).call(this)}mutate(r,n){var s;return U(this,en,n),(s=S(this,St))==null||s.removeObserver(this),U(this,St,S(this,$n).getMutationCache().build(S(this,$n),this.options)),S(this,St).addObserver(this),S(this,St).execute(r)}},$n=new WeakMap,Fn=new WeakMap,St=new WeakMap,en=new WeakMap,sn=new WeakSet,Gl=function(){var n;const r=((n=S(this,St))==null?void 0:n.state)??Kw();U(this,Fn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Yh=function(r){Be.batch(()=>{var n,s,i,o,l,c,u,d;if(S(this,en)&&this.hasListeners()){const h=S(this,Fn).variables,p=S(this,Fn).context;(r==null?void 0:r.type)==="success"?((s=(n=S(this,en)).onSuccess)==null||s.call(n,r.data,h,p),(o=(i=S(this,en)).onSettled)==null||o.call(i,r.data,null,h,p)):(r==null?void 0:r.type)==="error"&&((c=(l=S(this,en)).onError)==null||c.call(l,r.error,h,p),(d=(u=S(this,en)).onSettled)==null||d.call(u,void 0,r.error,h,p))}this.listeners.forEach(h=>{h(S(this,Fn))})})},ey),Qw=v.createContext(void 0),xt=e=>{const t=v.useContext(Qw);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qC=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(Qw.Provider,{value:e,children:t})),Yw=v.createContext(!1),VC=()=>v.useContext(Yw);Yw.Provider;function HC(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var KC=v.createContext(HC()),GC=()=>v.useContext(KC),QC=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},YC=e=>{v.useEffect(()=>{e.clearReset()},[e])},JC=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||Uw(r,[e.error,n])),ZC=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},XC=(e,t)=>e.isLoading&&e.isFetching&&!t,eT=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Yg=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function tT(e,t,r){var h,p,f,b,g;const n=VC(),s=GC(),i=xt(),o=i.defaultQueryOptions(e);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",ZC(o),QC(o,s),YC(s);const l=!i.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(m=>{const x=d?c.subscribe(Be.batchCalls(m)):ft;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o)},[o,c]),eT(o,u))throw Yg(o,c,s);if(JC({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((b=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||b.call(f,o,u),o.experimental_prefetchInRender&&!Qs&&XC(u,n)){const m=l?Yg(o,c,s):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;m==null||m.catch(ft).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function fe(e,t){return tT(e,FC)}function Kt(e,t){const r=xt(),[n]=v.useState(()=>new WC(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const s=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(Be.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,l)=>{n.mutate(o,l).catch(ft)},[n]);if(s.error&&Uw(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sa.apply(this,arguments)}var Wn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wn||(Wn={}));const Jg="popstate";function rT(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Jh("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Oc(s)}return sT(t,r,null,e)}function Ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nT(){return Math.random().toString(36).substr(2,8)}function Zg(e,t){return{usr:e.state,key:e.key,idx:t}}function Jh(e,t,r,n){return r===void 0&&(r=null),Sa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?go(t):t,{state:r,key:t&&t.key||n||nT()})}function Oc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function go(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function sT(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Wn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Sa({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Wn.Pop;let m=d(),x=m==null?null:m-u;u=m,c&&c({action:l,location:g.location,delta:x})}function p(m,x){l=Wn.Push;let y=Jh(g.location,m,x);u=d()+1;let w=Zg(y,u),_=g.createHref(y);try{o.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:l,location:g.location,delta:1})}function f(m,x){l=Wn.Replace;let y=Jh(g.location,m,x);u=d();let w=Zg(y,u),_=g.createHref(y);o.replaceState(w,"",_),i&&c&&c({action:l,location:g.location,delta:0})}function b(m){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof m=="string"?m:Oc(m);return y=y.replace(/ $/,"%20"),Ae(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return l},get location(){return e(s,o)},listen(m){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Jg,h),c=m,()=>{s.removeEventListener(Jg,h),c=null}},createHref(m){return t(s,m)},createURL:b,encodeLocation(m){let x=b(m);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:f,go(m){return o.go(m)}};return g}var Xg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xg||(Xg={}));function iT(e,t,r){return r===void 0&&(r="/"),oT(e,t,r,!1)}function oT(e,t,r,n){let s=typeof t=="string"?go(t):t,i=io(s.pathname||"/",r);if(i==null)return null;let o=Zw(e);aT(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=yT(i);l=gT(o[c],u,n)}return l}function Zw(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ae(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Xn([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Ae(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Zw(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:pT(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Xw(i.path))s(i,o,c)}),t}function Xw(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Xw(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function aT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:mT(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lT=/^:[\w-]+$/,cT=3,uT=2,dT=1,hT=10,fT=-2,ev=e=>e==="*";function pT(e,t){let r=e.split("/"),n=r.length;return r.some(ev)&&(n+=fT),t&&(n+=uT),r.filter(s=>!ev(s)).reduce((s,i)=>s+(lT.test(i)?cT:i===""?dT:hT),n)}function mT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function gT(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Ac({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Ac({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Xn([i,h.pathname]),pathnameBase:_T(Xn([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Xn([i,h.pathnameBase]))}return o}function Ac(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=vT(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const b=l[h];return f&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function vT(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Jw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function yT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function io(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function xT(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?go(e):e;return{pathname:r?r.startsWith("/")?r:wT(r,t):t,search:jT(n),hash:ST(s)}}function wT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function hd(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Fp(e,t){let r=bT(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Up(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=go(e):(s=Sa({},e),Ae(!s.pathname||!s.pathname.includes("?"),hd("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),hd("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),hd("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=xT(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Xn=e=>e.join("/").replace(/\/\/+/g,"/"),_T=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ST=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eb=["post","put","patch","delete"];new Set(eb);const NT=["get",...eb];new Set(NT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ka.apply(this,arguments)}const pu=v.createContext(null),tb=v.createContext(null),fn=v.createContext(null),mu=v.createContext(null),pn=v.createContext({outlet:null,matches:[],isDataRoute:!1}),rb=v.createContext(null);function ET(e,t){let{relative:r}=t===void 0?{}:t;vo()||Ae(!1);let{basename:n,navigator:s}=v.useContext(fn),{hash:i,pathname:o,search:l}=gu(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Xn([n,o])),s.createHref({pathname:c,search:l,hash:i})}function vo(){return v.useContext(mu)!=null}function ds(){return vo()||Ae(!1),v.useContext(mu).location}function nb(e){v.useContext(fn).static||v.useLayoutEffect(e)}function yo(){let{isDataRoute:e}=v.useContext(pn);return e?UT():CT()}function CT(){vo()||Ae(!1);let e=v.useContext(pu),{basename:t,future:r,navigator:n}=v.useContext(fn),{matches:s}=v.useContext(pn),{pathname:i}=ds(),o=JSON.stringify(Fp(s,r.v7_relativeSplatPath)),l=v.useRef(!1);return nb(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Up(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Xn([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}function TT(){let{matches:e}=v.useContext(pn),t=e[e.length-1];return t?t.params:{}}function gu(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(fn),{matches:s}=v.useContext(pn),{pathname:i}=ds(),o=JSON.stringify(Fp(s,n.v7_relativeSplatPath));return v.useMemo(()=>Up(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function PT(e,t){return RT(e,t)}function RT(e,t,r,n){vo()||Ae(!1);let{navigator:s}=v.useContext(fn),{matches:i}=v.useContext(pn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ds(),d;if(t){var h;let m=typeof t=="string"?go(t):t;c==="/"||(h=m.pathname)!=null&&h.startsWith(c)||Ae(!1),d=m}else d=u;let p=d.pathname||"/",f=p;if(c!=="/"){let m=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(m.length).join("/")}let b=iT(e,{pathname:f}),g=DT(b&&b.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:Xn([c,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:Xn([c,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r,n);return t&&g?v.createElement(mu.Provider,{value:{location:ka({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Wn.Pop}},g):g}function OT(){let e=FT(),t=kT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,null)}const AT=v.createElement(OT,null);class IT extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(pn.Provider,{value:this.props.routeContext},v.createElement(rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zT(e){let{routeContext:t,match:r,children:n}=e,s=v.useContext(pu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(pn.Provider,{value:t},n)}function DT(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Ae(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:f}=r,b=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let f,b=!1,g=null,m=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||AT,c&&(u<0&&p===0?(b=!0,m=null):u===p&&(b=!0,m=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,p+1)),y=()=>{let w;return f?w=g:b?w=m:h.route.Component?w=v.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,v.createElement(zT,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?v.createElement(IT,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var sb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sb||{}),Ic=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ic||{});function LT(e){let t=v.useContext(pu);return t||Ae(!1),t}function MT(e){let t=v.useContext(tb);return t||Ae(!1),t}function $T(e){let t=v.useContext(pn);return t||Ae(!1),t}function ib(e){let t=$T(),r=t.matches[t.matches.length-1];return r.route.id||Ae(!1),r.route.id}function FT(){var e;let t=v.useContext(rb),r=MT(Ic.UseRouteError),n=ib(Ic.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function UT(){let{router:e}=LT(sb.UseNavigateStable),t=ib(Ic.UseNavigateStable),r=v.useRef(!1);return nb(()=>{r.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ka({fromRouteId:t},i)))},[e,t])}function BT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function WT(e){let{to:t,replace:r,state:n,relative:s}=e;vo()||Ae(!1);let{future:i,static:o}=v.useContext(fn),{matches:l}=v.useContext(pn),{pathname:c}=ds(),u=yo(),d=Up(t,Fp(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Qt(e){Ae(!1)}function qT(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Wn.Pop,navigator:i,static:o=!1,future:l}=e;vo()&&Ae(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:o,future:ka({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=go(n));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:b="default"}=n,g=v.useMemo(()=>{let m=io(d,c);return m==null?null:{location:{pathname:m,search:h,hash:p,state:f,key:b},navigationType:s}},[c,d,h,p,f,b,s]);return g==null?null:v.createElement(fn.Provider,{value:u},v.createElement(mu.Provider,{children:r,value:g}))}function VT(e){let{children:t,location:r}=e;return PT(Zh(t),r)}new Promise(()=>{});function Zh(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let i=[...t,s];if(n.type===v.Fragment){r.push.apply(r,Zh(n.props.children,i));return}n.type!==Qt&&Ae(!1),!n.props.index||!n.props.children||Ae(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Zh(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zc.apply(this,arguments)}function ob(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function HT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KT(e,t){return e.button===0&&(!t||t==="_self")&&!HT(e)}function Xh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function GT(e,t){let r=Xh(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const QT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YT=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],JT="6";try{window.__reactRouterVersion=JT}catch{}const ZT=v.createContext({isTransitioning:!1}),XT="startTransition",tv=Cf[XT];function eP(e){let{basename:t,children:r,future:n,window:s}=e,i=v.useRef();i.current==null&&(i.current=rT({window:s,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=v.useCallback(h=>{u&&tv?tv(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>BT(n),[n]),v.createElement(qT,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const tP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ql=v.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,p=ob(t,QT),{basename:f}=v.useContext(fn),b,g=!1;if(typeof u=="string"&&rP.test(u)&&(b=u,tP))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=io(_.pathname,f);_.origin===w.origin&&j!=null?u=j+_.search+_.hash:g=!0}catch{}let m=ET(u,{relative:s}),x=iP(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function y(w){n&&n(w),w.defaultPrevented||x(w)}return v.createElement("a",zc({},p,{href:b||m,onClick:g||i?n:y,ref:r,target:c}))}),nP=v.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=ob(t,YT),p=gu(c,{relative:h.relative}),f=ds(),b=v.useContext(tb),{navigator:g,basename:m}=v.useContext(fn),x=b!=null&&aP(p)&&u===!0,y=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,w=f.pathname,_=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(w=w.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase()),_&&m&&(_=io(_,m)||_);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let N=w===y||!o&&w.startsWith(y)&&w.charAt(j)==="/",E=_!=null&&(_===y||!o&&_.startsWith(y)&&_.charAt(y.length)==="/"),k={isActive:N,isPending:E,isTransitioning:x},R=N?n:void 0,C;typeof i=="function"?C=i(k):C=[i,N?"active":null,E?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(k):l;return v.createElement(Ql,zc({},h,{"aria-current":R,className:C,ref:r,style:F,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var ef;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ef||(ef={}));var rv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rv||(rv={}));function sP(e){let t=v.useContext(pu);return t||Ae(!1),t}function iP(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=yo(),u=ds(),d=gu(e,{relative:o});return v.useCallback(h=>{if(KT(h,r)){h.preventDefault();let p=n!==void 0?n:Oc(u)===Oc(d);c(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function oP(e){let t=v.useRef(Xh(e)),r=v.useRef(!1),n=ds(),s=v.useMemo(()=>GT(n.search,r.current?null:t.current),[n.search]),i=yo(),o=v.useCallback((l,c)=>{const u=Xh(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function aP(e,t){t===void 0&&(t={});let r=v.useContext(ZT);r==null&&Ae(!1);let{basename:n}=sP(ef.useViewTransitionState),s=gu(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=io(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=io(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ac(s.pathname,o)!=null||Ac(s.pathname,i)!=null}var tf=function(e,t){return tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},tf(e,t)};function ab(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tf(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var tr=function(){return tr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},tr.apply(this,arguments)};function hs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function lb(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function cb(e,t){return function(r,n){t(r,n,e)}}function ub(e,t,r,n,s,i){function o(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,p=!1,f=r.length-1;f>=0;f--){var b={};for(var g in n)b[g]=g==="access"?{}:n[g];for(var g in n.access)b.access[g]=n.access[g];b.addInitializer=function(x){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(x||null))};var m=(0,r[f])(l==="accessor"?{get:d.get,set:d.set}:d[c],b);if(l==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(h=o(m.get))&&(d.get=h),(h=o(m.set))&&(d.set=h),(h=o(m.init))&&s.unshift(h)}else(h=o(m))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),p=!0}function db(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function hb(e){return typeof e=="symbol"?e:"".concat(e)}function fb(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function pb(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function K(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function mb(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var vu=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function gb(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vu(t,e,r)}function Dc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bp(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function vb(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Bp(arguments[t]));return e}function yb(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,s++)n[s]=i[o];return n}function Wp(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function oo(e){return this instanceof oo?(this.v=e,this):new oo(e)}function xb(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(f){return function(b){return Promise.resolve(b).then(f,h)}}function l(f,b){n[f]&&(s[f]=function(g){return new Promise(function(m,x){i.push([f,g,m,x])>1||c(f,g)})},b&&(s[f]=b(s[f])))}function c(f,b){try{u(n[f](b))}catch(g){p(i[0][3],g)}}function u(f){f.value instanceof oo?Promise.resolve(f.value.v).then(d,h):p(i[0][2],f)}function d(f){c("next",f)}function h(f){c("throw",f)}function p(f,b){f(b),i.shift(),i.length&&c(i[0][0],i[0][1])}}function wb(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:oo(e[s](o)),done:!1}:i?i(o):o}:i}}function bb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Dc=="function"?Dc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(l,c){o=e[i](o),s(l,c,o.done,o.value)})}}function s(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}function _b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var lP=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},rf=function(e){return rf=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},rf(e)};function jb(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=rf(e),n=0;n<r.length;n++)r[n]!=="default"&&vu(t,e,r[n]);return lP(t,e),t}function Sb(e){return e&&e.__esModule?e:{default:e}}function kb(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Nb(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function Eb(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Cb(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var cP=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Tb(e){function t(i){e.error=e.hasError?new cP(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Pb(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}const uP={__extends:ab,__assign:tr,__rest:hs,__decorate:lb,__param:cb,__esDecorate:ub,__runInitializers:db,__propKey:hb,__setFunctionName:fb,__metadata:pb,__awaiter:K,__generator:mb,__createBinding:vu,__exportStar:gb,__values:Dc,__read:Bp,__spread:vb,__spreadArrays:yb,__spreadArray:Wp,__await:oo,__asyncGenerator:xb,__asyncDelegator:wb,__asyncValues:bb,__makeTemplateObject:_b,__importStar:jb,__importDefault:Sb,__classPrivateFieldGet:kb,__classPrivateFieldSet:Nb,__classPrivateFieldIn:Eb,__addDisposableResource:Cb,__disposeResources:Tb,__rewriteRelativeImportExtension:Pb},dP=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Cb,get __assign(){return tr},__asyncDelegator:wb,__asyncGenerator:xb,__asyncValues:bb,__await:oo,__awaiter:K,__classPrivateFieldGet:kb,__classPrivateFieldIn:Eb,__classPrivateFieldSet:Nb,__createBinding:vu,__decorate:lb,__disposeResources:Tb,__esDecorate:ub,__exportStar:gb,__extends:ab,__generator:mb,__importDefault:Sb,__importStar:jb,__makeTemplateObject:_b,__metadata:pb,__param:cb,__propKey:hb,__read:Bp,__rest:hs,__rewriteRelativeImportExtension:Pb,__runInitializers:db,__setFunctionName:fb,__spread:vb,__spreadArray:Wp,__spreadArrays:yb,__values:Dc,default:uP},Symbol.toStringTag,{value:"Module"})),hP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class qp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class fP extends qp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nv extends qp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sv extends qp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nf||(nf={}));class pP{constructor(t,{headers:r={},customFetch:n,region:s=nf.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=hP(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return K(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let p={},{region:f}=n;f||(f=this.region);const b=new URL(`${this.url}/${r}`);f&&f!=="any"&&(p["x-region"]=f,b.searchParams.set("forceFunctionRegion",f));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(p["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(p["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let m=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(m=o.signal,d.addEventListener("abort",()=>o.abort())):m=o.signal);const x=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:g,signal:m}).catch(j=>{throw new fP(j)}),y=x.headers.get("x-relay-error");if(y&&y==="true")throw new nv(x);if(!x.ok)throw new sv(x);let w=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield x.json():w==="application/octet-stream"||w==="application/pdf"?_=yield x.blob():w==="text/event-stream"?_=x:w==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof sv||l instanceof nv?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var pt={};const xo=z_(dP);var wl={},bl={},_l={},jl={},Sl={},kl={},iv;function Rb(){if(iv)return kl;iv=1,Object.defineProperty(kl,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return kl.default=e,kl}var ov;function Ob(){if(ov)return Sl;ov=1,Object.defineProperty(Sl,"__esModule",{value:!0});const t=xo.__importDefault(Rb());class r{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,p;let f=null,b=null,g=null,m=c.status,x=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?b=j:b=JSON.parse(j))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&_&&_.length>1&&(g=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(f={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,g=null,m=406,x="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const w=await c.text();try{f=JSON.parse(w),Array.isArray(f)&&c.status===404&&(b=[],f=null,m=200,x="OK")}catch{c.status===404&&w===""?(m=204,x="No Content"):f={message:w}}if(f&&this.isMaybeSingle&&(!((p=f==null?void 0:f.details)===null||p===void 0)&&p.includes("0 rows"))&&(f=null,m=200,x="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:b,count:g,status:m,statusText:x}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h,p,f,b;let g="";const m=c==null?void 0:c.cause;if(m){const x=(u=m==null?void 0:m.message)!==null&&u!==void 0?u:"",y=(d=m==null?void 0:m.code)!==null&&d!==void 0?d:"";g=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,g+=`

Caused by: ${(p=m==null?void 0:m.name)!==null&&p!==void 0?p:"Error"}: ${x}`,y&&(g+=` (${y})`),m!=null&&m.stack&&(g+=`
${m.stack}`)}else g=(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(b=c==null?void 0:c.name)!==null&&b!==void 0?b:"FetchError"}: ${c==null?void 0:c.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return Sl.default=r,Sl}var av;function Ab(){if(av)return jl;av=1,Object.defineProperty(jl,"__esModule",{value:!0});const t=xo.__importDefault(Ob());class r extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return jl.default=r,jl}var lv;function Vp(){if(lv)return _l;lv=1,Object.defineProperty(_l,"__esModule",{value:!0});const t=xo.__importDefault(Ab()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return _l.default=n,_l}var cv;function Ib(){if(cv)return bl;cv=1,Object.defineProperty(bl,"__esModule",{value:!0});const t=xo.__importDefault(Vp());class r{constructor(s,{headers:i={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(s,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((p,f)=>p.concat(Object.keys(f)),[]);if(h.length>0){const p=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return bl.default=r,bl}var uv;function mP(){if(uv)return wl;uv=1,Object.defineProperty(wl,"__esModule",{value:!0});const e=xo,t=e.__importDefault(Ib()),r=e.__importDefault(Vp());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const p=new URL(`${this.url}/rpc/${i}`);let f;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{p.searchParams.append(g,m)})):(h="POST",f=o);const b=new Headers(this.headers);return u&&b.set("Prefer",`count=${u}`),new r.default({method:h,url:p,headers:b,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return wl.default=n,wl}Object.defineProperty(pt,"__esModule",{value:!0});var zb=pt.PostgrestError=Vb=pt.PostgrestBuilder=Wb=pt.PostgrestTransformBuilder=Ub=pt.PostgrestFilterBuilder=$b=pt.PostgrestQueryBuilder=Lb=pt.PostgrestClient=void 0;const wo=xo,Db=wo.__importDefault(mP());var Lb=pt.PostgrestClient=Db.default;const Mb=wo.__importDefault(Ib());var $b=pt.PostgrestQueryBuilder=Mb.default;const Fb=wo.__importDefault(Vp());var Ub=pt.PostgrestFilterBuilder=Fb.default;const Bb=wo.__importDefault(Ab());var Wb=pt.PostgrestTransformBuilder=Bb.default;const qb=wo.__importDefault(Ob());var Vb=pt.PostgrestBuilder=qb.default;const Hb=wo.__importDefault(Rb());zb=pt.PostgrestError=Hb.default;var Kb=pt.default={PostgrestClient:Db.default,PostgrestQueryBuilder:Mb.default,PostgrestFilterBuilder:Fb.default,PostgrestTransformBuilder:Bb.default,PostgrestBuilder:qb.default,PostgrestError:Hb.default};const gP=ty({__proto__:null,get PostgrestBuilder(){return Vb},get PostgrestClient(){return Lb},get PostgrestError(){return zb},get PostgrestFilterBuilder(){return Ub},get PostgrestQueryBuilder(){return $b},get PostgrestTransformBuilder(){return Wb},default:Kb},[pt]),{PostgrestClient:vP,PostgrestQueryBuilder:DI,PostgrestFilterBuilder:LI,PostgrestTransformBuilder:MI,PostgrestBuilder:$I,PostgrestError:FI}=Kb||gP;class yP{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const xP="2.82.0",wP=`realtime-js/${xP}`,Gb="1.0.0",bP="2.0.0",dv=Gb,sf=1e4,_P=1e3,jP=100;var Ss;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ss||(Ss={}));var Fe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Fe||(Fe={}));var Zt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zt||(Zt={}));var of;(function(e){e.websocket="websocket"})(of||(of={}));var ks;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ks||(ks={}));class SP{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){var r,n;const{event:s,topic:i,payload:o}=t,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=this.META_LENGTH+c.length+l.length+i.length+s.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let h=new DataView(d),p=0;h.setUint8(p++,this.KINDS.push),h.setUint8(p++,c.length),h.setUint8(p++,l.length),h.setUint8(p++,i.length),h.setUint8(p++,s.length),Array.from(c,b=>h.setUint8(p++,b.charCodeAt(0))),Array.from(l,b=>h.setUint8(p++,b.charCodeAt(0))),Array.from(i,b=>h.setUint8(p++,b.charCodeAt(0))),Array.from(s,b=>h.setUint8(p++,b.charCodeAt(0)));var f=new Uint8Array(d.byteLength+o.byteLength);return f.set(new Uint8Array(d),0),f.set(new Uint8Array(o),d.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,s,i;const o=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let f=new DataView(p),b=0;f.setUint8(b++,this.KINDS.userBroadcastPush),f.setUint8(b++,c.length),f.setUint8(b++,l.length),f.setUint8(b++,o.length),f.setUint8(b++,u.length),f.setUint8(b++,this.BINARY_ENCODING),Array.from(c,m=>f.setUint8(b++,m.charCodeAt(0))),Array.from(l,m=>f.setUint8(b++,m.charCodeAt(0))),Array.from(o,m=>f.setUint8(b++,m.charCodeAt(0))),Array.from(u,m=>f.setUint8(b++,m.charCodeAt(0)));var g=new Uint8Array(p.byteLength+d.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(d),p.byteLength),g.buffer}_encodeJsonUserBroadcastPush(t){var r,n,s,i;const o=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},p=new TextEncoder().encode(JSON.stringify(d)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length,b=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(b),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,l.length),g.setUint8(m++,o.length),g.setUint8(m++,u.length),g.setUint8(m++,this.JSON_ENCODING),Array.from(c,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(l,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>g.setUint8(m++,y.charCodeAt(0))),Array.from(u,y=>g.setUint8(m++,y.charCodeAt(0)));var x=new Uint8Array(b.byteLength+p.byteLength);return x.set(new Uint8Array(b),0),x.set(new Uint8Array(p),b.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,s);case this.KINDS.reply:return this._decodeReply(t,r,s);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodePush(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const c=n.decode(t.slice(l,l+s));l=l+s;const u=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{join_ref:c,ref:null,topic:u,event:d,payload:h}}_decodeReply(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+o));c=c+o;const p=n.decode(t.slice(c,c+l));c=c+l;const f=JSON.parse(n.decode(t.slice(c,t.byteLength))),b={status:p,response:f};return{join_ref:u,ref:d,topic:h,event:Zt.reply,payload:b}}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:null,ref:null,topic:l,event:c,payload:u}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+o));c=c+o;const p=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,b={type:this.BROADCAST,event:d,payload:f};return o>0&&(b.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Qb{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_e||(_e={}));const hv=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=kP(o,e,t,s),i),{}):{}},kP=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Yb(i,o):af(o)},Yb=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return TP(t,r)}switch(e){case _e.bool:return NP(t);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return EP(t);case _e.json:case _e.jsonb:return CP(t);case _e.timestamp:return PP(t);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return af(t);default:return af(t)}},af=e=>e,NP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},EP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},CP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},TP=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Yb(t,l))}return e},PP=e=>typeof e=="string"?e.replace(" ","T"):e,Jb=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class fd{constructor(t,r,n={},s=sf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fv||(fv={}));class Yo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yo.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Yo.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Yo.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const p=d.map(m=>m.presence_ref),f=h.map(m=>m.presence_ref),b=d.filter(m=>f.indexOf(m.presence_ref)<0),g=h.filter(m=>p.indexOf(m.presence_ref)<0);b.length>0&&(l[u]=b),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...p)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(pv||(pv={}));var Jo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jo||(Jo={}));var Jr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Jr||(Jr={}));class Hp{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fd(this,Zt.join,this.params,this.timeout),this.rejoinTimer=new Qb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Yo(this),this.broadcastEndpointURL=Jb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Jo.PRESENCE]&&this.bindings[Jo.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Jr.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Jr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var b;if(this.socket.setAuth(),f===void 0){t==null||t(Jr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,m=(b=g==null?void 0:g.length)!==null&&b!==void 0?b:0,x=[];for(let y=0;y<m;y++){const w=g[y],{filter:{event:_,schema:j,table:N,filter:E}}=w,k=f&&f[y];if(k&&k.event===_&&k.schema===j&&k.table===N&&k.filter===E)x.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Fe.errored,t==null||t(Jr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Jr.SUBSCRIBED);return}}).receive("error",f=>{this.state=Fe.errored,t==null||t(Jr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Jr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Fe.joined&&t===Jo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new fd(this,Zt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fd(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>jP){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Zt;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var b,g,m;return((b=f.filter)===null||b===void 0?void 0:b.event)==="*"||((m=(g=f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var b,g,m,x,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const _=f.id,j=(b=f.filter)===null||b===void 0?void 0:b.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const _=(y=(x=f==null?void 0:f.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:g,table:m,commit_timestamp:x,type:y,errors:w}=b;p=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:x,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(b))}f.callback(p,n)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Hp.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zt.close,{},t)}_onError(t){this._on(Zt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=hv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=hv(t.columns,t.old_record)),r}}const pd=()=>{},Nl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RP=[1e3,2e3,5e3,1e4],OP=1e4,AP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class IP{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sf,this.transport=null,this.heartbeatIntervalMs=Nl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pd,this.ref=0,this.reconnectTimer=null,this.vsn=dv,this.logger=pd,this.conn=null,this.sendBuffer=[],this.serializer=new SP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${of.websocket}`,this.httpEndpoint=Jb(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yP.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ss.connecting:return ks.Connecting;case Ss.open:return ks.Open;case Ss.closing:return ks.Closing;default:return ks.Closed}}isConnected(){return this.connectionState()===ks.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Hp(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_P,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Nl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ss.open||this.conn.readyState===Ss.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([AP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:wP};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Zt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Qb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Nl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,h,p,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:sf,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Nl.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:pd,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:dv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>RP[b-1]||OP,this.vsn){case Gb:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,g)=>g(JSON.stringify(b)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(b,g)=>g(JSON.parse(b));break;case bP:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Kp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class zP extends Kp{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lf extends Kp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Gp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DP=()=>Response,cf=e=>{if(Array.isArray(e))return e.map(r=>cf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=cf(n)}),t},LP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},md=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},MP=(e,t,r)=>K(void 0,void 0,void 0,function*(){const n=yield DP();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new zP(md(s),i,o))}).catch(s=>{t(new lf(md(s),s))}):t(new lf(md(e),e))}),$P=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(LP(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Va(e,t,r,n,s,i){return K(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,$P(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>MP(c,l,n))})})}function Na(e,t,r,n){return K(this,void 0,void 0,function*(){return Va(e,"GET",t,r,n)})}function vr(e,t,r,n,s){return K(this,void 0,void 0,function*(){return Va(e,"POST",t,n,s,r)})}function uf(e,t,r,n,s){return K(this,void 0,void 0,function*(){return Va(e,"PUT",t,n,s,r)})}function FP(e,t,r,n){return K(this,void 0,void 0,function*(){return Va(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Qp(e,t,r,n,s){return K(this,void 0,void 0,function*(){return Va(e,"DELETE",t,n,s,r)})}class UP{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return K(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}}var Zb;class BP{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Zb]="BlobDownloadBuilder",this.promise=null}asStream(){return new UP(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return K(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}}Zb=Symbol.toStringTag;const WP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qP{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Gp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return K(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},mv),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?uf:vr)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return K(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:mv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield uf(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Pe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return K(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield vr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Kp("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}update(t,r,n){return K(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return K(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return K(this,void 0,void 0,function*(){try{return{data:{path:(yield vr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return K(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield vr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return K(this,void 0,void 0,function*(){try{const s=yield vr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>Na(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new BP(c,this.shouldThrowOnError)}info(t){return K(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Na(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:cf(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}exists(t){return K(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield FP(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n)&&n instanceof lf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return K(this,void 0,void 0,function*(){try{return{data:yield Qp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}list(t,r,n){return K(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},WP),r),{prefix:t||""});return{data:yield vr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}listV2(t,r){return K(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield vr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Xb="2.82.0",e1={"X-Client-Info":`storage-js/${Xb}`};class VP{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},e1),r),this.fetch=Gp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return K(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Na(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}getBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield Na(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}createBucket(t){return K(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield vr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return K(this,void 0,void 0,function*(){try{return{data:yield uf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield Qp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class HP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},e1),r),this.fetch=Gp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}listBuckets(t){return K(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Na(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield Qp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}}const Yp={"X-Client-Info":`storage-js/${Xb}`,"Content-Type":"application/json"};class t1 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function $t(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class gd extends t1{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class KP extends t1{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var gv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gv||(gv={}));const Jp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),GP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QP=(e,t,r)=>K(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new gd(vv(o),s,l))}).catch(()=>{const o=s+"",l=i.statusText||`HTTP ${s} error`;t(new gd(l,s,o))});else{const o=s+"",l=i.statusText||`HTTP ${s} error`;t(new gd(l,s,o))}}else t(new KP(vv(e),e))}),YP=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(GP(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function JP(e,t,r,n,s,i){return K(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,YP(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>QP(c,l,n))})})}function Ft(e,t,r,n,s){return K(this,void 0,void 0,function*(){return JP(e,"POST",t,n,s,r)})}class ZP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yp),r),this.fetch=Jp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return K(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}getIndex(t,r){return K(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}listIndexes(t){return K(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return K(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}}class XP{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yp),r),this.fetch=Jp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return K(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ft(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}getVectors(t){return K(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}listVectors(t){return K(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ft(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}queryVectors(t){return K(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}deleteVectors(t){return K(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ft(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}}class eR{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yp),r),this.fetch=Jp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return K(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}getBucket(t){return K(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}listBuckets(){return K(this,arguments,void 0,function*(t={}){try{return{data:yield Ft(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}deleteBucket(t){return K(this,void 0,void 0,function*(){try{return{data:(yield Ft(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}}class tR extends eR{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new rR(this.url,this.headers,t,this.fetch)}}class rR extends ZP{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return K(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return K(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return K(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return K(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new nR(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class nR extends XP{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return K(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return K(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return K(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return K(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return K(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class sR extends VP{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new qP(this.url,this.headers,t,this.fetch)}get vectors(){return new tR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new HP(this.url+"/iceberg",this.headers,this.fetch)}}const iR="2.82.0";let $o="";typeof Deno<"u"?$o="deno":typeof document<"u"?$o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$o="react-native":$o="node";const oR={"X-Client-Info":`supabase-js-${$o}/${iR}`},aR={headers:oR},lR={schema:"public"},cR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uR={},dR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hR=()=>Headers,fR=(e,t,r)=>{const n=dR(r),s=hR();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function pR(e){return e.endsWith("/")?e:e+"/"}function mR(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function gR(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(pR(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const r1="2.82.0",hi=30*1e3,df=3,vd=df*hi,vR="http://localhost:9999",yR="supabase.auth.token",xR={"X-Client-Info":`gotrue-js/${r1}`},hf="X-Supabase-Api-Version",n1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bR=10*60*1e3;class Ea extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function G(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _R extends Ea{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function jR(e){return G(e)&&e.name==="AuthApiError"}class Ns extends Ea{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class fs extends Ea{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Dt extends fs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function SR(e){return G(e)&&e.name==="AuthSessionMissingError"}class si extends fs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class El extends fs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Cl extends fs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kR(e){return G(e)&&e.name==="AuthImplicitGrantRedirectError"}class yv extends fs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ff extends fs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function yd(e){return G(e)&&e.name==="AuthRetryableFetchError"}class xv extends fs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class pf extends fs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wv=` 	
\r=`.split(""),NR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wv.length;t+=1)e[wv[t].charCodeAt(0)]=-2;for(let t=0;t<Lc.length;t+=1)e[Lc[t].charCodeAt(0)]=t;return e})();function bv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Lc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Lc[n]),t.queuedBits-=6}}function s1(e,t,r){const n=NR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _v(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{TR(o,n,r)};for(let o=0;o<e.length;o+=1)s1(e.charCodeAt(o),s,i);return t.join("")}function ER(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function CR(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ER(n,t)}}function TR(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Di(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)s1(e.charCodeAt(s),r,n);return new Uint8Array(t)}function PR(e){const t=[];return CR(e,r=>t.push(r)),new Uint8Array(t)}function Ps(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>bv(s,r,n)),bv(null,r,n),t.join("")}function RR(e){return Math.round(Date.now()/1e3)+e}function OR(){return Symbol("auth-callback")}const Ge=()=>typeof window<"u"&&typeof document<"u",ys={tested:!1,writable:!1},i1=()=>{if(!Ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ys.tested)return ys.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ys.tested=!0,ys.writable=!0}catch{ys.tested=!0,ys.writable=!1}return ys.writable};function AR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const o1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),IR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jn=async(e,t)=>{await e.removeItem(t)};class yu{constructor(){this.promise=new yu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}yu.promiseConstructor=Promise;function xd(e){const t=e.split(".");if(t.length!==3)throw new pf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!wR.test(t[n]))throw new pf("JWT not in base64url format");return{header:JSON.parse(_v(t[0])),payload:JSON.parse(_v(t[1])),signature:Di(t[2]),raw:{header:t[0],payload:t[1]}}}async function zR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function DR(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function LR(e){return("0"+e.toString(16)).substr(-2)}function MR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,LR).join("")}async function $R(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function FR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $R(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ii(e,t,r=!1){const n=MR();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await fi(e,`${t}-code-verifier`,s);const i=await FR(n);return[i,n===i?"plain":"s256"]}const UR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BR(e){const t=e.headers.get(hf);if(!t||!t.match(UR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function WR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function qR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oi(e){if(!VR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function HR(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function jv(e){return JSON.parse(JSON.stringify(e))}const _s=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KR=[502,503,504];async function Sv(e){var t;if(!IR(e))throw new ff(_s(e),0);if(KR.includes(e.status))throw new ff(_s(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ns(_s(i),i)}let n;const s=BR(e);if(s&&s.getTime()>=n1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xv(_s(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Dt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new xv(_s(r),e.status,r.weak_password.reasons);throw new _R(_s(r),e.status||500,n)}const GR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function te(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[hf]||(i[hf]=n1["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await QR(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function QR(e,t,r,n,s,i){const o=GR(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new ff(_s(c),0)}if(l.ok||await Sv(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Sv(c)}}function mr(e){var t;let r=null;ZR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=RR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function kv(e){const t=mr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YR(e){return{data:e,error:null}}function JR(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=hs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Nv(e){return e}function ZR(e){return e.access_token&&e.refresh_token&&e.expires_in}const bd=["global","local","others"];class XR{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=o1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=bd[0]){if(bd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bd.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pn})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=hs(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:JR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(G(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pn})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Nv});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(b.split(";")[1].split("=")[1]);u[`${m}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(G(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){oi(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pn})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){oi(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Pn})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){oi(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pn})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){oi(t.userId);try{const{data:r,error:n}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _deleteFactor(t){oi(t.userId),oi(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Nv});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(b=>{const g=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(b.split(";")[1].split("=")[1]);u[`${m}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(G(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}}function Ev(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ai={debug:!!(globalThis&&i1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class a1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class eO extends a1{}async function tO(e,t,r){ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ai.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new eO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ai.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function rO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function l1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function nO(e){return parseInt(e,16)}function sO(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function iO(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=l1(e.address),b=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",m=`${b} wants you to sign in with your Ethereum account:
${f}

${g}`;let x=`URI: ${h}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}x+=y}return`${m}
${x}`}class Me extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Mc extends Me{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function oO({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Me({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(c1(o)){if(i.rp.id!==o)return new Me({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function aO({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Me({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(c1(n)){if(r.rpId!==n)return new Me({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class lO{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const cO=new lO;function uO(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=hs(e,["challenge","user","excludeCredentials"]),i=Di(t).buffer,o=Object.assign(Object.assign({},r),{id:Di(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Di(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function dO(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=hs(e,["challenge","allowCredentials"]),s=Di(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Di(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function hO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ps(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ps(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ps(new Uint8Array(s.authenticatorData)),clientDataJSON:Ps(new Uint8Array(s.clientDataJSON)),signature:Ps(new Uint8Array(s.signature)),userHandle:s.userHandle?Ps(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function c1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Cv(){var e,t;return!!(Ge()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function pO(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Mc("Browser returned unexpected credential type",t)}:{data:null,error:new Mc("Empty credential response",t)}}catch(t){return{data:null,error:oO({error:t,options:e})}}}async function mO(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Mc("Browser returned unexpected credential type",t)}:{data:null,error:new Mc("Empty credential response",t)}}catch(t){return{data:null,error:aO({error:t,options:e})}}}const gO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vO={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $c(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=$c(l,o):n[i]=$c(o)}else n[i]=o}return n}function yO(e,t){return $c(gO,e,t||{})}function xO(e,t){return $c(vO,e,t||{})}class wO{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??cO.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=yO(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await pO({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=xO(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await mO(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return G(o)?{data:null,error:o}:{data:null,error:new Ns("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ea("rpId is required for WebAuthn authentication")};try{if(!Cv())return{data:null,error:new Ns("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return G(o)?{data:null,error:o}:{data:null,error:new Ns("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ea("rpId is required for WebAuthn registration")};try{if(!Cv())return{data:null,error:new Ns("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return G(o)?{data:null,error:o}:{data:null,error:new Ns("Unexpected error in register",o)}}}}rO();const bO={url:vR,storageKey:yR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Tv(e,t,r){return await r()}const li={};class Ca{get jwks(){var t,r;return(r=(t=li[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=li[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},bO),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Ca.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ca.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ge()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new XR({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=o1(i.fetch),this.lock=i.lock||Tv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ge()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=tO:this.lock=Tv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:i1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ev(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ev(this.memoryStorage)),Ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${r1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ge()&&(r=AR(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ge()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),kR(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return G(r)?this._returnResult({error:r}):this._returnResult({error:new Ns("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:mr}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(G(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let f=null,b=null;this.flowType==="pkce"&&([f,b]=await ii(this.storage,this.storageKey)),i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:b},xform:mr})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:mr})}else throw new El("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(G(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:kv})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:kv})}else throw new El("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new si;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,h,p;let f,b;if("message"in t)f=t.message,b=t.signature;else{const{chain:g,wallet:m,statement:x,options:y}=t;let w;if(Ge())if(typeof m=="object")w=m;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")w=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=l1(j[0]);let E=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const R=await w.request({method:"eth_chainId"});E=nO(R)}const k={domain:_.host,address:N,statement:x,uri:_.href,version:"1",chainId:E,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=iO(k),b=await w.request({method:"personal_sign",params:[sO(f),N]})}try{const{data:g,error:m}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:b},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:mr});if(m)throw m;if(!g||!g.session||!g.user){const x=new si;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:m})}catch(g){if(G(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,h,p,f;let b,g;if("message"in t)b=t.message,g=t.signature;else{const{chain:m,wallet:x,statement:y,options:w}=t;let _;if(Ge())if(typeof x=="object")_=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let E;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")E=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)E=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)b=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:m,error:x}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ps(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:mr});if(x)throw x;if(!m||!m.session||!m.user){const y=new si;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:x})}catch(m){if(G(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(t){const r=await xs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:mr});if(await jn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new si;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(G(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:mr}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new si;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ii(this.storage,this.storageKey));const{error:h}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new El("You must provide either an email or phone number.")}catch(l){if(G(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:mr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ii(this.storage,this.storageKey));const u=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:YR});return!((i=u.data)===null||i===void 0)&&i.url&&Ge()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(G(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Dt;const{error:s}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(G(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new El("You must provide either an email or phone number and a type")}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await xs(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=wd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=HR(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pn}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dt}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Pn})})}catch(r){if(G(r))return SR(r)&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Dt;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ii(this.storage,this.storageKey));const{data:u,error:d}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Pn});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(G(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Dt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=xd(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(G(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Dt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ge())throw new Cl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Cl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yv("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Cl("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const f=p-d;f*1e3<=hi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const b=p-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,d);const{data:g,error:m}=await this._getUser(i);if(m)throw m;const x={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(G(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(jR(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=OR(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ii(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(G(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ge()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(G(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:mr}),{data:p,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new si}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(s){if(G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await DR(async s=>(s>0&&await zR(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:mr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&yd(i)&&Date.now()+o-n<hi})}catch(n){if(this._debug(r,"error",n),G(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ge()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await xs(this.storage,this.storageKey);if(s&&this.userStorage){let o=await xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await fi(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:wd()}else if(s&&!s.user&&!s.user){const o=await xs(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await jn(this.storage,this.storageKey+"-user"),await fi(this.storage,this.storageKey,s)):s.user=wd()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<vd;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${vd}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),yd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yu;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Dt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),G(i)){const o={data:null,error:i};return yd(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await fi(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=jv(s);await fi(this.storage,this.storageKey,i)}else{const s=jv(r);await fi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await jn(this.storage,this.storageKey),await jn(this.storage,this.storageKey+"-code-verifier"),await jn(this.storage,this.storageKey+"-user"),this.userStorage&&await jn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ge()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),hi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/hi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${hi}ms, refresh threshold is ${df} ticks`),s<=df&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof a1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ge()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ii(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?hO(t.webauthn.credential_response):fO(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:uO(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:dO(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=xd(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Dt})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Dt});const o=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ge()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Dt});const o=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ge()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Dt})})}catch(t){if(G(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Dt})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+bR>s)return n;const{data:i,error:o}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:b}=await this.getSession();if(b||!f.session)return this._returnResult({data:null,error:b});n=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=xd(n);r!=null&&r.allowExpired||WR(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const d=qR(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,PR(`${l}.${c}`)))throw new pf("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(G(n))return this._returnResult({data:null,error:n});throw n}}}Ca.nextInstanceID={};const _O=Ca;class jO extends _O{constructor(t){super(t)}}class SO{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=gR(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:lR,realtime:uR,auth:Object.assign(Object.assign({},cR),{storageKey:c}),global:aR},d=mR(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=fR(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new vP(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new sR(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new pP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:d},h,p){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jO({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new IP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kO=(e,t,r)=>new SO(e,t,r);function NO(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}NO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pi={id:"demo-user-123",email:"demo@popstack.app",user_metadata:{full_name:"Demo User",avatar_url:"https://api.dicebear.com/7.x/avataaars/svg?seed=demo"},created_at:"2024-01-01T00:00:00Z"},mf={total_items:18,total_ratings:18,total_text_reviews:6,watchlist_count:2},gf=[{id:"1",user_id:"demo-user-123",movie_id:550,movie_title:"Fight Club",movie_poster:"/pB8BM7pdSp6B6Ih7QZ4DrQ3PmJK.jpg",rating:10,review_text:"An absolute masterpiece! The twist ending blew my mind.",watched_date:"2024-01-15",created_at:"2024-01-15T00:00:00Z"},{id:"2",user_id:"demo-user-123",movie_id:13,movie_title:"Forrest Gump",movie_poster:"/arw2vcBveWOVZr6pxd9XTd1TdQa.jpg",rating:9,review_text:"Life is like a box of chocolates... Beautiful story!",watched_date:"2024-01-10",created_at:"2024-01-10T00:00:00Z"},{id:"3",user_id:"demo-user-123",movie_id:278,movie_title:"The Shawshank Redemption",movie_poster:"/q6y0Go1tsGEsmtFryDOJo3dEmqu.jpg",rating:10,review_text:"Hope is a good thing, maybe the best of things.",watched_date:"2024-01-05",created_at:"2024-01-05T00:00:00Z"},{id:"4",user_id:"demo-user-123",movie_id:238,movie_title:"The Godfather",movie_poster:"/3bhkrj58Vtu7enYsRolD1fZdja1.jpg",rating:9,review_text:"An offer you can't refuse. Classic cinema at its finest.",watched_date:"2024-01-20",created_at:"2024-01-20T00:00:00Z"},{id:"5",user_id:"demo-user-123",movie_id:27205,movie_title:"Inception",movie_poster:"/9gk7adHYeDvHkCSEqAvQNLV5Uge.jpg",rating:10,review_text:null,watched_date:"2024-01-18",created_at:"2024-01-18T00:00:00Z"},{id:"6",user_id:"demo-user-123",movie_id:155,movie_title:"The Dark Knight",movie_poster:"/qJ2tW6WMUDux911r6m7haRef0WH.jpg",rating:10,review_text:null,watched_date:"2024-01-12",created_at:"2024-01-12T00:00:00Z"},{id:"7",user_id:"demo-user-123",movie_id:680,movie_title:"Pulp Fiction",movie_poster:"/d5iIlFn5s0ImszYzBPb8JPIfbXD.jpg",rating:9,review_text:null,watched_date:"2024-01-08",created_at:"2024-01-08T00:00:00Z"},{id:"8",user_id:"demo-user-123",movie_id:157336,movie_title:"Interstellar",movie_poster:"/gEU2QniE6E77NI6lCU6MxlNBvIx.jpg",rating:10,review_text:null,watched_date:"2024-01-03",created_at:"2024-01-03T00:00:00Z"}],EO=[{id:"1",user_id:"demo-user-123",series_id:1396,series_title:"Breaking Bad",series_poster:"/ggFHVNu6YYI5L9pCfOacjizRGt.jpg",rating:10,review_text:"Best TV series ever made. Perfect from start to finish.",watched_date:"2024-01-22",created_at:"2024-01-22T00:00:00Z"},{id:"2",user_id:"demo-user-123",series_id:1399,series_title:"Game of Thrones",series_poster:"/1XS1oqL89opfnbLl8WnZY1O1uJx.jpg",rating:8,review_text:null,watched_date:"2024-01-16",created_at:"2024-01-16T00:00:00Z"},{id:"3",user_id:"demo-user-123",series_id:94605,series_title:"Arcane",series_poster:"/fqldf2t8ztc9aiwn3k6mlX3tvRT.jpg",rating:9,review_text:null,watched_date:"2024-01-11",created_at:"2024-01-11T00:00:00Z"},{id:"4",user_id:"demo-user-123",series_id:60625,series_title:"The Last of Us",series_poster:"/uKvVjHNqB5VmOrdxqAt2F7J78ED.jpg",rating:9,review_text:null,watched_date:"2024-01-07",created_at:"2024-01-07T00:00:00Z"}],vf=[{id:"1",user_id:"demo-user-123",game_id:3498,game_title:"Grand Theft Auto V",game_cover:"https://media.rawg.io/media/games/456/456dea5e1c7e3cd07060c14e96612001.jpg",rating:9,review_text:"Amazing open world, great story, endless fun!",watched_date:"2024-01-12",hours_played:120,platform:"PC",created_at:"2024-01-12T00:00:00Z"},{id:"2",user_id:"demo-user-123",game_id:4200,game_title:"Portal 2",game_cover:"https://media.rawg.io/media/games/328/3283617cb7d75d67257fc58339188742.jpg",rating:10,review_text:"Perfect puzzle game with amazing humor and story.",watched_date:"2024-01-08",hours_played:15,platform:"Steam",created_at:"2024-01-08T00:00:00Z"},{id:"3",user_id:"demo-user-123",game_id:3328,game_title:"The Witcher 3: Wild Hunt",game_cover:"https://media.rawg.io/media/games/618/618c2031a07bbff6b4f611f10b6bcdbc.jpg",rating:10,review_text:null,watched_date:"2024-01-06",hours_played:200,platform:"PC",created_at:"2024-01-06T00:00:00Z"},{id:"4",user_id:"demo-user-123",game_id:28,game_title:"Red Dead Redemption 2",game_cover:"https://media.rawg.io/media/games/511/5118aff5091cb3efec399c808f8c598f.jpg",rating:9,review_text:null,watched_date:"2024-01-04",hours_played:85,platform:"PlayStation 5",created_at:"2024-01-04T00:00:00Z"},{id:"5",user_id:"demo-user-123",game_id:1030,game_title:"Limbo",game_cover:"https://media.rawg.io/media/games/942/9424d6bb763dc38d9378b488603c87fa.jpg",rating:8,review_text:null,watched_date:"2024-01-02",hours_played:4,platform:"PC",created_at:"2024-01-02T00:00:00Z"},{id:"6",user_id:"demo-user-123",game_id:9767,game_title:"Hollow Knight",game_cover:"https://media.rawg.io/media/games/4cf/4cfc6b7f1850590a4634b08bfab308ab.jpg",rating:9,review_text:null,watched_date:"2023-12-28",hours_played:45,platform:"Nintendo Switch",created_at:"2023-12-28T00:00:00Z"}],u1=[{id:"1",user_id:"demo-user-123",item_type:"movie",item_id:27205,item_title:"Inception",item_poster:"/9gk7adHYeDvHkCSEqAvQNLV5Uge.jpg",item_rating:8.8,added_at:"2024-01-25T00:00:00Z"},{id:"2",user_id:"demo-user-123",item_type:"game",item_id:3328,item_title:"The Witcher 3: Wild Hunt",item_poster:"https://media.rawg.io/media/games/618/618c2031a07bbff6b4f611f10b6bcdbc.jpg",item_rating:9.3,added_at:"2024-01-24T00:00:00Z"}],Fc=[{id:"1",user_id:"demo-user-123",name:"Favorite Sci-Fi",description:"My all-time favorite science fiction movies",created_at:"2024-01-01T00:00:00Z",items_count:5,collection_items:[{id:"1",collection_id:"1",item_type:"movie",item_id:27205,item_title:"Inception",item_poster:"/9gk7adHYeDvHkCSEqAvQNLV5Uge.jpg",added_at:"2024-01-01T00:00:00Z"},{id:"2",collection_id:"1",item_type:"movie",item_id:603,item_title:"The Matrix",item_poster:"/f89U3ADr1oiB1s9GkdPOEpXUk5H.jpg",added_at:"2024-01-02T00:00:00Z"},{id:"3",collection_id:"1",item_type:"movie",item_id:157336,item_title:"Interstellar",item_poster:"/gEU2QniE6E77NI6lCU6MxlNBvIx.jpg",added_at:"2024-01-03T00:00:00Z"},{id:"4",collection_id:"1",item_type:"movie",item_id:62,item_title:"2001: A Space Odyssey",item_poster:"/ve72VxNqjGM69Uky4WTo2bK6rfq.jpg",added_at:"2024-01-04T00:00:00Z"},{id:"5",collection_id:"1",item_type:"movie",item_id:78,item_title:"Blade Runner",item_poster:"/63N9uy8nd9j7Eog2axPQ8lbr3Wj.jpg",added_at:"2024-01-05T00:00:00Z"}]},{id:"2",user_id:"demo-user-123",name:"Must Play RPGs",description:"Best role-playing games I've experienced",created_at:"2024-01-02T00:00:00Z",items_count:3,collection_items:[{id:"6",collection_id:"2",item_type:"game",item_id:3328,item_title:"The Witcher 3: Wild Hunt",item_poster:"https://media.rawg.io/media/games/618/618c2031a07bbff6b4f611f10b6bcdbc.jpg",added_at:"2024-01-02T00:00:00Z"},{id:"7",collection_id:"2",item_type:"game",item_id:28,item_title:"Red Dead Redemption 2",item_poster:"https://media.rawg.io/media/games/511/5118aff5091cb3efec399c808f8c598f.jpg",added_at:"2024-01-03T00:00:00Z"},{id:"8",collection_id:"2",item_type:"game",item_id:3070,item_title:"Fallout 4",item_poster:"https://media.rawg.io/media/games/d82/d82990b9c67ba0d2d09d4e6fa88885a7.jpg",added_at:"2024-01-04T00:00:00Z"}]},{id:"3",user_id:"demo-user-123",name:"Classic Cinema",description:"Timeless masterpieces everyone should watch",created_at:"2024-01-03T00:00:00Z",items_count:4,collection_items:[{id:"9",collection_id:"3",item_type:"movie",item_id:238,item_title:"The Godfather",item_poster:"/3bhkrj58Vtu7enYsRolD1fZdja1.jpg",added_at:"2024-01-03T00:00:00Z"},{id:"10",collection_id:"3",item_type:"movie",item_id:278,item_title:"The Shawshank Redemption",item_poster:"/q6y0Go1tsGEsmtFryDOJo3dEmqu.jpg",added_at:"2024-01-04T00:00:00Z"},{id:"11",collection_id:"3",item_type:"movie",item_id:424,item_title:"Schindler's List",item_poster:"/sF1U4EUQS8YHUYjNl3pMGNIQyr0.jpg",added_at:"2024-01-05T00:00:00Z"},{id:"12",collection_id:"3",item_type:"movie",item_id:389,item_title:"12 Angry Men",item_poster:"/ow3wq89wM8qd5X7hWKxiRfsFf9C.jpg",added_at:"2024-01-06T00:00:00Z"}]},{id:"4",user_id:"demo-user-123",name:"Indie Gems",description:"Hidden indie game treasures",created_at:"2024-01-04T00:00:00Z",items_count:3,collection_items:[{id:"13",collection_id:"4",item_type:"game",item_id:1030,item_title:"Limbo",item_poster:"https://media.rawg.io/media/games/942/9424d6bb763dc38d9378b488603c87fa.jpg",added_at:"2024-01-04T00:00:00Z"},{id:"14",collection_id:"4",item_type:"game",item_id:9767,item_title:"Hollow Knight",item_poster:"https://media.rawg.io/media/games/4cf/4cfc6b7f1850590a4634b08bfab308ab.jpg",added_at:"2024-01-05T00:00:00Z"},{id:"15",collection_id:"4",item_type:"game",item_id:22509,item_title:"Celeste",item_poster:"https://media.rawg.io/media/games/e04/e04963f3ac4c4fa83a1dc0b9231e50db.jpg",added_at:"2024-01-06T00:00:00Z"}]}],yf=Object.freeze(Object.defineProperty({__proto__:null,DEMO_COLLECTIONS:Fc,DEMO_GAMES:vf,DEMO_MOVIES:gf,DEMO_SERIES:EO,DEMO_STATS:mf,DEMO_USER:pi,DEMO_WATCHLIST:u1},Symbol.toStringTag,{value:"Module"})),CO="https://dummy.supabase.co",TO="dummy-key",se=kO(CO,TO),d1=v.createContext(void 0),PO=({children:e})=>{const[t,r]=v.useState(null),[n,s]=v.useState(null),[i,o]=v.useState(!0),{toast:l}=qr();v.useEffect(()=>{{console.log(" DEMO MODE: Auto-login with demo user",pi),r(pi),s({user:pi}),o(!1);return}},[]);const c=async(p,f)=>{try{const{error:b}=await se.auth.signUp({email:p,password:f});return b?(l({title:"Error",description:b.message,variant:"destructive"}),{error:b}):(l({title:"Success!",description:"Check your email to confirm your account"}),{error:null})}catch(b){return{error:b}}},u=async(p,f)=>p==="demo@popstack.app"&&f==="demo123456"?(r(pi),s({user:pi}),l({title:"Welcome to Demo!",description:"You are now exploring PopStack with sample data"}),{error:null}):(l({title:"Demo Mode",description:"Use demo@popstack.app / demo123456",variant:"destructive"}),{error:{message:"Invalid demo credentials"}}),d=async()=>{try{const{error:p}=await se.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});return p?(l({title:"Error",description:p.message,variant:"destructive"}),{error:p}):{error:null}}catch(p){return{error:p}}},h=async()=>{await se.auth.signOut(),l({title:"Signed out",description:"See you soon!"})};return a.jsx(d1.Provider,{value:{user:t,session:n,loading:i,signUp:c,signIn:u,signInWithGoogle:d,signOut:h},children:e})},we=()=>{const e=v.useContext(d1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},RO={pl:{appName:"PopStack",appSubtitle:"Panel Mediw",dashboard:"Panel",discover:"Odkrywaj",watchlist:"Lista",myCollection:"Moja Kolekcja",profile:"Profil",settings:"Ustawienia",signOut:"Wyloguj",signIn:"Zaloguj",terms:"Regulamin",about:"O aplikacji",welcomeBack:"Witaj ponownie",yourMedia:"Twoje Media,",trackedStacked:"ledzone i Uporzdkowane",dashboardSubtitle:"Odkrywaj, zbieraj i dziel si swoj podr przez filmy, seriale i gry.",exploreNow:"Odkrywaj teraz",trendingNow:"Popularne teraz",trendingSubtitle:"Co wszyscy ogldaj i graj",viewAll:"Zobacz wszystko",featuredCollections:"Wyrnione Kolekcje",collectionsSubtitle:"Wyselekcjonowane listy na kady nastrj",items:"elementw",createAccount:"Utwrz konto",welcomeBackLogin:"Witaj ponownie",joinUs:"Docz do nas i zacznij ledzi swoj podr medialn",signInSubtitle:"Zaloguj si, aby kontynuowa ledzenie swojej podry medialnej",email:"Email",password:"Haso",signUp:"Zarejestruj si",loading:"adowanie...",orContinueWith:"LUB KONTYNUUJ Z",continueWithGoogle:"Kontynuuj z Google",alreadyHaveAccount:"Masz ju konto?",dontHaveAccount:"Nie masz konta?",trackEverything:"led Wszystko",youLove:"Co Kochasz",loginHeroText:"Filmy, seriale i gry w jednym miejscu. Docz do tysicy entuzjastw mediw.",friends:"Znajomi",searchUsers:"Szukaj uytkownikw...",noFriendsYet:"Nie masz jeszcze znajomych",searchForUsers:"Wyszukaj uytkownikw powyej",requests:"Zaproszenia",noPendingRequests:"Brak oczekujcych zaprosze",wantsToBeFriend:"Chce by Twoim znajomym",accept:"Akceptuj",reject:"Odrzu",friend:"Znajomy",sent:"Wysano",accepted:"Zaakceptowano",rejected:"Odrzucono",removed:"Usunito",requestSent:"Wysano zaproszenie",requestAccepted:"Jeste teraz znajomym",requestRejected:"Zaproszenie zostao odrzucone",friendRemoved:"Usunito ze znajomych"},en:{appName:"PopStack",appSubtitle:"Media Dashboard",dashboard:"Dashboard",discover:"Discover",watchlist:"My List",myCollection:"My Collection",profile:"Profile",settings:"Settings",signOut:"Sign Out",signIn:"Sign In",terms:"Terms",about:"About",welcomeBack:"Welcome Back",yourMedia:"Your Media,",trackedStacked:"Tracked & Stacked",dashboardSubtitle:"Discover, collect, and share your journey through movies, series, and games.",exploreNow:"Explore Now",trendingNow:"Trending Now",trendingSubtitle:"What everyone's watching and playing",viewAll:"View All",featuredCollections:"Featured Collections",collectionsSubtitle:"Curated lists for every mood",items:"items",createAccount:"Create Account",welcomeBackLogin:"Welcome Back",joinUs:"Join us and start tracking your media journey",signInSubtitle:"Sign in to continue tracking your media journey",email:"Email",password:"Password",signUp:"Sign Up",loading:"Loading...",orContinueWith:"OR CONTINUE WITH",continueWithGoogle:"Continue with Google",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",trackEverything:"Track Everything",youLove:"You Love",loginHeroText:"Movies, series, and games all in one place. Join thousands of media enthusiasts.",friends:"Friends",searchUsers:"Search users...",noFriendsYet:"No friends yet",searchForUsers:"Search for users above",requests:"Requests",noPendingRequests:"No pending requests",wantsToBeFriend:"Wants to be your friend",accept:"Accept",reject:"Reject",friend:"Friend",sent:"Sent",accepted:"Accepted",rejected:"Rejected",removed:"Removed",requestSent:"Request sent",requestAccepted:"You are now friends",requestRejected:"Request has been rejected",friendRemoved:"Removed from friends"}},h1={pl:{addToCollection:"Dodaj do kolekcji",addToWatchlist:"Dodaj do listy",removeFromWatchlist:"Usu z listy",markAsWatched:"Obejrzane",markAsPlayed:"Zagrane",rateThis:"Oce",addReview:"Dodaj opini"},en:{addToCollection:"Add to Collection",addToWatchlist:"Add to Watchlist",removeFromWatchlist:"Remove from Watchlist",markAsWatched:"Mark as Watched",markAsPlayed:"Mark as Played",rateThis:"Rate",addReview:"Add Review"}},f1=v.createContext(void 0),OO=({children:e})=>{const[t,r]=v.useState(()=>localStorage.getItem("language")||"pl"),n=s=>{r(s),localStorage.setItem("language",s)};return a.jsx(f1.Provider,{value:{language:t,setLanguage:n,t:{...RO[t],language:t}},children:e})},wt=()=>{const e=v.useContext(f1);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},Gr=({children:e})=>{const{user:t,loading:r}=we();return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(WT,{to:"/login",replace:!0})},p1=()=>{const[e,t]=v.useState(()=>localStorage.getItem("theme")||"dark");return v.useEffect(()=>{const n=window.document.documentElement;if(n.classList.remove("light","dark"),e==="system"){const s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";n.classList.add(s)}else n.classList.add(e);localStorage.setItem("theme",e)},[e]),{theme:e,setTheme:n=>{t(n)}}},m1=v.forwardRef(({className:e,activeClassName:t,pendingClassName:r,to:n,...s},i)=>a.jsx(nP,{ref:i,to:n,className:({isActive:o,isPending:l})=>ve(e,o&&t,l&&r),...s}));m1.displayName="NavLink";const AO=Ua("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-sm text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-2 border-border bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",brutal:"bg-primary text-primary-foreground border-2 border-foreground brutal-shadow hover:translate-x-1 hover:translate-y-1 transition-transform font-bold uppercase tracking-wide",glass:"glass-panel backdrop-blur-xl border border-border/50 hover:bg-card/90 text-foreground",gradient:"gradient-primary text-white border-0 hover:opacity-90 font-bold"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-sm px-3",lg:"h-11 rounded-sm px-8",xl:"h-14 rounded-sm px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?pk:"button";return a.jsx(o,{className:ve(AO({variant:t,size:r,className:e})),ref:i,...s})});Q.displayName="Button";var g1={exports:{}},v1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao=v;function IO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zO=typeof Object.is=="function"?Object.is:IO,DO=ao.useState,LO=ao.useEffect,MO=ao.useLayoutEffect,$O=ao.useDebugValue;function FO(e,t){var r=t(),n=DO({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return MO(function(){s.value=r,s.getSnapshot=t,_d(s)&&i({inst:s})},[e,r,t]),LO(function(){return _d(s)&&i({inst:s}),e(function(){_d(s)&&i({inst:s})})},[e]),$O(r),r}function _d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zO(e,r)}catch{return!0}}function UO(e,t){return t()}var BO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?UO:FO;v1.useSyncExternalStore=ao.useSyncExternalStore!==void 0?ao.useSyncExternalStore:BO;g1.exports=v1;var WO=g1.exports;function qO(){return WO.useSyncExternalStore(VO,()=>!0,()=>!1)}function VO(){return()=>{}}var Zp="Avatar",[HO,UI]=us(Zp),[KO,y1]=HO(Zp),x1=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=v.useState("idle");return a.jsx(KO,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(me.span,{...n,ref:t})})});x1.displayName=Zp;var w1="AvatarImage",b1=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=y1(w1,r),l=GO(n,i),c=ar(u=>{s(u),o.onImageLoadingStatusChange(u)});return lr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(me.img,{...i,ref:t,src:n}):null});b1.displayName=w1;var _1="AvatarFallback",j1=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=y1(_1,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(me.span,{...s,ref:t}):null});j1.displayName=_1;function Pv(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function GO(e,{referrerPolicy:t,crossOrigin:r}){const n=qO(),s=v.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=v.useState(()=>Pv(i,e));return lr(()=>{l(Pv(i,e))},[i,e]),lr(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var S1=x1,k1=b1,N1=j1;const es=v.forwardRef(({className:e,...t},r)=>a.jsx(S1,{ref:r,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));es.displayName=S1.displayName;const ts=v.forwardRef(({className:e,...t},r)=>a.jsx(k1,{ref:r,className:ve("aspect-square h-full w-full",e),...t}));ts.displayName=k1.displayName;const rs=v.forwardRef(({className:e,...t},r)=>a.jsx(N1,{ref:r,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));rs.displayName=N1.displayName;const Rv=()=>{var c,u,d,h,p;const{user:e,signOut:t}=we(),{t:r}=wt(),[n,s]=v.useState(null),i=[{icon:f2,label:r.dashboard,path:"/"},{icon:c2,label:r.discover,path:"/discover"},{icon:Ba,label:r.watchlist,path:"/watchlist"},{icon:au,label:r.myCollection,path:"/collection"},{icon:Jx,label:r.profile,path:"/profile"},{icon:Sp,label:r.settings,path:"/settings"}];v.useEffect(()=>{(async()=>{if(!(e!=null&&e.id))return;const{data:b}=await se.from("profiles").select("username").eq("id",e.id).single();b!=null&&b.username&&s(b.username)})()},[e==null?void 0:e.id]);const o=n||((c=e==null?void 0:e.user_metadata)==null?void 0:c.full_name)||((u=e==null?void 0:e.user_metadata)==null?void 0:u.name)||((d=e==null?void 0:e.email)==null?void 0:d.split("@")[0])||"User",l=((h=e==null?void 0:e.user_metadata)==null?void 0:h.avatar_url)||((p=e==null?void 0:e.user_metadata)==null?void 0:p.picture);return a.jsxs("aside",{className:"w-full lg:w-64 border-r-2 border-border flex flex-col h-full glass-panel flex-shrink-0",children:[a.jsxs("div",{className:"p-4 lg:p-6 space-y-4 border-b-2 border-border flex-shrink-0",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("h1",{className:"text-3xl lg:text-4xl logo-text text-primary",children:r.appName}),a.jsx("p",{className:"text-xs mono text-muted-foreground uppercase",children:r.appSubtitle})]}),e&&a.jsxs(Ql,{to:"/profile",className:"flex items-center gap-2 lg:gap-3 p-3 lg:p-4 rounded-sm bg-card border-2 border-border brutal-shadow hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all group",children:[a.jsxs(es,{className:"h-10 w-10 lg:h-12 lg:w-12 border-2 border-primary flex-shrink-0",children:[a.jsx(ts,{src:l,alt:o}),a.jsx(rs,{className:"bg-primary text-primary-foreground font-bold text-base lg:text-lg",children:o.charAt(0).toUpperCase()})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm lg:text-base font-bold truncate group-hover:text-primary transition-colors",children:o}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.email})]})]})]}),a.jsx("nav",{className:"flex-1 p-3 lg:p-4 space-y-1 overflow-y-auto",children:i.map(f=>a.jsxs(m1,{to:f.path,className:"flex items-center gap-2 lg:gap-3 px-3 lg:px-4 py-2.5 lg:py-3 rounded-sm text-foreground/70 hover:text-foreground hover:bg-accent/50 transition-all",activeClassName:"bg-primary text-primary-foreground font-semibold",children:[a.jsx(f.icon,{size:20,className:"flex-shrink-0"}),a.jsx("span",{className:"font-medium text-sm lg:text-base",children:f.label})]},f.path))}),a.jsxs("div",{className:"p-3 lg:p-4 space-y-3 border-t-2 border-border flex-shrink-0",children:[e&&a.jsxs(Q,{variant:"brutal",className:"w-full",size:"lg",onClick:()=>{window.location.href="/login"},children:[a.jsx(Ph,{size:18,className:"lg:mr-2"}),a.jsx("span",{className:"hidden lg:inline",children:r.signOut})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 lg:gap-3 text-xs text-muted-foreground",children:[a.jsx(Ql,{to:"/terms",className:"hover:text-foreground transition-colors hover:underline",children:r.terms}),a.jsx("span",{children:""}),a.jsx(Ql,{to:"/about",className:"hover:text-foreground transition-colors hover:underline",children:r.about})]})]})]})},Ot=v.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ot.displayName="Input";const QO=Ua("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ct({className:e,variant:t,...r}){return a.jsx("div",{className:ve(QO({variant:t}),e),...r})}const YO=()=>{const{user:e}=we();return fe({queryKey:["friends",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:t,error:r}=await se.from("friendships").select("*").or(`user_id.eq.${e.id},friend_id.eq.${e.id}`).eq("status","accepted");if(r)throw r;if(!t||t.length===0)return[];const n=t.map(o=>o.user_id===e.id?o.friend_id:o.user_id),{data:s,error:i}=await se.from("profiles").select("id, username, avatar_url").in("id",n);if(i)throw i;return t.map(o=>{const l=o.user_id===e.id?o.friend_id:o.user_id,c=(s==null?void 0:s.find(u=>u.id===l))||{id:l,username:"Unknown",avatar_url:null};return{...o,friendProfile:c}})},enabled:!!(e!=null&&e.id),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1})},JO=()=>{const{user:e}=we();return fe({queryKey:["pendingFriendRequests",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:t,error:r}=await se.from("friendships").select("*").eq("friend_id",e.id).eq("status","pending");if(r)throw r;if(!t||t.length===0)return[];const n=t.map(o=>o.user_id),{data:s,error:i}=await se.from("profiles").select("id, username, avatar_url").in("id",n);if(i)throw i;return t.map(o=>({...o,user:(s==null?void 0:s.find(l=>l.id===o.user_id))||{id:o.user_id,username:"Unknown",avatar_url:null}}))},enabled:!!(e!=null&&e.id),staleTime:2*60*1e3,gcTime:5*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1})},ZO=()=>{const{user:e}=we();return fe({queryKey:["sentFriendRequests",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const{data:t,error:r}=await se.from("friendships").select("*").eq("user_id",e.id).eq("status","pending");if(r)throw r;if(!t||t.length===0)return[];const n=t.map(o=>o.friend_id),{data:s,error:i}=await se.from("profiles").select("id, username, avatar_url").in("id",n);if(i)throw i;return t.map(o=>({...o,friend:(s==null?void 0:s.find(l=>l.id===o.friend_id))||{id:o.friend_id,username:"Unknown",avatar_url:null}}))},enabled:!!(e!=null&&e.id),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1})},XO=()=>{const e=xt(),{user:t}=we();return Kt({mutationFn:async r=>{if(!(t!=null&&t.id))throw new Error("Not authenticated");const{data:n}=await se.from("friendships").select("id, status").or(`and(user_id.eq.${t.id},friend_id.eq.${r}),and(user_id.eq.${r},friend_id.eq.${t.id})`).maybeSingle();if(n){if(n.status==="pending")throw new Error("Request already sent");if(n.status==="accepted")throw new Error("Already friends")}const{data:s,error:i}=await se.from("friendships").insert({user_id:t.id,friend_id:r,status:"pending"});if(i)throw i;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["sentFriendRequests"]}),e.invalidateQueries({queryKey:["friends"]})}})},eA=()=>{const e=xt();return Kt({mutationFn:async t=>{const{data:r,error:n}=await se.from("friendships").update({status:"accepted"}).eq("id",t);if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["friends"]}),e.invalidateQueries({queryKey:["pendingFriendRequests"]})}})},tA=()=>{const e=xt();return Kt({mutationFn:async t=>{const{data:r,error:n}=await se.from("friendships").delete().eq("id",t);if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["pendingFriendRequests"]})}})},rA=()=>{const e=xt();return Kt({mutationFn:async t=>{const{data:r,error:n}=await se.from("friendships").delete().eq("id",t);if(n)throw n;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["friends"]})}})},nA=e=>{const{user:t}=we();return fe({queryKey:["searchUsers",e],queryFn:async()=>{if(!e||e.length<2)return[];const{data:r,error:n}=await se.from("profiles").select("id, username, avatar_url").ilike("username",`%${e}%`).neq("id",(t==null?void 0:t.id)||"").limit(10);if(n)throw n;return r},enabled:e.length>=2,staleTime:3e4,gcTime:6e4,refetchOnWindowFocus:!1,refetchOnMount:!1})};var sA=v.createContext(void 0);function E1(e){const t=v.useContext(sA);return e||t||"ltr"}var jd="rovingFocusGroup.onEntryFocus",iA={bubbles:!1,cancelable:!0},Ha="RovingFocusGroup",[xf,C1,oA]=xx(Ha),[aA,T1]=us(Ha,[oA]),[lA,cA]=aA(Ha),P1=v.forwardRef((e,t)=>a.jsx(xf.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(xf.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(uA,{...e,ref:t})})}));P1.displayName=Ha;var uA=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=v.useRef(null),f=ct(t,p),b=E1(i),[g,m]=$a({prop:o,defaultProp:l??null,onChange:c,caller:Ha}),[x,y]=v.useState(!1),w=ar(u),_=C1(r),j=v.useRef(!1),[N,E]=v.useState(0);return v.useEffect(()=>{const k=p.current;if(k)return k.addEventListener(jd,w),()=>k.removeEventListener(jd,w)},[w]),a.jsx(lA,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:g,onItemFocus:v.useCallback(k=>m(k),[m]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>E(k=>k+1),[]),onFocusableItemRemove:v.useCallback(()=>E(k=>k-1),[]),children:a.jsx(me.div,{tabIndex:x||N===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:ce(e.onMouseDown,()=>{j.current=!0}),onFocus:ce(e.onFocus,k=>{const R=!j.current;if(k.target===k.currentTarget&&R&&!x){const C=new CustomEvent(jd,iA);if(k.currentTarget.dispatchEvent(C),!C.defaultPrevented){const F=_().filter(W=>W.focusable),I=F.find(W=>W.active),L=F.find(W=>W.id===g),$=[I,L,...F].filter(Boolean).map(W=>W.ref.current);A1($,d)}}j.current=!1}),onBlur:ce(e.onBlur,()=>y(!1))})})}),R1="RovingFocusGroupItem",O1=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Ii(),u=i||c,d=cA(R1,r),h=d.currentTabStopId===u,p=C1(r),{onFocusableItemAdd:f,onFocusableItemRemove:b,currentTabStopId:g}=d;return v.useEffect(()=>{if(n)return f(),()=>b()},[n,f,b]),a.jsx(xf.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(me.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ce(e.onMouseDown,m=>{n?d.onItemFocus(u):m.preventDefault()}),onFocus:ce(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ce(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const x=fA(m,d.orientation,d.dir);if(x!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let w=p().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const _=w.indexOf(m.currentTarget);w=d.loop?pA(w,_+1):w.slice(_+1)}setTimeout(()=>A1(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});O1.displayName=R1;var dA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hA(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function fA(e,t,r){const n=hA(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return dA[n]}function A1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function pA(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var mA=P1,gA=O1,xu="Tabs",[vA,BI]=us(xu,[T1]),I1=T1(),[yA,Xp]=vA(xu),z1=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=E1(l),[h,p]=$a({prop:n,onChange:s,defaultProp:i??"",caller:xu});return a.jsx(yA,{scope:r,baseId:Ii(),value:h,onValueChange:p,orientation:o,dir:d,activationMode:c,children:a.jsx(me.div,{dir:d,"data-orientation":o,...u,ref:t})})});z1.displayName=xu;var D1="TabsList",L1=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=Xp(D1,r),o=I1(r);return a.jsx(mA,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(me.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});L1.displayName=D1;var M1="TabsTrigger",$1=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=Xp(M1,r),l=I1(r),c=B1(o.baseId,n),u=W1(o.baseId,n),d=n===o.value;return a.jsx(gA,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:ce(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:ce(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:ce(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(n)})})})});$1.displayName=M1;var F1="TabsContent",U1=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=Xp(F1,r),c=B1(l.baseId,n),u=W1(l.baseId,n),d=n===l.value,h=v.useRef(d);return v.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(ei,{present:s||d,children:({present:p})=>a.jsx(me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});U1.displayName=F1;function B1(e,t){return`${e}-trigger-${t}`}function W1(e,t){return`${e}-content-${t}`}var xA=z1,q1=L1,V1=$1,H1=U1;const wA=xA,K1=v.forwardRef(({className:e,...t},r)=>a.jsx(q1,{ref:r,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));K1.displayName=q1.displayName;const wf=v.forwardRef(({className:e,...t},r)=>a.jsx(V1,{ref:r,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));wf.displayName=V1.displayName;const bf=v.forwardRef(({className:e,...t},r)=>a.jsx(H1,{ref:r,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));bf.displayName=H1.displayName;const Sd=()=>{const{language:e}=wt(),{toast:t}=qr(),[r,n]=v.useState(""),[s,i]=v.useState(""),[o,l]=v.useState("friends");v.useEffect(()=>{const k=setTimeout(()=>{i(r)},300);return()=>clearTimeout(k)},[r]);const{data:c,isLoading:u}=YO(),{data:d,isLoading:h}=JO(),{data:p}=ZO(),{data:f}=nA(s),b=eA(),g=tA(),m=rA(),x=XO(),y=async(k,R)=>{try{await b.mutateAsync(k),t({title:e==="pl"?"Zaakceptowano":"Accepted",description:e==="pl"?`Jeste teraz znajomym z ${R}`:`You are now friends with ${R}`})}catch{t({title:e==="pl"?"Bd":"Error",description:e==="pl"?"Nie udao si zaakceptowa":"Failed to accept",variant:"destructive"})}},w=async k=>{try{await g.mutateAsync(k),t({title:e==="pl"?"Odrzucono":"Rejected",description:e==="pl"?"Zaproszenie zostao odrzucone":"Request has been rejected"})}catch{t({title:e==="pl"?"Bd":"Error",description:e==="pl"?"Nie udao si odrzuci":"Failed to reject",variant:"destructive"})}},_=async(k,R)=>{try{await m.mutateAsync(k),t({title:e==="pl"?"Usunito":"Removed",description:e==="pl"?`Usunito ${R} ze znajomych`:`Removed ${R} from friends`})}catch{t({title:e==="pl"?"Bd":"Error",description:e==="pl"?"Nie udao si usun":"Failed to remove",variant:"destructive"})}},j=async(k,R)=>{try{await x.mutateAsync(k),t({title:e==="pl"?"Wysano":"Sent",description:e==="pl"?`Wysano zaproszenie do ${R}`:`Sent request to ${R}`}),n("")}catch(C){const F=(C==null?void 0:C.message)||"";F.includes("already sent")||F.includes("duplicate")?t({title:e==="pl"?"Ju wysano":"Already sent",description:e==="pl"?"Zaproszenie zostao ju wysane":"Request already sent"}):F.includes("Already friends")?t({title:e==="pl"?"Ju znajomi":"Already friends",description:e==="pl"?`Jeste ju znajomym z ${R}`:`You are already friends with ${R}`}):t({title:e==="pl"?"Bd":"Error",description:e==="pl"?"Nie udao si wysa zaproszenia":"Failed to send request",variant:"destructive"})}},N=k=>c==null?void 0:c.some(R=>R.friendProfile.id===k),E=k=>p==null?void 0:p.some(R=>R.friend_id===k);return a.jsxs("aside",{className:"w-full xl:w-80 border-l-2 border-border flex flex-col h-full glass-panel flex-shrink-0",children:[a.jsxs("div",{className:"p-4 lg:p-6 border-b-2 border-border flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-3 lg:mb-4",children:[a.jsx("div",{className:"p-1.5 lg:p-2 bg-primary/10 border-2 border-primary rounded-sm flex-shrink-0",children:a.jsx(jc,{className:"text-primary",size:20})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-xl lg:text-2xl font-heading font-bold truncate",children:e==="pl"?"Znajomi":"Friends"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(c==null?void 0:c.length)||0," ",e==="pl"?"znajomych":"friends"]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(jp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),a.jsx(Ot,{placeholder:e==="pl"?"Szukaj uytkownikw...":"Search users...",value:r,onChange:k=>n(k.target.value),className:"pl-10"})]}),s&&a.jsx("div",{className:"mt-2 border-2 border-border rounded-sm bg-card max-h-48 lg:max-h-60 overflow-y-auto custom-scrollbar",children:f&&f.length>0?f.map(k=>{var R;return a.jsxs("div",{className:"p-2 lg:p-3 hover:bg-accent transition-colors flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsxs(es,{className:"h-7 w-7 lg:h-8 lg:w-8 border-2 border-border flex-shrink-0",children:[a.jsx(ts,{src:k.avatar_url||void 0}),a.jsx(rs,{className:"bg-primary text-primary-foreground text-xs",children:(R=k.username)==null?void 0:R.charAt(0).toUpperCase()})]}),a.jsx("span",{className:"text-xs lg:text-sm font-semibold truncate",children:k.username})]}),N(k.id)?a.jsx(Ct,{variant:"secondary",className:"text-xs flex-shrink-0",children:e==="pl"?"Znajomy":"Friend"}):E(k.id)?a.jsx(Ct,{variant:"outline",className:"text-xs flex-shrink-0",children:e==="pl"?"Wysano":"Sent"}):a.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>j(k.id,k.username||""),className:"h-7 px-2 flex-shrink-0",children:a.jsx(x2,{size:14})})]},k.id)}):a.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:e==="pl"?"Nie znaleziono uytkownikw":"No users found"})})]}),a.jsxs(wA,{value:o,onValueChange:l,className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("div",{className:"px-3 lg:px-4 pt-3 lg:pt-4 pb-2",children:a.jsxs(K1,{className:"w-full grid grid-cols-2",children:[a.jsx(wf,{value:"friends",className:"relative text-xs lg:text-sm",children:e==="pl"?"Znajomi":"Friends"}),a.jsxs(wf,{value:"requests",className:"relative flex items-center justify-center gap-1 lg:gap-2 text-xs lg:text-sm",children:[a.jsx("span",{children:e==="pl"?"Zaproszenia":"Requests"}),d&&d.length>0&&a.jsx(Ct,{variant:"destructive",className:"h-4 lg:h-5 min-w-4 lg:min-w-5 px-1 lg:px-1.5 flex items-center justify-center text-xs",children:d.length})]})]})}),a.jsx(bf,{value:"friends",className:"flex-1 overflow-y-auto custom-scrollbar p-3 lg:p-4 space-y-2 mt-0",children:u?a.jsx("div",{className:"space-y-2",children:[...Array(5)].map((k,R)=>a.jsx("div",{className:"h-16 bg-muted animate-pulse rounded-sm"},R))}):!c||c.length===0?a.jsxs("div",{className:"text-center py-12 space-y-3",children:[a.jsx(jc,{className:"mx-auto text-muted-foreground",size:48}),a.jsx("p",{className:"text-muted-foreground",children:e==="pl"?"Nie masz jeszcze znajomych":"No friends yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e==="pl"?"Wyszukaj uytkownikw powyej":"Search for users above"})]}):c.map(k=>{var R;return a.jsx("div",{className:"p-2 lg:p-3 border-2 border-border rounded-sm hover:bg-accent transition-colors group cursor-pointer",onClick:()=>window.location.href=`/profile/${k.friendProfile.id}`,children:a.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[a.jsxs(es,{className:"h-9 w-9 lg:h-10 lg:w-10 border-2 border-border flex-shrink-0",children:[a.jsx(ts,{src:k.friendProfile.avatar_url||void 0}),a.jsx(rs,{className:"bg-primary text-primary-foreground text-sm",children:(R=k.friendProfile.username)==null?void 0:R.charAt(0).toUpperCase()})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm lg:text-base font-semibold truncate",children:k.friendProfile.username}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e==="pl"?"Znajomy":"Friend"})]}),a.jsx(Q,{size:"sm",variant:"ghost",onClick:C=>{C.stopPropagation(),_(k.id,k.friendProfile.username||"")},className:"opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:a.jsx(va,{size:16})})]})},k.id)})}),a.jsx(bf,{value:"requests",className:"flex-1 overflow-y-auto custom-scrollbar p-3 lg:p-4 space-y-2 mt-0",children:h?a.jsx("div",{className:"space-y-2",children:[...Array(3)].map((k,R)=>a.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-sm"},R))}):!d||d.length===0?a.jsxs("div",{className:"text-center py-12 space-y-3",children:[a.jsx(Wa,{className:"mx-auto text-muted-foreground",size:48}),a.jsx("p",{className:"text-muted-foreground",children:e==="pl"?"Brak oczekujcych zaprosze":"No pending requests"})]}):d.map(k=>{var R;return a.jsxs("div",{className:"p-2 lg:p-3 border-2 border-border rounded-sm bg-card",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs(es,{className:"h-8 w-8 lg:h-9 lg:w-9 border-2 border-border flex-shrink-0",children:[a.jsx(ts,{src:k.user.avatar_url||void 0}),a.jsx(rs,{className:"bg-primary text-primary-foreground text-xs lg:text-sm",children:(R=k.user.username)==null?void 0:R.charAt(0).toUpperCase()})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-xs lg:text-sm truncate",children:k.user.username}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e==="pl"?"Zaproszenie":"Friend request"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Q,{size:"sm",variant:"default",className:"flex-1 h-8 text-xs",onClick:()=>y(k.id,k.user.username||""),children:[a.jsx(l2,{size:14,className:"mr-1"}),e==="pl"?"Akceptuj":"Accept"]}),a.jsxs(Q,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs",onClick:()=>w(k.id),children:[a.jsx(va,{size:14,className:"mr-1"}),e==="pl"?"Odrzu":"Reject"]})]})]},k.id)})})]})]})},bA=()=>{const{language:e}=wt();return a.jsx("div",{className:"fixed top-4 right-4 z-50 bg-yellow-400 text-black px-3 py-1.5 rounded-sm border-2 border-black shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] hover:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all",children:a.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold",children:[a.jsx(Kx,{size:14}),a.jsx("span",{children:"DEMO"})]})})};var kd="focusScope.autoFocusOnMount",Nd="focusScope.autoFocusOnUnmount",Ov={bubbles:!1,cancelable:!0},_A="FocusScope",G1=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),u=ar(s),d=ar(i),h=v.useRef(null),p=ct(t,g=>c(g)),f=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let g=function(w){if(f.paused||!l)return;const _=w.target;l.contains(_)?h.current=_:kn(h.current,{select:!0})},m=function(w){if(f.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||kn(h.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&kn(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",m);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",m),y.disconnect()}}},[n,l,f.paused]),v.useEffect(()=>{if(l){Iv.add(f);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(kd,Ov);l.addEventListener(kd,u),l.dispatchEvent(x),x.defaultPrevented||(jA(CA(Q1(l)),{select:!0}),document.activeElement===g&&kn(l))}return()=>{l.removeEventListener(kd,u),setTimeout(()=>{const x=new CustomEvent(Nd,Ov);l.addEventListener(Nd,d),l.dispatchEvent(x),x.defaultPrevented||kn(g??document.body,{select:!0}),l.removeEventListener(Nd,d),Iv.remove(f)},0)}}},[l,u,d,f]);const b=v.useCallback(g=>{if(!r&&!n||f.paused)return;const m=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(m&&x){const y=g.currentTarget,[w,_]=SA(y);w&&_?!g.shiftKey&&x===_?(g.preventDefault(),r&&kn(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),r&&kn(_,{select:!0})):x===y&&g.preventDefault()}},[r,n,f.paused]);return a.jsx(me.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});G1.displayName=_A;function jA(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(kn(n,{select:t}),document.activeElement!==r)return}function SA(e){const t=Q1(e),r=Av(t,e),n=Av(t.reverse(),e);return[r,n]}function Q1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Av(e,t){for(const r of e)if(!kA(r,{upTo:t}))return r}function kA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function NA(e){return e instanceof HTMLInputElement&&"select"in e}function kn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&NA(e)&&t&&e.select()}}var Iv=EA();function EA(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=zv(e,t),e.unshift(t)},remove(t){var r;e=zv(e,t),(r=e[0])==null||r.resume()}}}function zv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function CA(e){return e.filter(t=>t.tagName!=="A")}var Ed=0;function TA(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Dv()),document.body.insertAdjacentElement("beforeend",e[1]??Dv()),Ed++,()=>{Ed===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ed--}},[])}function Dv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yl="right-scroll-bar-position",Jl="width-before-scroll-bar",PA="with-scroll-bars-hidden",RA="--removed-body-scroll-bar-size";function Cd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function OA(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var AA=typeof window<"u"?v.useLayoutEffect:v.useEffect,Lv=new WeakMap;function IA(e,t){var r=OA(null,function(n){return e.forEach(function(s){return Cd(s,n)})});return AA(function(){var n=Lv.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||Cd(l,null)}),i.forEach(function(l){s.has(l)||Cd(l,o)})}Lv.set(r,e)},[e]),r}function zA(e){return e}function DA(e,t){t===void 0&&(t=zA);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function LA(e){e===void 0&&(e={});var t=DA(null);return t.options=tr({async:!0,ssr:!1},e),t}var Y1=function(e){var t=e.sideCar,r=hs(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,tr({},r))};Y1.isSideCarExport=!0;function MA(e,t){return e.useMedium(t),Y1}var J1=LA(),Td=function(){},wu=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Td,onWheelCapture:Td,onTouchMoveCapture:Td}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,f=e.noRelative,b=e.noIsolation,g=e.inert,m=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,w=e.gapMode,_=hs(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=p,N=IA([r,t]),E=tr(tr({},_),s);return v.createElement(v.Fragment,null,d&&v.createElement(j,{sideCar:J1,removeScrollBar:u,shards:h,noRelative:f,noIsolation:b,inert:g,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:w}),o?v.cloneElement(v.Children.only(l),tr(tr({},E),{ref:N})):v.createElement(y,tr({},E,{className:c,ref:N}),l))});wu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wu.classNames={fullWidth:Jl,zeroRight:Yl};var $A=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function FA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$A();return t&&e.setAttribute("nonce",t),e}function UA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function BA(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var WA=function(){var e=0,t=null;return{add:function(r){e==0&&(t=FA())&&(UA(t,r),BA(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qA=function(){var e=WA();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Z1=function(){var e=qA(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},VA={left:0,top:0,right:0,gap:0},Pd=function(e){return parseInt(e||"",10)||0},HA=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Pd(r),Pd(n),Pd(s)]},KA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return VA;var t=HA(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},GA=Z1(),Li="data-scroll-locked",QA=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(PA,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Li,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yl,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Jl,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Yl," .").concat(Yl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Jl," .").concat(Jl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Li,`] {
    `).concat(RA,": ").concat(l,`px;
  }
`)},Mv=function(){var e=parseInt(document.body.getAttribute(Li)||"0",10);return isFinite(e)?e:0},YA=function(){v.useEffect(function(){return document.body.setAttribute(Li,(Mv()+1).toString()),function(){var e=Mv()-1;e<=0?document.body.removeAttribute(Li):document.body.setAttribute(Li,e.toString())}},[])},JA=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;YA();var i=v.useMemo(function(){return KA(s)},[s]);return v.createElement(GA,{styles:QA(i,!t,s,r?"":"!important")})},_f=!1;if(typeof window<"u")try{var Tl=Object.defineProperty({},"passive",{get:function(){return _f=!0,!0}});window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{_f=!1}var ci=_f?{passive:!1}:!1,ZA=function(e){return e.tagName==="TEXTAREA"},X1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ZA(e)&&r[t]==="visible")},XA=function(e){return X1(e,"overflowY")},e4=function(e){return X1(e,"overflowX")},$v=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=e_(e,n);if(s){var i=t_(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},t4=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},r4=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},e_=function(e,t){return e==="v"?XA(t):e4(t)},t_=function(e,t){return e==="v"?t4(t):r4(t)},n4=function(e,t){return e==="h"&&t==="rtl"?-1:1},s4=function(e,t,r,n,s){var i=n4(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,h=0,p=0;do{if(!l)break;var f=t_(e,l),b=f[0],g=f[1],m=f[2],x=g-m-i*b;(b||x)&&e_(e,l)&&(h+=x,p+=b);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},Pl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fv=function(e){return[e.deltaX,e.deltaY]},Uv=function(e){return e&&"current"in e?e.current:e},i4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},o4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},a4=0,ui=[];function l4(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(a4++)[0],i=v.useState(Z1)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Wp([e.lockRef.current],(e.shards||[]).map(Uv),!0).filter(Boolean);return g.forEach(function(m){return m.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(g,m){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Pl(g),y=r.current,w="deltaX"in g?g.deltaX:y[0]-x[0],_="deltaY"in g?g.deltaY:y[1]-x[1],j,N=g.target,E=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&E==="h"&&N.type==="range")return!1;var k=$v(E,N);if(!k)return!0;if(k?j=E:(j=E==="v"?"h":"v",k=$v(E,N)),!k)return!1;if(!n.current&&"changedTouches"in g&&(w||_)&&(n.current=j),!j)return!0;var R=n.current||j;return s4(R,m,g,R==="h"?w:_,!0)},[]),c=v.useCallback(function(g){var m=g;if(!(!ui.length||ui[ui.length-1]!==i)){var x="deltaY"in m?Fv(m):Pl(m),y=t.current.filter(function(j){return j.name===m.type&&(j.target===m.target||m.target===j.shadowParent)&&i4(j.delta,x)})[0];if(y&&y.should){m.cancelable&&m.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(Uv).filter(Boolean).filter(function(j){return j.contains(m.target)}),_=w.length>0?l(m,w[0]):!o.current.noIsolation;_&&m.cancelable&&m.preventDefault()}}},[]),u=v.useCallback(function(g,m,x,y){var w={name:g,delta:m,target:x,should:y,shadowParent:c4(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=v.useCallback(function(g){r.current=Pl(g),n.current=void 0},[]),h=v.useCallback(function(g){u(g.type,Fv(g),g.target,l(g,e.lockRef.current))},[]),p=v.useCallback(function(g){u(g.type,Pl(g),g.target,l(g,e.lockRef.current))},[]);v.useEffect(function(){return ui.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ci),document.addEventListener("touchmove",c,ci),document.addEventListener("touchstart",d,ci),function(){ui=ui.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,ci),document.removeEventListener("touchmove",c,ci),document.removeEventListener("touchstart",d,ci)}},[]);var f=e.removeScrollBar,b=e.inert;return v.createElement(v.Fragment,null,b?v.createElement(i,{styles:o4(s)}):null,f?v.createElement(JA,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function c4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const u4=MA(J1,l4);var r_=v.forwardRef(function(e,t){return v.createElement(wu,tr({},e,{ref:t,sideCar:u4}))});r_.classNames=wu.classNames;var d4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},di=new WeakMap,Rl=new WeakMap,Ol={},Rd=0,n_=function(e){return e&&(e.host||n_(e.parentNode))},h4=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=n_(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},f4=function(e,t,r,n){var s=h4(t,Array.isArray(e)?e:[e]);Ol[r]||(Ol[r]=new WeakMap);var i=Ol[r],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))d(p);else try{var f=p.getAttribute(n),b=f!==null&&f!=="false",g=(di.get(p)||0)+1,m=(i.get(p)||0)+1;di.set(p,g),i.set(p,m),o.push(p),g===1&&b&&Rl.set(p,!0),m===1&&p.setAttribute(r,"true"),b||p.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(t),l.clear(),Rd++,function(){o.forEach(function(h){var p=di.get(h)-1,f=i.get(h)-1;di.set(h,p),i.set(h,f),p||(Rl.has(h)||h.removeAttribute(n),Rl.delete(h)),f||h.removeAttribute(r)}),Rd--,Rd||(di=new WeakMap,di=new WeakMap,Rl=new WeakMap,Ol={})}},p4=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=d4(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),f4(n,s,r,"aria-hidden")):function(){return null}},bu="Dialog",[s_,WI]=us(bu),[m4,Er]=s_(bu),i_=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,d]=$a({prop:n,defaultProp:s??!1,onChange:i,caller:bu});return a.jsx(m4,{scope:t,triggerRef:l,contentRef:c,contentId:Ii(),titleId:Ii(),descriptionId:Ii(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};i_.displayName=bu;var o_="DialogTrigger",a_=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(o_,r),i=ct(t,s.triggerRef);return a.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rm(s.open),...n,ref:i,onClick:ce(e.onClick,s.onOpenToggle)})});a_.displayName=o_;var em="DialogPortal",[g4,l_]=s_(em,{forceMount:void 0}),c_=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Er(em,t);return a.jsx(g4,{scope:t,forceMount:r,children:v.Children.map(n,o=>a.jsx(ei,{present:r||i.open,children:a.jsx(xp,{asChild:!0,container:s,children:o})}))})};c_.displayName=em;var Uc="DialogOverlay",u_=v.forwardRef((e,t)=>{const r=l_(Uc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Er(Uc,e.__scopeDialog);return i.modal?a.jsx(ei,{present:n||i.open,children:a.jsx(y4,{...s,ref:t})}):null});u_.displayName=Uc;var v4=ga("DialogOverlay.RemoveScroll"),y4=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(Uc,r);return a.jsx(r_,{as:v4,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(me.div,{"data-state":rm(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Js="DialogContent",d_=v.forwardRef((e,t)=>{const r=l_(Js,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Er(Js,e.__scopeDialog);return a.jsx(ei,{present:n||i.open,children:i.modal?a.jsx(x4,{...s,ref:t}):a.jsx(w4,{...s,ref:t})})});d_.displayName=Js;var x4=v.forwardRef((e,t)=>{const r=Er(Js,e.__scopeDialog),n=v.useRef(null),s=ct(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return p4(i)},[]),a.jsx(h_,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ce(e.onFocusOutside,i=>i.preventDefault())})}),w4=v.forwardRef((e,t)=>{const r=Er(Js,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return a.jsx(h_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),h_=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Er(Js,r),c=v.useRef(null),u=ct(t,c);return TA(),a.jsxs(a.Fragment,{children:[a.jsx(G1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(su,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":rm(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(b4,{titleId:l.titleId}),a.jsx(j4,{contentRef:c,descriptionId:l.descriptionId})]})]})}),tm="DialogTitle",f_=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(tm,r);return a.jsx(me.h2,{id:s.titleId,...n,ref:t})});f_.displayName=tm;var p_="DialogDescription",m_=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(p_,r);return a.jsx(me.p,{id:s.descriptionId,...n,ref:t})});m_.displayName=p_;var g_="DialogClose",v_=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Er(g_,r);return a.jsx(me.button,{type:"button",...n,ref:t,onClick:ce(e.onClick,()=>s.onOpenChange(!1))})});v_.displayName=g_;function rm(e){return e?"open":"closed"}var y_="DialogTitleWarning",[qI,x_]=hk(y_,{contentName:Js,titleName:tm,docsSlug:"dialog"}),b4=({titleId:e})=>{const t=x_(y_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},_4="DialogDescriptionWarning",j4=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${x_(_4).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},w_=i_,S4=a_,b_=c_,_u=u_,ju=d_,Su=f_,ku=m_,__=v_;const Od=w_,Ad=S4,k4=b_,j_=v.forwardRef(({className:e,...t},r)=>a.jsx(_u,{className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));j_.displayName=_u.displayName;const N4=Ua("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Zl=v.forwardRef(({side:e="right",className:t,children:r,...n},s)=>a.jsxs(k4,{children:[a.jsx(j_,{}),a.jsxs(ju,{ref:s,className:ve(N4({side:e}),t),...n,children:[r,a.jsxs(__,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zl.displayName=ju.displayName;const E4=v.forwardRef(({className:e,...t},r)=>a.jsx(Su,{ref:r,className:ve("text-lg font-semibold text-foreground",e),...t}));E4.displayName=Su.displayName;const C4=v.forwardRef(({className:e,...t},r)=>a.jsx(ku,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));C4.displayName=ku.displayName;const sr=({children:e,showFriendsSidebar:t=!0})=>{const[r,n]=v.useState(!1),[s,i]=v.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsx(bA,{}),a.jsxs("div",{className:"flex h-screen w-full bg-background overflow-hidden",children:[a.jsx("div",{className:"hidden lg:block",children:a.jsx(Rv,{})}),a.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-40 h-16 bg-background border-b-2 border-border flex items-center justify-between px-4",children:[a.jsxs(Od,{open:r,onOpenChange:n,children:[a.jsx(Ad,{asChild:!0,children:a.jsx(Q,{variant:"ghost",size:"icon",className:"lg:hidden",children:a.jsx(p2,{size:24})})}),a.jsx(Zl,{side:"left",className:"p-0 w-64 border-r-2",children:a.jsx(Rv,{})})]}),a.jsx("h1",{className:"text-2xl logo-text text-primary font-bold",children:"PopStack"}),t&&a.jsxs(Od,{open:s,onOpenChange:i,children:[a.jsx(Ad,{asChild:!0,children:a.jsx(Q,{variant:"ghost",size:"icon",className:"xl:hidden",children:a.jsx(jc,{size:24})})}),a.jsx(Zl,{side:"right",className:"p-0 w-80 border-l-2",children:a.jsx(Sd,{})})]})]}),a.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar min-w-0 pt-16 lg:pt-0",children:e}),t&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block xl:hidden fixed right-4 top-4 z-30",children:a.jsxs(Od,{open:s,onOpenChange:i,children:[a.jsx(Ad,{asChild:!0,children:a.jsx(Q,{variant:"brutal",size:"icon",className:"h-12 w-12",children:a.jsx(jc,{size:24})})}),a.jsx(Zl,{side:"right",className:"p-0 w-80 border-l-2",children:a.jsx(Sd,{})})]})}),a.jsx("aside",{className:"hidden xl:block flex-shrink-0",children:a.jsx(Sd,{})})]})]})]})},T4="modulepreload",P4=function(e){return"/pop-stack/"+e},Bv={},jf=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=P4(c),c in Bv)return;Bv[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":T4,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},R4="https://image.tmdb.org/t/p",At=(e,t="w500")=>e?`${R4}/${t}${e}`:"https://via.placeholder.com/500x750?text=No+Image",mn=async e=>{{if(console.log(" TMDB DEMO MODE: Returning fake data for endpoint:",e),await new Promise(t=>setTimeout(t,500)),e.includes("movie")){const{DEMO_MOVIES:t}=await jf(async()=>{const{DEMO_MOVIES:n}=await Promise.resolve().then(()=>yf);return{DEMO_MOVIES:n}},void 0),r=t.map(n=>({id:n.movie_id,title:n.movie_title,poster_path:n.movie_poster,vote_average:n.rating,overview:n.review_text||"Demo movie overview",release_date:n.watched_date,genre_ids:[28,12],backdrop_path:n.movie_poster}));return e.includes("details")||e.match(/\/movie\/\d+$/)?r[0]:{page:1,results:r,total_pages:1,total_results:r.length}}if(e.includes("tv")){const{DEMO_SERIES:t}=await jf(async()=>{const{DEMO_SERIES:n}=await Promise.resolve().then(()=>yf);return{DEMO_SERIES:n}},void 0),r=t.map(n=>({id:n.series_id,name:n.series_title,poster_path:n.series_poster,vote_average:n.rating,overview:n.review_text||"Demo series overview",first_air_date:n.watched_date,genre_ids:[18,10765],backdrop_path:n.series_poster}));return e.match(/\/tv\/\d+$/)?r[0]:{page:1,results:r,total_pages:1,total_results:r.length}}return{page:1,results:[],total_pages:1,total_results:0}}},O4=async(e="week")=>mn(`/trending/all/${e}?language=pl-PL`),A4=async(e,t=1)=>mn(`/search/movie?language=pl-PL&query=${encodeURIComponent(e)}&page=${t}`),I4=async(e,t=1)=>mn(`/search/tv?language=pl-PL&query=${encodeURIComponent(e)}&page=${t}`),z4=async e=>mn(`/movie/${e}?language=pl-PL`),D4=async e=>mn(`/movie/${e}/credits?language=pl-PL`),L4=async()=>mn("/genre/movie/list?language=pl-PL"),M4=async()=>mn("/genre/tv/list?language=pl-PL"),$4=async e=>{const t={language:"pl-PL",page:String(e.page||1),sort_by:e.sort_by||"popularity.desc"};e.with_genres&&(t.with_genres=e.with_genres),e["primary_release_date.gte"]&&(t["primary_release_date.gte"]=e["primary_release_date.gte"]),e["primary_release_date.lte"]&&(t["primary_release_date.lte"]=e["primary_release_date.lte"]),e["vote_average.gte"]&&(t["vote_average.gte"]=e["vote_average.gte"]),e["vote_count.gte"]&&(t["vote_count.gte"]=e["vote_count.gte"]);const r=new URLSearchParams(t);return mn(`/discover/movie?${r}`)},F4=async e=>{const t={language:"pl-PL",page:String(e.page||1),sort_by:e.sort_by||"popularity.desc"};e.with_genres&&(t.with_genres=e.with_genres),e["first_air_date.gte"]&&(t["first_air_date.gte"]=e["first_air_date.gte"]),e["first_air_date.lte"]&&(t["first_air_date.lte"]=e["first_air_date.lte"]),e["vote_average.gte"]&&(t["vote_average.gte"]=e["vote_average.gte"]),e["vote_count.gte"]&&(t["vote_count.gte"]=e["vote_count.gte"]);const r=new URLSearchParams(t);return mn(`/discover/tv?${r}`)},Ka=async e=>{{console.log(" RAWG DEMO MODE: Returning fake data for endpoint:",e),await new Promise(n=>setTimeout(n,500));const{DEMO_GAMES:t}=await jf(async()=>{const{DEMO_GAMES:n}=await Promise.resolve().then(()=>yf);return{DEMO_GAMES:n}},void 0),r=t.map(n=>({id:n.game_id,name:n.game_title,background_image:n.game_cover,rating:n.rating,rating_top:10,ratings_count:100,released:n.watched_date,metacritic:95,playtime:n.hours_played,platforms:[{platform:{id:1,name:n.platform,slug:n.platform.toLowerCase()}}],genres:[{id:1,name:"Action",slug:"action"}],short_screenshots:[{id:1,image:n.game_cover}]}));return e.match(/\/games\/\d+$/)?r[0]:{count:r.length,next:null,previous:null,results:r}}},U4=async(e=1)=>Ka(`/games?ordering=-added&page=${e}&page_size=20`),B4=async(e,t=1)=>Ka(`/games?search=${encodeURIComponent(e)}&page=${t}&page_size=20`),W4=async e=>Ka(`/games/${e}`),q4=async()=>Ka("/genres"),V4=async e=>{const t={page:String(e.page||1),page_size:"20",ordering:e.ordering||"-rating"};e.genres&&(t.genres=e.genres),e.dates&&(t.dates=e.dates),e.metacritic&&(t.metacritic=e.metacritic);const r=new URLSearchParams(t);return Ka(`/games?${r}`)},H4=(e="week")=>fe({queryKey:["trending-movies",e],queryFn:()=>O4(e),staleTime:1e3*60*30}),S_=(e,t=1)=>fe({queryKey:["search-movies",e,t],queryFn:()=>A4(e,t),enabled:e.length>0,staleTime:1e3*60*10}),k_=(e,t=1)=>fe({queryKey:["search-tv",e,t],queryFn:()=>I4(e,t),enabled:e.length>0,staleTime:1e3*60*10}),nm=e=>fe({queryKey:["movie-details",e],queryFn:()=>z4(e),enabled:e>0,staleTime:1e3*60*60}),K4=(e=1)=>fe({queryKey:["trending-games",e],queryFn:()=>U4(e),enabled:void 0,staleTime:1e3*60*30}),N_=(e,t=1)=>fe({queryKey:["search-games",e,t],queryFn:()=>B4(e,t),enabled:e.length>0,staleTime:1e3*60*10}),sm=e=>fe({queryKey:["game-details",e],queryFn:()=>W4(e),enabled:e>0,staleTime:1e3*60*60}),im=e=>fe({queryKey:["movie-credits",e],queryFn:()=>D4(e),enabled:e>0,staleTime:1e3*60*60}),G4=()=>fe({queryKey:["movie-genres"],queryFn:()=>L4(),staleTime:1e3*60*60*24}),Q4=()=>fe({queryKey:["tv-genres"],queryFn:()=>M4(),staleTime:1e3*60*60*24}),Y4=e=>fe({queryKey:["discover-movies",e],queryFn:()=>$4(e),staleTime:1e3*60*10}),E_=e=>fe({queryKey:["discover-tv",e],queryFn:()=>F4(e),staleTime:1e3*60*10}),J4=()=>fe({queryKey:["game-genres"],queryFn:()=>q4(),staleTime:1e3*60*60*24}),Z4=e=>fe({queryKey:["discover-games",e],queryFn:()=>V4(e),staleTime:1e3*60*10}),mt=w_,X4=b_,C_=v.forwardRef(({className:e,...t},r)=>a.jsx(_u,{ref:r,className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));C_.displayName=_u.displayName;const st=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(X4,{children:[a.jsx(C_,{}),a.jsxs(ju,{ref:n,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(__,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));st.displayName=ju.displayName;const it=({className:e,...t})=>a.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});it.displayName="DialogHeader";const Zo=({className:e,...t})=>a.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zo.displayName="DialogFooter";const ot=v.forwardRef(({className:e,...t},r)=>a.jsx(Su,{ref:r,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));ot.displayName=Su.displayName;const eI=v.forwardRef(({className:e,...t},r)=>a.jsx(ku,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));eI.displayName=ku.displayName;const Nu=v.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Nu.displayName="Textarea";var tI="Label",T_=v.forwardRef((e,t)=>a.jsx(me.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));T_.displayName=tI;var P_=T_;const rI=Ua("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),at=v.forwardRef(({className:e,...t},r)=>a.jsx(P_,{ref:r,className:ve(rI(),e),...t}));at.displayName=P_.displayName;const nI=(e,t)=>{const{user:r}=we();return fe({queryKey:["userReview",e,t,r==null?void 0:r.id],queryFn:async()=>{if(!(r!=null&&r.id))return null;const n=`${e}_reviews`,s=`${e}_id`,{data:i,error:o}=await se.from(n).select("*").eq("user_id",r.id).eq(s,t).maybeSingle();if(o&&o.code!=="PGRST116")throw o;return i},enabled:!!(r!=null&&r.id)&&!!t})},sI=()=>{const e=xt(),{user:t}=we();return Kt({mutationFn:async r=>{if(!(t!=null&&t.id))throw new Error("Not authenticated");const{itemType:n,itemId:s,itemTitle:i,itemPoster:o,rating:l,reviewText:c,watchedDate:u,hoursPlayed:d,platform:h}=r,p=`${n}_reviews`,f=`${n}_id`,b=`${n}_title`,g=`${n}_poster`,{data:m}=await se.from(p).select("id").eq("user_id",t.id).eq(f,s).maybeSingle(),x={user_id:t.id,[f]:s,[b]:i,[g]:o,rating:l,review_text:c||null,watched_date:u||null};if(n==="game"&&(x.hours_played=d||null,x.platform=h||null),m){const{data:y,error:w}=await se.from(p).update(x).eq("id",m.id).select();if(w)throw w;return y}else{const{data:y,error:w}=await se.from(p).insert(x).select();if(w)throw w;return y}},onSuccess:(r,n)=>{e.invalidateQueries({queryKey:["userReview",n.itemType,n.itemId]}),e.invalidateQueries({queryKey:["userReviews"]})}})},iI=()=>{const e=xt(),{user:t}=we();return Kt({mutationFn:async({itemType:r,itemId:n})=>{if(!(t!=null&&t.id))throw new Error("Not authenticated");const s=`${r}_reviews`,i=`${r}_id`,{error:o}=await se.from(s).delete().eq("user_id",t.id).eq(i,n);if(o)throw o},onSuccess:(r,n)=>{e.invalidateQueries({queryKey:["userReview",n.itemType,n.itemId]}),e.invalidateQueries({queryKey:["userReviews"]})}})},R_=({open:e,onOpenChange:t,itemType:r,itemId:n,itemTitle:s,itemPoster:i})=>{const{language:o}=wt(),{toast:l}=qr(),[c,u]=v.useState(0),[d,h]=v.useState(0),[p,f]=v.useState(""),[b,g]=v.useState(""),[m,x]=v.useState(""),[y,w]=v.useState(""),{data:_}=nI(r,n),j=sI(),N=iI();v.useEffect(()=>{var C;_?(u(_.rating),f(_.review_text||""),g(_.watched_date||""),r==="game"&&(x(((C=_.hours_played)==null?void 0:C.toString())||""),w(_.platform||""))):(u(0),f(""),g(""),x(""),w(""))},[_,r,e]);const E=async()=>{if(c===0){l({title:o==="pl"?"Bd":"Error",description:o==="pl"?"Wybierz ocen":"Please select a rating",variant:"destructive"});return}try{await j.mutateAsync({itemType:r,itemId:n,itemTitle:s,itemPoster:i,rating:c,reviewText:p.trim()||void 0,watchedDate:b||void 0,hoursPlayed:m?parseInt(m):void 0,platform:y||void 0}),l({title:o==="pl"?"Zapisano":"Saved",description:o==="pl"?"Twoja recenzja zostaa zapisana":"Your review has been saved"}),t(!1)}catch{l({title:o==="pl"?"Bd":"Error",description:o==="pl"?"Nie udao si zapisa recenzji":"Failed to save review",variant:"destructive"})}},k=async()=>{try{await N.mutateAsync({itemType:r,itemId:n}),l({title:o==="pl"?"Usunito":"Deleted",description:o==="pl"?"Recenzja zostaa usunita":"Review has been deleted"}),t(!1)}catch{l({title:o==="pl"?"Bd":"Error",description:o==="pl"?"Nie udao si usun recenzji":"Failed to delete review",variant:"destructive"})}},R=()=>r==="movie"?o==="pl"?"filmu":"movie":r==="series"?o==="pl"?"serialu":"series":o==="pl"?"gry":"game";return a.jsx(mt,{open:e,onOpenChange:t,children:a.jsxs(st,{className:"max-w-2xl border-2 border-border",children:[a.jsx(it,{children:a.jsx(ot,{className:"text-2xl font-heading font-bold",children:o==="pl"?`Oce ${R()}`:`Rate ${R()}`})}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsx("div",{children:a.jsx("h3",{className:"text-lg font-semibold mb-2",children:s})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(at,{className:"text-base font-semibold",children:[o==="pl"?"Twoja ocena":"Your rating"," *"]}),a.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5,6,7,8,9,10].map(C=>a.jsx("button",{type:"button",onClick:()=>u(C),onMouseEnter:()=>h(C),onMouseLeave:()=>h(0),className:"transition-transform hover:scale-110",children:a.jsx(Ve,{size:32,className:C<=(d||c)?"fill-yellow-400 text-yellow-400":"text-muted-foreground"})},C))}),a.jsx("p",{className:"text-sm text-muted-foreground",children:c>0&&`${c}/10`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"watchedDate",className:"text-base font-semibold",children:r==="game"?o==="pl"?"Data zagrania":"Date played":o==="pl"?"Data obejrzenia":"Date watched"}),a.jsx(Ot,{id:"watchedDate",type:"date",value:b,onChange:C=>g(C.target.value),className:"border-2"})]}),r==="game"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"hoursPlayed",className:"text-base font-semibold",children:o==="pl"?"Godziny gry":"Hours played"}),a.jsx(Ot,{id:"hoursPlayed",type:"number",min:"0",value:m,onChange:C=>x(C.target.value),placeholder:"0",className:"border-2"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"platform",className:"text-base font-semibold",children:o==="pl"?"Platforma":"Platform"}),a.jsx(Ot,{id:"platform",type:"text",value:y,onChange:C=>w(C.target.value),placeholder:"PC, PlayStation, Xbox...",className:"border-2"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(at,{htmlFor:"reviewText",className:"text-base font-semibold",children:[o==="pl"?"Twoja opinia":"Your review"," ",a.jsxs("span",{className:"text-muted-foreground font-normal",children:["(",o==="pl"?"opcjonalne":"optional",")"]})]}),a.jsx(Nu,{id:"reviewText",value:p,onChange:C=>f(C.target.value),placeholder:o==="pl"?"Podziel si swoj opini...":"Share your thoughts...",rows:5,className:"border-2 resize-none"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.length," ",o==="pl"?"znakw":"characters"]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Q,{variant:"brutal",size:"lg",onClick:E,disabled:j.isPending,className:"flex-1",children:j.isPending?o==="pl"?"Zapisywanie...":"Saving...":_?o==="pl"?"Zaktualizuj":"Update":o==="pl"?"Zapisz":"Save"}),_&&a.jsx(Q,{variant:"destructive",size:"lg",onClick:k,disabled:N.isPending,children:a.jsx(js,{size:18})}),a.jsx(Q,{variant:"outline",size:"lg",onClick:()=>t(!1),children:o==="pl"?"Anuluj":"Cancel"})]})]})]})})},om=()=>{const{user:e}=we();return fe({queryKey:["collections",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");return console.log(" DEMO MODE: Returning fake collections",Fc),Fc},enabled:!!e})},oI=e=>{const{user:t}=we();return fe({queryKey:["collection",e],queryFn:async()=>{if(!t)throw new Error("User not authenticated");return Fc.find(n=>n.id===e)||null},enabled:!!t&&!!e})},aI=()=>{const{user:e}=we(),t=xt();return Kt({mutationFn:async({name:r,description:n,isPublic:s})=>{if(!e)throw new Error("User not authenticated");const{data:i,error:o}=await se.from("collections").insert({user_id:e.id,name:r,description:n||null,is_public:s||!1}).select().single();if(o)throw o;return i},onSuccess:()=>{t.invalidateQueries({queryKey:["collections"]})}})},lI=()=>{const{user:e}=we(),t=xt();return Kt({mutationFn:async r=>{if(!e)throw new Error("User not authenticated");const{error:n}=await se.from("collections").delete().eq("id",r).eq("user_id",e.id);if(n)throw n},onSuccess:()=>{t.invalidateQueries({queryKey:["collections"]})}})},am=()=>{const{user:e}=we(),t=xt();return Kt({mutationFn:async({collectionId:r,itemType:n,itemId:s,itemTitle:i,itemPoster:o})=>{if(!e)throw new Error("User not authenticated");const{data:l,error:c}=await se.from("collection_items").insert({collection_id:r,item_type:n,item_id:s,item_title:i,item_poster:o||null}).select().single();if(c)throw c;return l},onSuccess:(r,n)=>{t.invalidateQueries({queryKey:["collections"]}),t.invalidateQueries({queryKey:["collection",n.collectionId]})}})},cI=()=>{const{user:e}=we(),t=xt();return Kt({mutationFn:async({collectionId:r,itemId:n})=>{if(!e)throw new Error("User not authenticated");const{error:s}=await se.from("collection_items").delete().eq("id",n).eq("collection_id",r);if(s)throw s},onSuccess:(r,n)=>{t.invalidateQueries({queryKey:["collections"]}),t.invalidateQueries({queryKey:["collection",n.collectionId]})}})},uI=e=>{const{user:t}=we();return fe({queryKey:["watchlist",t==null?void 0:t.id,e],queryFn:async()=>{if(!t)throw new Error("User not authenticated");{const r=u1;return e?r.filter(n=>n.item_type===e):r}},enabled:!!t})},O_=(e,t)=>{const{user:r}=we();return fe({queryKey:["watchlist-check",r==null?void 0:r.id,e,t],queryFn:async()=>{if(!r)return!1;const{data:n,error:s}=await se.from("watchlist").select("id").eq("user_id",r.id).eq("item_type",e).eq("item_id",t).maybeSingle();if(s)throw s;return!!n},enabled:!!r})},A_=()=>{const{user:e}=we(),t=xt();return Kt({mutationFn:async({itemType:r,itemId:n,itemTitle:s,itemPoster:i,itemRating:o})=>{if(!e)throw new Error("User not authenticated");const{data:l,error:c}=await se.from("watchlist").insert({user_id:e.id,item_type:r,item_id:n,item_title:s,item_poster:i||null,item_rating:o||null}).select().single();if(c)throw c;return l},onSuccess:()=>{t.invalidateQueries({queryKey:["watchlist"]}),t.invalidateQueries({queryKey:["watchlist-check"]})}})},lm=()=>{const{user:e}=we(),t=xt();return Kt({mutationFn:async({itemType:r,itemId:n})=>{if(!e)throw new Error("User not authenticated");const{error:s}=await se.from("watchlist").delete().eq("user_id",e.id).eq("item_type",r).eq("item_id",n);if(s)throw s},onSuccess:()=>{t.invalidateQueries({queryKey:["watchlist"]}),t.invalidateQueries({queryKey:["watchlist-check"]})}})},Wv=({movie:e,setSelectedMovie:t,handleAddToCollection:r,handleAddToWatchlist:n,actions:s})=>{const{data:i}=O_("movie",e.id),o=e.title||e.name||"",l=e.vote_average||0;return a.jsxs("div",{className:"group relative aspect-[2/3] rounded-sm border-2 border-border overflow-hidden brutal-shadow-hover cursor-pointer bg-card",children:[a.jsx("div",{onClick:()=>t(e.id),children:a.jsx("img",{src:At(e.poster_path,"w500"),alt:o,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"})}),a.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col gap-2",children:[a.jsx(ba,{children:a.jsxs(Cc,{children:[a.jsx(Tc,{asChild:!0,children:a.jsx(Q,{size:"icon",variant:"secondary",className:"h-9 w-9 bg-muted/90 hover:bg-muted backdrop-blur-sm border-2 border-border shadow-lg",onClick:c=>r(c,"movie",e.id,o,At(e.poster_path,"w500")),children:a.jsx(Mr,{size:18,className:"text-foreground"})})}),a.jsx(_a,{side:"left",children:a.jsx("p",{children:s.addToCollection})})]})}),a.jsx(ba,{children:a.jsxs(Cc,{children:[a.jsx(Tc,{asChild:!0,children:a.jsx(Q,{size:"icon",variant:i?"default":"secondary",className:"h-9 w-9 bg-muted/90 hover:bg-muted backdrop-blur-sm border-2 border-border shadow-lg",onClick:c=>n(c,"movie",e.id,o,At(e.poster_path,"w500"),l,i),children:a.jsx(Ba,{size:18,className:i?"fill-current":""})})}),a.jsx(_a,{side:"left",children:a.jsx("p",{children:i?s.removeFromWatchlist:s.addToWatchlist})})]})})]}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/90 to-transparent p-3",children:[a.jsx("h3",{className:"text-white font-bold text-sm line-clamp-2 mb-1",children:o}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ve,{className:"text-yellow-400 fill-yellow-400",size:14}),a.jsx("span",{className:"text-white text-xs font-semibold",children:l.toFixed(1)})]})]})]},e.id)},dI=()=>{var M,Y;const{t:e,language:t}=wt(),r=yo(),{toast:n}=qr(),[s,i]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,h]=v.useState(null),[p,f]=v.useState(!1),[b,g]=v.useState(null),{data:m}=om(),x=am(),y=A_(),w=lm(),{data:_,isLoading:j}=H4("week"),{data:N,isLoading:E}=E_(1),{data:k,isLoading:R}=K4(1),{data:C,isLoading:F}=nm(s||0),{data:I}=im(s||0),{data:L,isLoading:z}=sm(o||0),$=(_==null?void 0:_.results.slice(0,6))||[],W=(N==null?void 0:N.results.slice(0,6))||[];k!=null&&k.results.slice(0,6);const q=h1[t],P=(O,V,re,he,Se)=>{O.stopPropagation(),h({type:V,id:re,title:he,poster:Se}),u(!0)},T=async(O,V,re,he,Se,J,Z)=>{O.stopPropagation();try{Z?(await w.mutateAsync({itemType:V,itemId:re}),n({title:q.removeFromWatchlist,description:`"${he}" ${t==="pl"?"usunito z listy":"removed from watchlist"}`})):(await y.mutateAsync({itemType:V,itemId:re,itemTitle:he,itemPoster:Se,itemRating:J}),n({title:q.addToWatchlist,description:`"${he}" ${t==="pl"?"dodano do listy":"added to watchlist"}`}))}catch{n({title:t==="pl"?"Bd":"Error",description:t==="pl"?"Co poszo nie tak":"Something went wrong",variant:"destructive"})}};return a.jsxs(sr,{children:[a.jsxs("div",{className:"min-h-screen",children:[a.jsxs("section",{className:"relative h-[40vh] min-h-[400px] overflow-hidden border-b-2 border-border",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-secondary/20 to-background"}),a.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1440404653325-ab127d49abc1?w=1920&h=1080&fit=crop')] bg-cover bg-center opacity-20 mix-blend-overlay"}),a.jsx("div",{className:"relative h-full flex flex-col justify-end p-8 pb-10 z-10",children:a.jsxs("div",{className:"max-w-3xl space-y-4 animate-slide-up",children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("span",{className:"mono text-xs uppercase tracking-wider text-foreground font-bold",children:e.welcomeBack})}),a.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-heading font-bold leading-tight",children:[a.jsx("span",{className:"text-foreground",children:e.yourMedia}),a.jsx("br",{}),a.jsx("span",{className:"relative z-20 bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:e.trackedStacked})]}),a.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-foreground/80 max-w-2xl",children:e.dashboardSubtitle}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[a.jsx(Q,{variant:"brutal",size:"lg",onClick:()=>r("/discover"),className:"w-full sm:w-auto",children:e.exploreNow}),a.jsx(Q,{variant:"glass",size:"lg",onClick:()=>r("/collection"),className:"w-full sm:w-auto",children:e.myCollection})]})]})})]}),a.jsxs("section",{className:"p-4 sm:p-6 lg:p-8 space-y-4 lg:space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2",children:[a.jsx(au,{className:"text-primary flex-shrink-0",size:20}),a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-heading font-bold truncate",children:t==="pl"?"Popularne Filmy":"Trending Movies"})]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e.trendingSubtitle})]}),a.jsxs(Q,{variant:"outline",onClick:()=>r("/discover?type=movies"),size:"sm",className:"flex-shrink-0",children:[a.jsx("span",{className:"hidden sm:inline",children:e.viewAll}),a.jsx("span",{className:"sm:hidden",children:""})]})]}),j?a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4 lg:gap-6",children:[...Array(6)].map((O,V)=>a.jsx("div",{className:"aspect-[2/3] bg-muted animate-pulse rounded-sm border-2 border-border"},V))}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4 lg:gap-6",children:$.map(O=>a.jsx(Wv,{movie:O,setSelectedMovie:i,handleAddToCollection:P,handleAddToWatchlist:T,actions:q},O.id))})]}),a.jsxs("section",{className:"p-8 space-y-6 border-t-2 border-border",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(y2,{className:"text-accent",size:24}),a.jsx("h2",{className:"text-3xl font-heading font-bold",children:t==="pl"?"Popularne Seriale":"Trending Series"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t==="pl"?"Najlepiej oceniane seriale":"Top-rated TV shows"})]}),a.jsx(Q,{variant:"outline",onClick:()=>r("/discover?type=series"),children:e.viewAll})]}),E?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:[...Array(6)].map((O,V)=>a.jsx("div",{className:"aspect-[2/3] bg-muted animate-pulse rounded-sm border-2 border-border"},V))}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:W.map(O=>a.jsx(Wv,{movie:O,setSelectedMovie:i,handleAddToCollection:P,handleAddToWatchlist:T,actions:q},O.id))})]}),a.jsxs("section",{className:"p-4 sm:p-6 lg:p-8 space-y-4 lg:space-y-6 border-t-2 border-border",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2",children:[a.jsx(Hx,{className:"text-secondary flex-shrink-0",size:20}),a.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-heading font-bold truncate",children:t==="pl"?"Popularne Gry":"Trending Games"})]}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:t==="pl"?"Najnowsze i najlepiej oceniane gry":"Latest and top-rated games"})]}),a.jsxs(Q,{variant:"outline",onClick:()=>r("/discover?type=games"),size:"sm",className:"flex-shrink-0",children:[a.jsx("span",{className:"hidden sm:inline",children:e.viewAll}),a.jsx("span",{className:"sm:hidden",children:""})]})]}),a.jsxs("div",{className:"border-2 border-border rounded-sm p-8 text-center bg-muted/30",children:[a.jsx("p",{className:"text-muted-foreground mb-2",children:t==="pl"?" Aby zobaczy gry, dodaj klucz RAWG API do pliku .env.local":" To see games, add RAWG API key to .env.local file"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t==="pl"?"Zobacz plik RAWG-KEY-SETUP.md":"See RAWG-KEY-SETUP.md file"})]})]})]}),a.jsx(mt,{open:s!==null,onOpenChange:()=>i(null),children:a.jsx(st,{className:"max-w-4xl max-h-[90vh] overflow-y-auto custom-scrollbar border-2 border-border",children:F?a.jsxs("div",{className:"space-y-4 animate-pulse",children:[a.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-64 bg-muted rounded"}),a.jsx("div",{className:"h-4 bg-muted rounded w-full"})]}):C?a.jsxs(a.Fragment,{children:[a.jsx(it,{children:a.jsx(ot,{className:"text-3xl font-heading font-bold",children:C.title||C.name})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(Q,{variant:"brutal",onClick:()=>{g({type:"movie",id:C.id,title:C.title,poster:At(C.poster_path,"w500")}),f(!0)},children:[a.jsx(Ve,{size:18,className:"mr-2"}),q.rateThis]}),a.jsxs(Q,{variant:"outline",onClick:()=>P({},"movie",C.id,C.title,At(C.poster_path,"w500")),children:[a.jsx(Mr,{size:18,className:"mr-2"}),q.addToCollection]})]}),a.jsxs("div",{className:"flex gap-6 flex-col md:flex-row",children:[a.jsx("img",{src:At(C.poster_path,"w500"),alt:C.title,className:"w-full md:w-64 rounded-sm border-2 border-border"}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:"text-yellow-400 fill-yellow-400",size:24}),a.jsx("span",{className:"text-2xl font-bold",children:(M=C.vote_average)==null?void 0:M.toFixed(1)}),a.jsx("span",{className:"text-muted-foreground",children:"/ 10"})]}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",C.vote_count," ",t==="pl"?"gosw":"votes",")"]})]}),C.release_date&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ks,{className:"text-primary",size:20}),a.jsx("span",{className:"font-semibold",children:t==="pl"?"Premiera:":"Release:"}),a.jsx("span",{children:new Date(C.release_date).toLocaleDateString(t==="pl"?"pl-PL":"en-US")})]}),C.runtime&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wa,{className:"text-primary",size:20}),a.jsx("span",{className:"font-semibold",children:t==="pl"?"Czas trwania:":"Runtime:"}),a.jsxs("span",{children:[C.runtime," min"]})]}),C.genres&&C.genres.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:t==="pl"?"Gatunki:":"Genres:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:C.genres.map(O=>a.jsx("span",{className:"px-3 py-1 bg-primary/10 border border-primary rounded-sm text-sm font-medium",children:O.name},O.id))})]}),I&&I.cast&&I.cast.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:t==="pl"?"Obsada:":"Cast:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:I.cast.slice(0,6).map(O=>a.jsx("span",{className:"px-3 py-1 bg-accent/50 border border-border rounded-sm text-sm",children:O.name},O.id))})]})]})]}),C.overview&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-heading font-bold mb-2",children:t==="pl"?"Opis":"Overview"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:C.overview})]}),C.tagline&&a.jsxs("div",{className:"border-l-4 border-primary pl-4 italic text-muted-foreground",children:['"',C.tagline,'"']})]})]}):null})}),a.jsx(mt,{open:o!==null,onOpenChange:()=>l(null),children:a.jsx(st,{className:"max-w-4xl max-h-[90vh] overflow-y-auto custom-scrollbar border-2 border-border",children:z?a.jsxs("div",{className:"space-y-4 animate-pulse",children:[a.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-64 bg-muted rounded"}),a.jsx("div",{className:"h-4 bg-muted rounded w-full"})]}):L?a.jsxs(a.Fragment,{children:[a.jsx(it,{children:a.jsx(ot,{className:"text-3xl font-heading font-bold",children:L.name})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(Q,{variant:"brutal",onClick:()=>{g({type:"game",id:L.id,title:L.name,poster:L.background_image}),f(!0)},children:[a.jsx(Ve,{size:18,className:"mr-2"}),q.rateThis]}),a.jsxs(Q,{variant:"outline",onClick:()=>P({},"game",L.id,L.name,L.background_image),children:[a.jsx(Mr,{size:18,className:"mr-2"}),q.addToCollection]})]}),a.jsxs("div",{className:"flex gap-6 flex-col md:flex-row",children:[a.jsx("img",{src:L.background_image||"https://via.placeholder.com/500x281",alt:L.name,className:"w-full md:w-96 rounded-sm border-2 border-border"}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:"text-yellow-400 fill-yellow-400",size:24}),a.jsx("span",{className:"text-2xl font-bold",children:(Y=L.rating)==null?void 0:Y.toFixed(1)}),a.jsx("span",{className:"text-muted-foreground",children:"/ 5"})]}),L.metacritic&&a.jsx("div",{className:"px-3 py-1 bg-green-500/20 border border-green-500 rounded-sm",children:a.jsxs("span",{className:"font-bold text-green-500",children:["Metacritic: ",L.metacritic]})})]}),L.released&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ks,{className:"text-secondary",size:20}),a.jsx("span",{className:"font-semibold",children:t==="pl"?"Premiera:":"Released:"}),a.jsx("span",{children:new Date(L.released).toLocaleDateString(t==="pl"?"pl-PL":"en-US")})]}),L.platforms&&L.platforms.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:t==="pl"?"Platformy:":"Platforms:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:L.platforms.slice(0,6).map(O=>a.jsx("span",{className:"px-3 py-1 bg-secondary/10 border border-secondary rounded-sm text-sm font-medium",children:O.platform.name},O.platform.id))})]}),L.genres&&L.genres.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:t==="pl"?"Gatunki:":"Genres:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:L.genres.map(O=>a.jsx("span",{className:"px-3 py-1 bg-secondary/10 border border-secondary rounded-sm text-sm font-medium",children:O.name},O.id))})]})]})]}),L.description_raw&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-heading font-bold mb-2",children:t==="pl"?"Opis":"Description"}),a.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:[L.description_raw.slice(0,500),L.description_raw.length>500&&"..."]})]})]})]}):null})}),a.jsx(mt,{open:c,onOpenChange:u,children:a.jsxs(st,{className:"border-2 border-border",children:[a.jsx(it,{children:a.jsx(ot,{className:"text-2xl font-heading font-bold",children:t==="pl"?"Dodaj do kolekcji":"Add to Collection"})}),a.jsx("div",{className:"space-y-4 py-4",children:!m||m.length===0?a.jsxs("div",{className:"text-center py-8 space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:t==="pl"?"Nie masz jeszcze adnych kolekcji":"You don't have any collections yet"}),a.jsx(Q,{variant:"brutal",onClick:()=>{u(!1),window.location.href="/collection"},children:t==="pl"?"Utwrz kolekcj":"Create Collection"})]}):a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto custom-scrollbar",children:m.map(O=>a.jsxs("button",{onClick:async()=>{if(d)try{await x.mutateAsync({collectionId:O.id,itemType:d.type,itemId:d.id,itemTitle:d.title,itemPoster:d.poster}),n({title:t==="pl"?"Dodano":"Added",description:`"${d.title}" ${t==="pl"?"dodano do":"added to"} "${O.name}"`}),u(!1),h(null)}catch{n({title:t==="pl"?"Bd":"Error",description:t==="pl"?"Nie udao si doda":"Failed to add",variant:"destructive"})}},className:"w-full p-4 text-left rounded-sm border-2 border-border hover:bg-accent transition-colors",children:[a.jsx("div",{className:"font-semibold",children:O.name}),O.description&&a.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:O.description}),a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[O.items_count||0," ",t==="pl"?"elementw":"items"]})]},O.id))})})]})}),b&&a.jsx(R_,{open:p,onOpenChange:f,itemType:b.type,itemId:b.id,itemTitle:b.title,itemPoster:b.poster})]})},hI=({item:e,isGame:t,title:r,rating:n,image:s,currentItemType:i,mediaType:o,setSelectedGame:l,setSelectedMovie:c,handleAddToCollection:u,handleAddToWatchlist:d,actions:h,itemId:p})=>{const{data:f}=O_(i,p);return a.jsxs("div",{className:`group relative ${t?"aspect-[16/9]":"aspect-[2/3]"} rounded-sm border-2 border-border overflow-hidden brutal-shadow-hover cursor-pointer bg-card`,children:[a.jsx("div",{onClick:()=>t?l(e.id):c(e.id),children:a.jsx("img",{src:s,alt:r,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"})}),a.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col gap-2",children:[a.jsx(ba,{children:a.jsxs(Cc,{children:[a.jsx(Tc,{asChild:!0,children:a.jsx(Q,{size:"icon",variant:"secondary",className:"h-9 w-9 bg-muted/90 hover:bg-muted backdrop-blur-sm border-2 border-border shadow-lg",onClick:b=>u(b,i,p,r,s),children:a.jsx(Mr,{size:18,className:"text-foreground"})})}),a.jsx(_a,{side:"left",children:a.jsx("p",{children:h.addToCollection})})]})}),a.jsx(ba,{children:a.jsxs(Cc,{children:[a.jsx(Tc,{asChild:!0,children:a.jsx(Q,{size:"icon",variant:f?"default":"secondary",className:"h-9 w-9 bg-muted/90 hover:bg-muted backdrop-blur-sm border-2 border-border shadow-lg",onClick:b=>d(b,i,e.id,r,s,n,f),children:a.jsx(Ba,{size:18,className:f?"fill-current":""})})}),a.jsx(_a,{side:"left",children:a.jsx("p",{children:f?h.removeFromWatchlist:h.addToWatchlist})})]})})]}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/90 to-transparent p-3",children:[a.jsx("h3",{className:"text-white font-bold text-sm line-clamp-2 mb-1",children:r}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ve,{className:"text-yellow-400 fill-yellow-400",size:14}),a.jsx("span",{className:"text-white text-xs font-semibold",children:n.toFixed(1)})]})]})]})},fI=()=>{var jo,Ya;const{t:e,language:t}=wt(),{toast:r}=qr(),[n]=oP(),s=n.get("type"),[i,o]=v.useState(s&&["movies","series","games"].includes(s)?s:"movies"),[l,c]=v.useState(""),[u,d]=v.useState([]),[h,p]=v.useState("popularity.desc"),[f,b]=v.useState(""),[g,m]=v.useState(""),[x,y]=v.useState("0"),[w,_]=v.useState(null),[j,N]=v.useState(null),[E,k]=v.useState(1),[R,C]=v.useState([]),[F,I]=v.useState(!1),[L,z]=v.useState(null),$=h1[t],{data:W}=G4(),{data:q}=Q4(),{data:P}=J4();let T=[];i==="movies"?T=(W==null?void 0:W.genres)||[]:i==="series"?T=(q==null?void 0:q.genres)||[]:i==="games"&&(T=(P==null?void 0:P.results)||[]);const M={page:E,sort_by:h,with_genres:u.length>0?u.join(","):void 0,"primary_release_date.gte":f?`${f}-01-01`:g?"1900-01-01":void 0,"primary_release_date.lte":g?`${g}-12-31`:void 0,"vote_average.gte":x!=="0"?x:void 0,"vote_count.gte":x!=="0"?"100":void 0};let Y="-added";h!=="popularity.desc"&&(Y=h.replace("popularity","rating").replace("vote_average","rating").replace(".desc","").replace(".asc",""),h.includes(".asc")?Y=Y.replace("-",""):Y.startsWith("-")||(Y="-"+Y));const O={page:E,ordering:Y,genres:u.length>0?u.join(","):void 0,dates:f&&g?`${f}-01-01,${g}-12-31`:g?`1900-01-01,${g}-12-31`:f?`${f}-01-01,${new Date().getFullYear()}-12-31`:void 0,metacritic:x!=="0"?`${parseInt(x)*20},100`:void 0},V=l.length>0,{data:re,isLoading:he}=Y4(M),{data:Se,isLoading:J}=E_(M),{data:Z,isLoading:Ze}=Z4(O),{data:Xe,isLoading:bt}=S_(l,E),{data:cr,isLoading:ur}=k_(l,E),{data:ti,isLoading:bo}=N_(l,E),dr=V?Xe:re,Cr=V?cr:Se,It=V?ti:Z;let _t=[],ps=1;i==="movies"?(_t=(dr==null?void 0:dr.results)||[],ps=(dr==null?void 0:dr.total_pages)||1):i==="series"?(_t=(Cr==null?void 0:Cr.results)||[],ps=(Cr==null?void 0:Cr.total_pages)||1):i==="games"&&(_t=(It==null?void 0:It.results)||[],ps=It!=null&&It.count?Math.ceil(It.count/20):1);const ms=E<ps;v.useEffect(()=>{_t.length>0&&C(E===1?_t:H=>[...H,..._t])},[_t,E]);const ri=R,Tr=i==="movies"?V?bt:he:i==="series"?V?ur:J:V?bo:Ze,{data:be,isLoading:Eu}=nm(w||0),{data:Ke}=im(w||0),{data:ye,isLoading:Cu}=sm(j||0);v.useEffect(()=>{d([]),b(""),m(""),y("0"),k(1)},[i]),v.useEffect(()=>{k(1)},[l,h,u,f,g,x]);const[Tu,Hr]=v.useState(!1),[gn,_o]=v.useState(null),gs=(H,Ce,Rr,ee,le)=>{H.stopPropagation(),console.log("Opening collection dialog for:",ee),_o({type:Ce,id:Rr,title:ee,poster:le}),Hr(!0),console.log("Dialog state set to true")},vn=A_(),Ga=lm(),{data:Pr}=om(),Pu=am(),Ru=async(H,Ce,Rr,ee,le,xe,zt)=>{H.stopPropagation();try{zt?(await Ga.mutateAsync({itemType:Ce,itemId:Rr}),r({title:$.removeFromWatchlist,description:`"${ee}" ${t==="pl"?"usunito z listy":"removed from watchlist"}`})):(await vn.mutateAsync({itemType:Ce,itemId:Rr,itemTitle:ee,itemPoster:le,itemRating:xe}),r({title:$.addToWatchlist,description:`"${ee}" ${t==="pl"?"dodano do listy":"added to watchlist"}`}))}catch{r({title:t==="pl"?"Bd":"Error",description:t==="pl"?"Co poszo nie tak":"Something went wrong",variant:"destructive"})}},Qa=H=>{d(Ce=>Ce.includes(H)?Ce.filter(Rr=>Rr!==H):[...Ce,H])};return a.jsxs(sr,{children:[a.jsxs("div",{className:"min-h-screen",children:[a.jsx("section",{className:"sticky top-0 z-10 glass-panel border-b-2 border-border p-3 sm:p-4 lg:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-3 lg:space-y-4",children:[a.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(jp,{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),a.jsx(Ot,{placeholder:t==="pl"?"Szukaj...":"Search...",className:"pl-10 sm:pl-12 h-10 sm:h-12 lg:h-14 text-sm sm:text-base lg:text-lg border-2 border-border",value:l,onChange:H=>c(H.target.value)})]})}),a.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 -mb-2 scrollbar-hide",children:[a.jsx(Ct,{variant:i==="movies"?"default":"secondary",className:"px-3 sm:px-4 py-1.5 sm:py-2 cursor-pointer whitespace-nowrap brutal-shadow hover:translate-x-1 hover:translate-y-1 transition-transform text-xs sm:text-sm flex-shrink-0",onClick:()=>o("movies"),children:t==="pl"?"Filmy":"Movies"}),a.jsx(Ct,{variant:i==="series"?"default":"secondary",className:"px-3 sm:px-4 py-1.5 sm:py-2 cursor-pointer whitespace-nowrap brutal-shadow hover:translate-x-1 hover:translate-y-1 transition-transform text-xs sm:text-sm flex-shrink-0",onClick:()=>o("series"),children:t==="pl"?"Seriale":"Series"}),a.jsx(Ct,{variant:i==="games"?"default":"secondary",className:"px-3 sm:px-4 py-1.5 sm:py-2 cursor-pointer whitespace-nowrap brutal-shadow hover:translate-x-1 hover:translate-y-1 transition-transform text-xs sm:text-sm flex-shrink-0",onClick:()=>o("games"),children:t==="pl"?"Gry":"Games"})]})]})}),!V&&a.jsx("section",{className:"p-6 border-b-2 border-border",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("h3",{className:"font-heading font-bold text-lg mb-4",children:t==="pl"?"Gatunki":"Genres"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(H=>a.jsx(Ct,{variant:u.includes(H.id)?"default":"outline",className:"cursor-pointer hover:bg-accent px-3 py-1",onClick:()=>Qa(H.id),children:H.name},H.id))})]})}),!V&&a.jsx("section",{className:"p-6 border-b-2 border-border bg-muted/30",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold mb-2 block",children:t==="pl"?"Sortuj":"Sort by"}),a.jsxs("select",{className:"w-full px-3 py-2 border-2 border-border rounded-sm bg-background text-sm",value:h,onChange:H=>p(H.target.value),children:[a.jsx("option",{value:"popularity.desc",children:t==="pl"?"Popularno ":"Popularity "}),a.jsx("option",{value:"popularity.asc",children:t==="pl"?"Popularno ":"Popularity "}),a.jsx("option",{value:"vote_average.desc",children:t==="pl"?"Ocena ":"Rating "}),a.jsx("option",{value:"vote_average.asc",children:t==="pl"?"Ocena ":"Rating "}),a.jsx("option",{value:"release_date.desc",children:t==="pl"?"Najnowsze":"Newest"}),a.jsx("option",{value:"release_date.asc",children:t==="pl"?"Najstarsze":"Oldest"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold mb-2 block",children:t==="pl"?"Rok od":"Year from"}),a.jsx(Ot,{type:"number",placeholder:"1900",min:"1900",max:new Date().getFullYear(),className:"border-2 border-border",value:f,onChange:H=>b(H.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold mb-2 block",children:t==="pl"?"Rok do":"Year to"}),a.jsx(Ot,{type:"number",placeholder:String(new Date().getFullYear()),min:"1900",max:new Date().getFullYear(),className:"border-2 border-border",value:g,onChange:H=>m(H.target.value)})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-semibold mb-2 block",children:[t==="pl"?"Min. ocena":"Min. rating",i==="games"&&" (0-5)",i!=="games"&&" (0-10)"]}),a.jsxs("select",{className:"w-full px-3 py-2 border-2 border-border rounded-sm bg-background text-sm",value:x,onChange:H=>y(H.target.value),children:[a.jsx("option",{value:"0",children:t==="pl"?"Wszystkie":"All"}),i==="games"?a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"1",children:"1+"}),a.jsx("option",{value:"2",children:"2+"}),a.jsx("option",{value:"3",children:"3+"}),a.jsx("option",{value:"4",children:"4+"}),a.jsx("option",{value:"5",children:"5"})]}):a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"5",children:"5+"}),a.jsx("option",{value:"6",children:"6+"}),a.jsx("option",{value:"7",children:"7+"}),a.jsx("option",{value:"8",children:"8+"}),a.jsx("option",{value:"9",children:"9+"})]})]})]})]})})}),a.jsx("section",{className:"p-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[Tr?a.jsx("div",{className:i==="games"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[...Array(20)].map((H,Ce)=>a.jsx("div",{className:i==="games"?"aspect-[16/9] bg-muted animate-pulse rounded-sm border-2 border-border":"aspect-[2/3] bg-muted animate-pulse rounded-sm border-2 border-border"},Ce))}):ri.length===0?a.jsx("div",{className:"text-center py-20",children:a.jsx("p",{className:"text-2xl text-muted-foreground",children:t==="pl"?"Nie znaleziono wynikw":"No results found"})}):a.jsx("div",{className:i==="games"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:ri.map(H=>{const Ce=!!H.background_image||i==="games",Rr=H.title||H.name,ee=H.vote_average||H.rating||0,le=Ce?H.background_image:At(H.poster_path,"w500"),xe=Ce?"game":i==="series"?"series":"movie";return a.jsx(hI,{item:H,isGame:Ce,title:Rr,rating:ee,image:le,currentItemType:xe,mediaType:i,setSelectedGame:N,setSelectedMovie:_,handleAddToCollection:gs,handleAddToWatchlist:Ru,actions:$,itemId:H.id},H.id)})}),!Tr&&ri.length>0&&ms&&a.jsx("div",{className:"flex justify-center pt-8",children:a.jsx(Q,{variant:"brutal",size:"lg",onClick:()=>k(H=>H+1),children:t==="pl"?"Zaaduj wicej":"Load More"})})]})})]}),a.jsx(mt,{open:w!==null,onOpenChange:()=>_(null),children:a.jsx(st,{className:"max-w-4xl max-h-[90vh] overflow-y-auto custom-scrollbar border-2 border-border",children:Eu?a.jsxs("div",{className:"space-y-4 animate-pulse",children:[a.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-64 bg-muted rounded"}),a.jsx("div",{className:"h-4 bg-muted rounded w-full"})]}):be?a.jsxs(a.Fragment,{children:[a.jsx(it,{children:a.jsx(ot,{className:"text-3xl font-heading font-bold",children:be.title||be.name})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(Q,{variant:"brutal",onClick:()=>gs({},be.title),children:[a.jsx(Mr,{size:18,className:"mr-2"}),$.addToCollection]}),a.jsxs(Q,{variant:"outline",onClick:()=>{z({type:i==="series"?"series":"movie",id:w,title:be.title||be.name,poster:be.poster_path}),I(!0)},children:[a.jsx(Ve,{size:18,className:"mr-2"}),$.rateThis]})]}),a.jsxs("div",{className:"flex gap-6 flex-col md:flex-row",children:[a.jsx("img",{src:At(be.poster_path,"w500"),alt:be.title,className:"w-full md:w-64 rounded-sm border-2 border-border"}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:"text-yellow-400 fill-yellow-400",size:24}),a.jsx("span",{className:"text-2xl font-bold",children:(jo=be.vote_average)==null?void 0:jo.toFixed(1)}),a.jsx("span",{className:"text-muted-foreground",children:"/ 10"})]}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",be.vote_count," ",t==="pl"?"gosw":"votes",")"]})]}),(be.release_date||be.first_air_date)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ks,{className:"text-primary",size:20}),a.jsx("span",{className:"font-semibold",children:t==="pl"?"Premiera:":"Release:"}),a.jsx("span",{children:new Date(be.release_date||be.first_air_date).toLocaleDateString(t==="pl"?"pl-PL":"en-US")})]}),be.runtime&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wa,{className:"text-primary",size:20}),a.jsx("span",{className:"font-semibold",children:t==="pl"?"Czas trwania:":"Runtime:"}),a.jsxs("span",{children:[be.runtime," min"]})]}),be.genres&&be.genres.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:t==="pl"?"Gatunki:":"Genres:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:be.genres.map(H=>a.jsx("span",{className:"px-3 py-1 bg-primary/10 border border-primary rounded-sm text-sm font-medium",children:H.name},H.id))})]}),Ke&&Ke.cast&&Ke.cast.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:t==="pl"?"Obsada:":"Cast:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Ke.cast.slice(0,6).map(H=>a.jsx("span",{className:"px-3 py-1 bg-accent/50 border border-border rounded-sm text-sm",children:H.name},H.id))})]})]})]}),be.overview&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-heading font-bold mb-2",children:t==="pl"?"Opis":"Overview"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:be.overview})]}),be.tagline&&a.jsxs("div",{className:"border-l-4 border-primary pl-4 italic text-muted-foreground",children:['"',be.tagline,'"']})]})]}):null})}),a.jsx(mt,{open:j!==null,onOpenChange:()=>N(null),children:a.jsx(st,{className:"max-w-4xl max-h-[90vh] overflow-y-auto custom-scrollbar border-2 border-border",children:Cu?a.jsxs("div",{className:"space-y-4 animate-pulse",children:[a.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-64 bg-muted rounded"}),a.jsx("div",{className:"h-4 bg-muted rounded w-full"})]}):ye?a.jsxs(a.Fragment,{children:[a.jsx(it,{children:a.jsx(ot,{className:"text-3xl font-heading font-bold",children:ye.name})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(Q,{variant:"brutal",onClick:()=>gs({},ye.name),children:[a.jsx(Mr,{size:18,className:"mr-2"}),$.addToCollection]}),a.jsxs(Q,{variant:"outline",onClick:()=>{z({type:"game",id:j,title:ye.name,poster:ye.background_image}),I(!0)},children:[a.jsx(Ve,{size:18,className:"mr-2"}),$.rateThis]})]}),a.jsxs("div",{className:"flex gap-6 flex-col md:flex-row",children:[a.jsx("img",{src:ye.background_image||"https://via.placeholder.com/500x281",alt:ye.name,className:"w-full md:w-96 rounded-sm border-2 border-border"}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:"text-yellow-400 fill-yellow-400",size:24}),a.jsx("span",{className:"text-2xl font-bold",children:(Ya=ye.rating)==null?void 0:Ya.toFixed(1)}),a.jsx("span",{className:"text-muted-foreground",children:"/ 5"})]}),ye.metacritic&&a.jsx("div",{className:"px-3 py-1 bg-green-500/20 border border-green-500 rounded-sm",children:a.jsxs("span",{className:"font-bold text-green-500",children:["Metacritic: ",ye.metacritic]})})]}),ye.released&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ks,{className:"text-secondary",size:20}),a.jsx("span",{className:"font-semibold",children:t==="pl"?"Premiera:":"Released:"}),a.jsx("span",{children:new Date(ye.released).toLocaleDateString(t==="pl"?"pl-PL":"en-US")})]}),ye.platforms&&ye.platforms.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:t==="pl"?"Platformy:":"Platforms:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ye.platforms.slice(0,6).map(H=>a.jsx("span",{className:"px-3 py-1 bg-secondary/10 border border-secondary rounded-sm text-sm font-medium",children:H.platform.name},H.platform.id))})]}),ye.genres&&ye.genres.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:t==="pl"?"Gatunki:":"Genres:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ye.genres.map(H=>a.jsx("span",{className:"px-3 py-1 bg-secondary/10 border border-secondary rounded-sm text-sm font-medium",children:H.name},H.id))})]})]})]}),ye.description_raw&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-heading font-bold mb-2",children:t==="pl"?"Opis":"Description"}),a.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:[ye.description_raw.slice(0,500),ye.description_raw.length>500&&"..."]})]})]})]}):null})}),a.jsx(mt,{open:Tu,onOpenChange:Hr,children:a.jsxs(st,{className:"border-2 border-border",children:[a.jsx(it,{children:a.jsx(ot,{className:"text-2xl font-heading font-bold",children:t==="pl"?"Dodaj do kolekcji":"Add to Collection"})}),a.jsx("div",{className:"space-y-4 py-4",children:!Pr||Pr.length===0?a.jsxs("div",{className:"text-center py-8 space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:t==="pl"?"Nie masz jeszcze adnych kolekcji":"You don't have any collections yet"}),a.jsx(Q,{variant:"brutal",onClick:()=>{Hr(!1),window.location.href="/collection"},children:t==="pl"?"Utwrz kolekcj":"Create Collection"})]}):a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto custom-scrollbar",children:Pr.map(H=>a.jsxs("button",{onClick:async()=>{if(gn)try{await Pu.mutateAsync({collectionId:H.id,itemType:gn.type,itemId:gn.id,itemTitle:gn.title,itemPoster:gn.poster}),r({title:t==="pl"?"Dodano":"Added",description:`"${gn.title}" ${t==="pl"?"dodano do":"added to"} "${H.name}"`}),Hr(!1),_o(null)}catch{r({title:t==="pl"?"Bd":"Error",description:t==="pl"?"Nie udao si doda":"Failed to add",variant:"destructive"})}},className:"w-full p-4 text-left rounded-sm border-2 border-border hover:bg-accent transition-colors",children:[a.jsx("div",{className:"font-semibold",children:H.name}),H.description&&a.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:H.description}),a.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[H.items_count||0," ",t==="pl"?"elementw":"items"]})]},H.id))})})]})}),L&&a.jsx(R_,{open:F,onOpenChange:I,itemType:L.type,itemId:L.id,itemTitle:L.title,itemPoster:L.poster})]})},pI=()=>{const{language:e}=wt(),{toast:t}=qr(),[r,n]=v.useState("all"),s=r==="all"?void 0:r,{data:i,isLoading:o}=uI(s),l=lm(),c=async(u,d,h)=>{try{await l.mutateAsync({itemType:u,itemId:d}),t({title:e==="pl"?"Usunito":"Removed",description:`"${h}" ${e==="pl"?"usunito z listy":"removed from watchlist"}`})}catch{t({title:e==="pl"?"Bd":"Error",description:e==="pl"?"Nie udao si usun":"Failed to remove",variant:"destructive"})}};return a.jsx(sr,{children:a.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 lg:space-y-8",children:[a.jsxs("div",{className:"space-y-3 lg:space-y-4 pb-4 lg:pb-6 border-b-4 border-primary",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-heading font-bold",children:e==="pl"?"Moja Lista":"My List"}),a.jsx("p",{className:"text-sm sm:text-base lg:text-xl text-muted-foreground",children:e==="pl"?"Filmy, seriale i gry, ktre chcesz obejrze lub zagra":"Movies, series, and games you want to watch or play"})]}),a.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 -mb-2 scrollbar-hide",children:[a.jsx(Ct,{variant:r==="all"?"default":"secondary",className:"px-3 sm:px-4 py-1.5 sm:py-2 cursor-pointer brutal-shadow hover:translate-x-1 hover:translate-y-1 transition-transform text-xs sm:text-sm whitespace-nowrap flex-shrink-0",onClick:()=>n("all"),children:e==="pl"?"Wszystko":"All"}),a.jsx(Ct,{variant:r==="movie"?"default":"secondary",className:"px-3 sm:px-4 py-1.5 sm:py-2 cursor-pointer brutal-shadow hover:translate-x-1 hover:translate-y-1 transition-transform text-xs sm:text-sm whitespace-nowrap flex-shrink-0",onClick:()=>n("movie"),children:e==="pl"?"Filmy":"Movies"}),a.jsx(Ct,{variant:r==="series"?"default":"secondary",className:"px-3 sm:px-4 py-1.5 sm:py-2 cursor-pointer brutal-shadow hover:translate-x-1 hover:translate-y-1 transition-transform text-xs sm:text-sm whitespace-nowrap flex-shrink-0",onClick:()=>n("series"),children:e==="pl"?"Seriale":"Series"}),a.jsx(Ct,{variant:r==="game"?"default":"secondary",className:"px-3 sm:px-4 py-1.5 sm:py-2 cursor-pointer brutal-shadow hover:translate-x-1 hover:translate-y-1 transition-transform text-xs sm:text-sm whitespace-nowrap flex-shrink-0",onClick:()=>n("game"),children:e==="pl"?"Gry":"Games"})]}),o?a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4 lg:gap-6",children:[...Array(10)].map((u,d)=>a.jsx("div",{className:"aspect-[2/3] bg-muted animate-pulse rounded-sm border-2 border-border"},d))}):!i||i.length===0?a.jsxs("div",{className:"text-center py-12 sm:py-16 lg:py-20 space-y-3 lg:space-y-4 px-4",children:[a.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-muted-foreground",children:e==="pl"?"Twoja lista jest pusta":"Your watchlist is empty"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e==="pl"?"Dodaj filmy, seriale lub gry z zakadki Odkrywaj":"Add movies, series, or games from the Discover page"})]}):a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4 lg:gap-6",children:i.map(u=>{const d=u.item_type==="game",h=d?u.item_poster:At(u.item_poster||"","w500");return a.jsxs("div",{className:`group relative ${d?"aspect-[16/9]":"aspect-[2/3]"} rounded-sm border-2 border-border overflow-hidden brutal-shadow-hover bg-card`,children:[a.jsx("img",{src:h||"https://via.placeholder.com/500x750",alt:u.item_title,className:"w-full h-full object-cover",loading:"lazy"}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Q,{size:"icon",variant:"destructive",className:"h-9 w-9 border-2 border-border shadow-lg",onClick:()=>c(u.item_type,u.item_id,u.item_title),children:a.jsx(js,{size:18})})}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/90 to-transparent p-3",children:[a.jsx("h3",{className:"text-white font-bold text-sm line-clamp-2 mb-1",children:u.item_title}),u.item_rating&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ve,{className:"text-yellow-400 fill-yellow-400",size:14}),a.jsx("span",{className:"text-white text-xs font-semibold",children:u.item_rating.toFixed(1)})]})]})]},u.id)})})]})})})},mI=()=>{var he,Se;const{language:e}=wt(),{toast:t}=qr(),[r,n]=v.useState(!1),[s,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(""),[d,h]=v.useState(""),[p,f]=v.useState(""),[b,g]=v.useState("movie"),[m,x]=v.useState(null),[y,w]=v.useState(null),{data:_,isLoading:j}=om(),{data:N}=oI(o||""),E=aI(),k=lI(),R=am(),C=cI(),{data:F}=S_(p,1),{data:I}=k_(p,1),{data:L}=N_(p,1),z=b==="movie"?(F==null?void 0:F.results)||[]:b==="series"?(I==null?void 0:I.results)||[]:(L==null?void 0:L.results)||[],{data:$,isLoading:W}=nm((m==null?void 0:m.type)==="movie"?m.id:0),{data:q}=im((m==null?void 0:m.type)==="movie"?m.id:0),{data:P,isLoading:T}=sm((m==null?void 0:m.type)==="game"?m.id:0),M=async()=>{if(!(!o||!y))try{await C.mutateAsync({collectionId:o,itemId:y.id}),t({title:e==="pl"?"Usunito":"Removed",description:`"${y.title}" ${e==="pl"?"usunito z kolekcji":"removed from collection"}`}),w(null)}catch{t({title:e==="pl"?"Bd":"Error",description:e==="pl"?"Nie udao si usun":"Failed to remove",variant:"destructive"})}},Y=async()=>{if(!c.trim()){t({title:e==="pl"?"Bd":"Error",description:e==="pl"?"Nazwa kolekcji jest wymagana":"Collection name is required",variant:"destructive"});return}try{await E.mutateAsync({name:c,description:d}),t({title:e==="pl"?"Sukces":"Success",description:e==="pl"?"Kolekcja zostaa utworzona":"Collection created successfully"}),n(!1),u(""),h("")}catch{t({title:e==="pl"?"Bd":"Error",description:e==="pl"?"Nie udao si utworzy kolekcji":"Failed to create collection",variant:"destructive"})}},[O,V]=v.useState(null),re=async()=>{if(O)try{await k.mutateAsync(O.id),t({title:e==="pl"?"Usunito":"Deleted",description:e==="pl"?"Kolekcja zostaa usunita":"Collection deleted successfully"}),o===O.id&&l(null),V(null)}catch{t({title:e==="pl"?"Bd":"Error",description:e==="pl"?"Nie udao si usun kolekcji":"Failed to delete collection",variant:"destructive"})}};if(o&&N){const J=N.collection_items||[];return a.jsxs(sr,{children:[a.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[a.jsxs("div",{className:"space-y-4 pb-6 border-b-4 border-primary",children:[a.jsxs(Q,{variant:"ghost",onClick:()=>l(null),className:"mb-4",children:[a.jsx(a2,{size:20,className:"mr-2"}),e==="pl"?"Powrt":"Back"]}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-5xl font-heading font-bold",children:N.name}),N.description&&a.jsx("p",{className:"text-xl text-muted-foreground mt-2",children:N.description}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-4",children:[J.length," ",e==="pl"?"elementw":"items"]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(Q,{variant:"brutal",size:"lg",onClick:()=>i(!0),children:[a.jsx(Mr,{size:20,className:"mr-2"}),e==="pl"?"Dodaj":"Add"]}),a.jsxs(Q,{variant:"destructive",size:"lg",onClick:()=>V({id:o,name:N.name}),children:[a.jsx(js,{size:18,className:"mr-2"}),e==="pl"?"Usu":"Delete"]})]})]})]}),J.length===0?a.jsxs("div",{className:"text-center py-20 space-y-4",children:[a.jsx("p",{className:"text-2xl text-muted-foreground",children:e==="pl"?"Ta kolekcja jest pusta":"This collection is empty"}),a.jsx("p",{className:"text-muted-foreground",children:e==="pl"?"Dodaj filmy, seriale lub gry z zakadki Odkrywaj":"Add movies, series, or games from the Discover page"})]}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:J.map(Z=>{const Ze=Z.item_type==="game",Xe=Ze?Z.item_poster:At(Z.item_poster||"","w500");return a.jsxs("div",{className:`group relative ${Ze?"aspect-[16/9]":"aspect-[2/3]"} rounded-sm border-2 border-border overflow-hidden brutal-shadow-hover bg-card`,children:[a.jsx("img",{src:Xe||"https://via.placeholder.com/500x750",alt:Z.item_title,className:"w-full h-full object-cover",loading:"lazy"}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:a.jsx(Q,{size:"icon",variant:"destructive",className:"h-9 w-9 border-2 border-border shadow-lg",onClick:bt=>{bt.stopPropagation(),w({id:Z.id,title:Z.item_title})},children:a.jsx(js,{size:18})})}),a.jsx("div",{className:"absolute inset-0 cursor-pointer",onClick:()=>x({type:Z.item_type,id:Z.item_id})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/90 to-transparent p-3 pointer-events-none",children:a.jsx("h3",{className:"text-white font-bold text-sm line-clamp-2",children:Z.item_title})})]},Z.id)})})]})}),a.jsx(mt,{open:s,onOpenChange:i,children:a.jsxs(st,{className:"border-2 border-border max-w-4xl max-h-[80vh]",children:[a.jsx(it,{children:a.jsx(ot,{className:"text-2xl font-heading font-bold",children:e==="pl"?"Dodaj do kolekcji":"Add to Collection"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ct,{variant:b==="movie"?"default":"secondary",className:"px-4 py-2 cursor-pointer brutal-shadow hover:translate-x-1 hover:translate-y-1 transition-transform",onClick:()=>g("movie"),children:e==="pl"?"Filmy":"Movies"}),a.jsx(Ct,{variant:b==="series"?"default":"secondary",className:"px-4 py-2 cursor-pointer brutal-shadow hover:translate-x-1 hover:translate-y-1 transition-transform",onClick:()=>g("series"),children:e==="pl"?"Seriale":"Series"}),a.jsx(Ct,{variant:b==="game"?"default":"secondary",className:"px-4 py-2 cursor-pointer brutal-shadow hover:translate-x-1 hover:translate-y-1 transition-transform",onClick:()=>g("game"),children:e==="pl"?"Gry":"Games"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(jp,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",size:20}),a.jsx(Ot,{placeholder:e==="pl"?"Szukaj...":"Search...",className:"pl-12 h-12 text-lg border-2 border-border",value:p,onChange:Z=>f(Z.target.value)})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto custom-scrollbar space-y-2",children:p.length===0?a.jsx("div",{className:"text-center py-12 text-muted-foreground",children:e==="pl"?"Wpisz nazw aby wyszuka":"Type to search"}):z.length===0?a.jsx("div",{className:"text-center py-12 text-muted-foreground",children:e==="pl"?"Nie znaleziono wynikw":"No results found"}):z.map(Z=>{const Ze=b==="game",Xe=Z.title||Z.name,bt=Z.vote_average||Z.rating||0,cr=Ze?Z.background_image:At(Z.poster_path,"w200");return a.jsxs("button",{onClick:async()=>{if(o)try{await R.mutateAsync({collectionId:o,itemType:b,itemId:Z.id,itemTitle:Xe,itemPoster:cr}),t({title:e==="pl"?"Dodano":"Added",description:`"${Xe}" ${e==="pl"?"dodano do kolekcji":"added to collection"}`}),i(!1),f("")}catch{t({title:e==="pl"?"Bd":"Error",description:e==="pl"?"Nie udao si doda":"Failed to add",variant:"destructive"})}},className:"w-full flex items-center gap-4 p-3 rounded-sm border-2 border-border hover:bg-accent transition-colors text-left",children:[a.jsx("img",{src:cr||"https://via.placeholder.com/100x150",alt:Xe,className:"w-16 h-24 object-cover rounded-sm border-2 border-border"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-lg line-clamp-1",children:Xe}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Ve,{className:"text-yellow-400 fill-yellow-400",size:16}),a.jsx("span",{className:"font-semibold",children:bt.toFixed(1)})]}),Z.release_date&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:new Date(Z.release_date).getFullYear()}),Z.first_air_date&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:new Date(Z.first_air_date).getFullYear()}),Z.released&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:new Date(Z.released).getFullYear()})]}),a.jsx(Mr,{size:24,className:"text-primary"})]},Z.id)})})]})]})}),a.jsx(mt,{open:(m==null?void 0:m.type)==="movie"&&!!m,onOpenChange:()=>x(null),children:a.jsx(st,{className:"max-w-4xl max-h-[90vh] overflow-y-auto custom-scrollbar border-2 border-border",children:W?a.jsxs("div",{className:"space-y-4 animate-pulse",children:[a.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-64 bg-muted rounded"}),a.jsx("div",{className:"h-4 bg-muted rounded w-full"})]}):$?a.jsxs(a.Fragment,{children:[a.jsx(it,{children:a.jsx(ot,{className:"text-3xl font-heading font-bold",children:$.title||$.name})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-6 flex-col md:flex-row",children:[a.jsx("img",{src:At($.poster_path,"w500"),alt:$.title,className:"w-full md:w-64 rounded-sm border-2 border-border"}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:"text-yellow-400 fill-yellow-400",size:24}),a.jsx("span",{className:"text-2xl font-bold",children:(he=$.vote_average)==null?void 0:he.toFixed(1)}),a.jsx("span",{className:"text-muted-foreground",children:"/ 10"})]}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",$.vote_count," ",e==="pl"?"gosw":"votes",")"]})]}),($.release_date||$.first_air_date)&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ks,{className:"text-primary",size:20}),a.jsx("span",{className:"font-semibold",children:e==="pl"?"Premiera:":"Release:"}),a.jsx("span",{children:new Date($.release_date||$.first_air_date).toLocaleDateString(e==="pl"?"pl-PL":"en-US")})]}),$.runtime&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wa,{className:"text-primary",size:20}),a.jsx("span",{className:"font-semibold",children:e==="pl"?"Czas trwania:":"Runtime:"}),a.jsxs("span",{children:[$.runtime," min"]})]}),$.genres&&$.genres.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:e==="pl"?"Gatunki:":"Genres:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:$.genres.map(Z=>a.jsx("span",{className:"px-3 py-1 bg-primary/10 border border-primary rounded-sm text-sm font-medium",children:Z.name},Z.id))})]}),q&&q.cast&&q.cast.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:e==="pl"?"Obsada:":"Cast:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:q.cast.slice(0,6).map(Z=>a.jsx("span",{className:"px-3 py-1 bg-accent/50 border border-border rounded-sm text-sm",children:Z.name},Z.id))})]})]})]}),$.overview&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-heading font-bold mb-2",children:e==="pl"?"Opis":"Overview"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:$.overview})]}),$.tagline&&a.jsxs("div",{className:"border-l-4 border-primary pl-4 italic text-muted-foreground",children:['"',$.tagline,'"']})]})]}):null})}),a.jsx(mt,{open:(m==null?void 0:m.type)==="game"&&!!m,onOpenChange:()=>x(null),children:a.jsx(st,{className:"max-w-4xl max-h-[90vh] overflow-y-auto custom-scrollbar border-2 border-border",children:T?a.jsxs("div",{className:"space-y-4 animate-pulse",children:[a.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-64 bg-muted rounded"}),a.jsx("div",{className:"h-4 bg-muted rounded w-full"})]}):P?a.jsxs(a.Fragment,{children:[a.jsx(it,{children:a.jsx(ot,{className:"text-3xl font-heading font-bold",children:P.name})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-6 flex-col md:flex-row",children:[a.jsx("img",{src:P.background_image||"https://via.placeholder.com/500x281",alt:P.name,className:"w-full md:w-96 rounded-sm border-2 border-border"}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:"text-yellow-400 fill-yellow-400",size:24}),a.jsx("span",{className:"text-2xl font-bold",children:(Se=P.rating)==null?void 0:Se.toFixed(1)}),a.jsx("span",{className:"text-muted-foreground",children:"/ 5"})]}),P.metacritic&&a.jsx("div",{className:"px-3 py-1 bg-green-500/20 border border-green-500 rounded-sm",children:a.jsxs("span",{className:"font-bold text-green-500",children:["Metacritic: ",P.metacritic]})})]}),P.released&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ks,{className:"text-secondary",size:20}),a.jsx("span",{className:"font-semibold",children:e==="pl"?"Premiera:":"Released:"}),a.jsx("span",{children:new Date(P.released).toLocaleDateString(e==="pl"?"pl-PL":"en-US")})]}),P.platforms&&P.platforms.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:e==="pl"?"Platformy:":"Platforms:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:P.platforms.slice(0,6).map(Z=>a.jsx("span",{className:"px-3 py-1 bg-secondary/10 border border-secondary rounded-sm text-sm font-medium",children:Z.platform.name},Z.platform.id))})]}),P.genres&&P.genres.length>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:e==="pl"?"Gatunki:":"Genres:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:P.genres.map(Z=>a.jsx("span",{className:"px-3 py-1 bg-secondary/10 border border-secondary rounded-sm text-sm font-medium",children:Z.name},Z.id))})]})]})]}),P.description_raw&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-heading font-bold mb-2",children:e==="pl"?"Opis":"Description"}),a.jsxs("p",{className:"text-muted-foreground leading-relaxed",children:[P.description_raw.slice(0,500),P.description_raw.length>500&&"..."]})]})]})]}):null})}),a.jsx(mt,{open:!!y,onOpenChange:()=>w(null),children:a.jsxs(st,{className:"border-2 border-border",children:[a.jsx(it,{children:a.jsx(ot,{className:"text-2xl font-heading font-bold",children:e==="pl"?"Potwierd usunicie":"Confirm Deletion"})}),a.jsx("div",{className:"py-4",children:a.jsxs("p",{className:"text-lg",children:[e==="pl"?"Czy na pewno chcesz usun":"Are you sure you want to remove"," ",a.jsxs("span",{className:"font-bold",children:['"',y==null?void 0:y.title,'"']})," ",e==="pl"?"z tej kolekcji?":"from this collection?"]})}),a.jsxs(Zo,{children:[a.jsx(Q,{variant:"outline",onClick:()=>w(null),children:e==="pl"?"Anuluj":"Cancel"}),a.jsxs(Q,{variant:"destructive",onClick:M,children:[a.jsx(js,{size:18,className:"mr-2"}),e==="pl"?"Usu":"Delete"]})]})]})})]})}return a.jsxs(sr,{children:[a.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 lg:space-y-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-4 pb-4 lg:pb-6 border-b-4 border-primary",children:[a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-heading font-bold",children:e==="pl"?"Moje Kolekcje":"My Collections"}),a.jsx("p",{className:"text-sm sm:text-base lg:text-xl text-muted-foreground",children:e==="pl"?"Twrz wasne foldery i organizuj swoje media":"Create custom folders and organize your media"})]}),a.jsxs(Q,{variant:"brutal",size:"lg",onClick:()=>n(!0),className:"w-full sm:w-auto flex-shrink-0",children:[a.jsx(Mr,{size:18,className:"mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:e==="pl"?"Nowa Kolekcja":"New Collection"}),a.jsx("span",{className:"sm:hidden",children:e==="pl"?"Nowa":"New"})]})]}),j?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[...Array(8)].map((J,Z)=>a.jsx("div",{className:"aspect-[4/3] bg-muted animate-pulse rounded-sm border-2 border-border"},Z))}):!_||_.length===0?a.jsxs("div",{className:"text-center py-12 sm:py-16 lg:py-20 space-y-3 lg:space-y-4 px-4",children:[a.jsx(Ng,{size:48,className:"mx-auto text-muted-foreground sm:w-16 sm:h-16"}),a.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-muted-foreground",children:e==="pl"?"Nie masz jeszcze adnych kolekcji":"You don't have any collections yet"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e==="pl"?"Utwrz swoj pierwsz kolekcj":"Create your first collection"}),a.jsxs(Q,{variant:"brutal",size:"lg",onClick:()=>n(!0),className:"w-full sm:w-auto",children:[a.jsx(Mr,{size:18,className:"mr-2"}),e==="pl"?"Utwrz Kolekcj":"Create Collection"]})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:_.map(J=>a.jsxs("div",{onClick:()=>l(J.id),className:"group relative aspect-[4/3] rounded-sm border-2 border-border overflow-hidden brutal-shadow-hover cursor-pointer bg-gradient-to-br from-primary/20 to-secondary/20 hover:from-primary/30 hover:to-secondary/30 transition-all",children:[a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-6 text-center",children:[a.jsx(Ng,{size:48,className:"text-primary mb-4"}),a.jsx("h3",{className:"font-heading font-bold text-xl mb-2 line-clamp-2",children:J.name}),J.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:J.description}),a.jsxs("p",{className:"text-xs mono text-muted-foreground",children:[J.items_count||0," ",e==="pl"?"elementw":"items"]})]}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Q,{size:"icon",variant:"destructive",className:"h-8 w-8 border-2 border-border shadow-lg",onClick:Z=>{Z.stopPropagation(),V({id:J.id,name:J.name})},children:a.jsx(js,{size:16})})})]},J.id))})]})}),a.jsx(mt,{open:r,onOpenChange:n,children:a.jsxs(st,{className:"border-2 border-border",children:[a.jsx(it,{children:a.jsx(ot,{className:"text-2xl font-heading font-bold",children:e==="pl"?"Nowa Kolekcja":"New Collection"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"name",children:e==="pl"?"Nazwa":"Name"}),a.jsx(Ot,{id:"name",placeholder:e==="pl"?"np. Ulubione Filmy":"e.g. Favorite Movies",value:c,onChange:J=>u(J.target.value),className:"border-2 border-border"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"description",children:e==="pl"?"Opis (opcjonalnie)":"Description (optional)"}),a.jsx(Nu,{id:"description",placeholder:e==="pl"?"Krtki opis kolekcji...":"Short description...",value:d,onChange:J=>h(J.target.value),className:"border-2 border-border resize-none",rows:3})]})]}),a.jsxs(Zo,{children:[a.jsx(Q,{variant:"outline",onClick:()=>n(!1),children:e==="pl"?"Anuluj":"Cancel"}),a.jsx(Q,{variant:"brutal",onClick:Y,disabled:E.isPending,children:E.isPending?e==="pl"?"Tworzenie...":"Creating...":e==="pl"?"Utwrz":"Create"})]})]})}),a.jsx(mt,{open:!!O,onOpenChange:()=>V(null),children:a.jsxs(st,{className:"border-2 border-border",children:[a.jsx(it,{children:a.jsx(ot,{className:"text-2xl font-heading font-bold",children:e==="pl"?"Potwierd usunicie":"Confirm Deletion"})}),a.jsxs("div",{className:"py-4",children:[a.jsxs("p",{className:"text-lg",children:[e==="pl"?"Czy na pewno chcesz usun kolekcj":"Are you sure you want to delete the collection"," ",a.jsxs("span",{className:"font-bold",children:['"',O==null?void 0:O.name,'"']}),"?"]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:e==="pl"?"Wszystkie elementy w tej kolekcji zostan usunite. Ta akcja jest nieodwracalna.":"All items in this collection will be removed. This action cannot be undone."})]}),a.jsxs(Zo,{children:[a.jsx(Q,{variant:"outline",onClick:()=>V(null),children:e==="pl"?"Anuluj":"Cancel"}),a.jsxs(Q,{variant:"destructive",onClick:re,children:[a.jsx(js,{size:18,className:"mr-2"}),e==="pl"?"Usu kolekcj":"Delete Collection"]})]})]})})]})},gI=()=>{const{user:e}=we();return fe({queryKey:["user-stats",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");return console.log(" DEMO MODE: Returning fake stats",mf),mf},enabled:!!e})},vI=()=>{const{user:e}=we();return fe({queryKey:["favorite-media",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");return console.log(" DEMO MODE: Returning fake favorites",{movies:gf.slice(0,6),games:vf.slice(0,4)}),{movies:gf.slice(0,6),games:vf.slice(0,4)}},enabled:!!e})},yI=()=>{const{user:e}=we(),t=xt();return Kt({mutationFn:async({username:r,bio:n})=>{if(!e)throw new Error("User not authenticated");const{data:s}=await se.from("profiles").select("id").eq("id",e.id).single();if(s){const{data:i,error:o}=await se.from("profiles").update({username:r||null,bio:n||null,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();if(o)throw o;return i}else{const{data:i,error:o}=await se.from("profiles").insert({id:e.id,username:r||null,bio:n||null}).select().single();if(o)throw o;return i}},onSuccess:()=>{t.invalidateQueries({queryKey:["profile"]})}})},xI=()=>{const{user:e}=we();return{queryKey:["profile",e==null?void 0:e.id],queryFn:async()=>{if(!e)throw new Error("User not authenticated");const{data:t,error:r}=await se.from("profiles").select("*").eq("id",e.id).single();if(r&&r.code==="PGRST116")return{username:null,bio:null};if(r)throw r;return t},enabled:!!e}},I_=({open:e,onOpenChange:t,review:r,type:n})=>{const{language:s}=wt();if(!r)return null;const i=r.movie_title||r.series_title||r.game_title||"",o=r.movie_poster||r.series_poster||r.game_cover||"",l=()=>n==="movie"?s==="pl"?"filmu":"movie":n==="series"?s==="pl"?"serialu":"series":s==="pl"?"gry":"game";return a.jsx(mt,{open:e,onOpenChange:t,children:a.jsxs(st,{className:"max-w-2xl border-2 border-border",children:[a.jsx(it,{children:a.jsx(ot,{className:"text-2xl font-heading font-bold",children:s==="pl"?`Recenzja ${l()}`:`${l()} review`})}),a.jsxs("div",{className:"space-y-6 py-4",children:[a.jsxs("div",{className:"flex gap-4",children:[o&&a.jsx("img",{src:o,alt:i,className:"w-24 h-36 object-cover rounded border-2 border-border flex-shrink-0"}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsx("h3",{className:"text-xl font-bold",children:i}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5,6,7,8,9,10].map(c=>a.jsx(Ve,{size:20,className:c<=r.rating?"fill-yellow-400 text-yellow-400":"text-muted-foreground"},c))}),a.jsxs("span",{className:"text-lg font-bold",children:[r.rating,"/10"]})]}),a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[r.watched_date&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ks,{size:16}),a.jsxs("span",{children:[n==="game"?s==="pl"?"Data zagrania:":"Date played:":s==="pl"?"Data obejrzenia:":"Date watched:"," ",new Date(r.watched_date).toLocaleDateString(s==="pl"?"pl-PL":"en-US")]})]}),n==="game"&&r.hours_played&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wa,{size:16}),a.jsxs("span",{children:[s==="pl"?"Godziny gry:":"Hours played:"," ",r.hours_played,"h"]})]}),n==="game"&&r.platform&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hx,{size:16}),a.jsxs("span",{children:[s==="pl"?"Platforma:":"Platform:"," ",r.platform]})]})]})]})]}),r.review_text&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-semibold text-base",children:s==="pl"?"Opinia:":"Review:"}),a.jsx("div",{className:"p-4 bg-muted rounded border-2 border-border",children:a.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:r.review_text})})]}),!r.review_text&&a.jsx("div",{className:"text-center py-4 text-muted-foreground",children:a.jsx("p",{children:s==="pl"?"Brak opinii tekstowej":"No text review"})})]})]})})},wI=()=>{var z,$,W,q,P;const{user:e}=we(),{language:t}=wt(),{toast:r}=qr(),{data:n,isLoading:s}=gI(),{data:i,isLoading:o}=vI(),l=xI(),{data:c}=fe(l),u=yI(),[d,h]=v.useState(!1),[p,f]=v.useState(""),[b,g]=v.useState(""),[m,x]=v.useState(null),[y,w]=v.useState(!1),[_,j]=v.useState("movie"),N=(c==null?void 0:c.username)||((z=e==null?void 0:e.user_metadata)==null?void 0:z.full_name)||(($=e==null?void 0:e.user_metadata)==null?void 0:$.name)||((W=e==null?void 0:e.email)==null?void 0:W.split("@")[0])||"User",E=((q=e==null?void 0:e.user_metadata)==null?void 0:q.avatar_url)||((P=e==null?void 0:e.user_metadata)==null?void 0:P.picture),k=(e==null?void 0:e.email)||"",R=(c==null?void 0:c.bio)||"",C=()=>{f((c==null?void 0:c.username)||""),g((c==null?void 0:c.bio)||""),h(!0)},F=async()=>{try{await u.mutateAsync({username:p,bio:b}),r({title:t==="pl"?"Zapisano":"Saved",description:t==="pl"?"Profil zosta zaktualizowany":"Profile updated successfully"}),h(!1)}catch{r({title:t==="pl"?"Bd":"Error",description:t==="pl"?"Nie udao si zapisa profilu":"Failed to save profile",variant:"destructive"})}},I=(T,M)=>{x(T),j(M),w(!0)},L=[{label:t==="pl"?"Filmy/Seriale/Gry":"Movies/Series/Games",value:(n==null?void 0:n.total_items)||0,icon:au,color:"text-primary"},{label:t==="pl"?"Oceny":"Ratings",value:(n==null?void 0:n.total_ratings)||0,icon:Ve,color:"text-yellow-500"},{label:t==="pl"?"Recenzje":"Reviews",value:(n==null?void 0:n.total_text_reviews)||0,icon:Gx,color:"text-secondary"},{label:t==="pl"?"Lista":"Watchlist",value:(n==null?void 0:n.watchlist_count)||0,icon:Ba,color:"text-accent"}];return a.jsxs(sr,{children:[a.jsxs("div",{className:"min-h-screen",children:[a.jsx("section",{className:"relative bg-gradient-to-br from-primary/10 via-secondary/10 to-background p-4 sm:p-6 lg:p-8 border-b-4 border-primary",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-4 lg:gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3 lg:gap-4 flex-1 min-w-0 w-full",children:[a.jsxs(es,{className:"h-16 w-16 sm:h-20 sm:w-20 lg:h-24 lg:w-24 border-4 border-border brutal-shadow flex-shrink-0",children:[a.jsx(ts,{src:E,alt:N}),a.jsx(rs,{className:"bg-primary text-primary-foreground text-2xl sm:text-3xl font-bold",children:N.charAt(0).toUpperCase()})]}),a.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-heading font-bold truncate",children:N}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:k}),R&&a.jsx("p",{className:"text-xs sm:text-sm text-foreground line-clamp-2",children:R}),a.jsxs("p",{className:"text-xs text-muted-foreground mono",children:[t==="pl"?"Czonek od":"Member since"," ",new Date((e==null?void 0:e.created_at)||"").toLocaleDateString(t==="pl"?"pl-PL":"en-US",{month:"long",year:"numeric"})]})]})]}),a.jsxs("div",{className:"flex gap-2 flex-shrink-0 w-full md:w-auto",children:[a.jsxs(Q,{variant:"outline",size:"sm",onClick:C,className:"flex-1 md:flex-initial",children:[a.jsx(Qx,{size:14,className:"sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:t==="pl"?"Edytuj":"Edit"})]}),a.jsxs(Q,{variant:"brutal",size:"sm",onClick:()=>window.location.href="/settings",className:"flex-1 md:flex-initial",children:[a.jsx(Sp,{size:14,className:"sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:t==="pl"?"Ustawienia":"Settings"})]})]})]})})}),a.jsx("div",{className:"p-4 sm:p-6 lg:p-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 lg:space-y-12",children:[a.jsxs("section",{children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl font-heading font-bold mb-4 lg:mb-6 flex items-center gap-2 lg:gap-3",children:[a.jsx(Yx,{className:"text-primary flex-shrink-0",size:24}),t==="pl"?"Statystyki":"Stats Overview"]}),s?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[...Array(4)].map((T,M)=>a.jsx("div",{className:"h-24 sm:h-28 lg:h-32 bg-muted animate-pulse rounded-sm border-2 border-border"},M))}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:L.map(T=>a.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 border-2 border-border rounded-sm brutal-shadow hover:translate-x-1 hover:translate-y-1 transition-transform bg-card",children:[a.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 mb-2",children:[a.jsx(T.icon,{className:`${T.color} flex-shrink-0`,size:20}),a.jsx("div",{className:"text-2xl sm:text-3xl font-heading font-bold text-primary",children:T.value})]}),a.jsx("div",{className:"text-sm font-semibold text-muted-foreground",children:T.label})]},T.label))})]}),(i==null?void 0:i.movies)&&i.movies.length>0&&a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4",children:t==="pl"?"Ulubione Filmy":"Favorite Movies"}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:i.movies.slice(0,6).map(T=>a.jsxs("div",{className:"group relative aspect-[2/3] rounded-sm border-2 border-border overflow-hidden brutal-shadow-hover bg-card cursor-pointer",onClick:()=>I(T,"movie"),children:[a.jsx("img",{src:At(T.movie_poster||"","w500"),alt:T.movie_title,className:"w-full h-full object-cover",loading:"lazy"}),a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity p-3 flex flex-col justify-end",children:[a.jsx("h3",{className:"text-white font-bold text-sm line-clamp-2 mb-1",children:T.movie_title}),a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx("span",{className:"text-yellow-400 text-lg",children:""}),a.jsxs("span",{className:"text-white font-bold text-sm",children:[T.rating,"/10"]})]}),T.review_text&&a.jsx("p",{className:"text-white/80 text-xs line-clamp-2",children:T.review_text}),a.jsx("p",{className:"text-white/60 text-xs mt-1",children:t==="pl"?"Kliknij aby zobaczy pen recenzj":"Click to view full review"})]}),a.jsx("div",{className:"absolute top-2 right-2 bg-black/80 px-2 py-1 rounded-sm",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-400 text-sm",children:""}),a.jsx("span",{className:"text-white font-bold text-xs",children:T.rating})]})})]},T.id))})]}),(i==null?void 0:i.games)&&i.games.length>0&&a.jsxs("section",{className:"pb-12",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4",children:t==="pl"?"Ulubione Gry":"Favorite Games"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:i.games.slice(0,4).map(T=>a.jsxs("div",{className:"group relative aspect-[16/9] rounded-sm border-2 border-border overflow-hidden brutal-shadow-hover bg-card cursor-pointer",onClick:()=>I(T,"game"),children:[a.jsx("img",{src:T.game_cover||"https://via.placeholder.com/500x281",alt:T.game_title,className:"w-full h-full object-cover",loading:"lazy"}),a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity p-3 flex flex-col justify-end",children:[a.jsx("h3",{className:"text-white font-bold text-sm line-clamp-2 mb-1",children:T.game_title}),a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-400 text-lg",children:""}),a.jsxs("span",{className:"text-white font-bold text-sm",children:[T.rating,"/10"]})]}),T.hours_played&&a.jsxs("span",{className:"text-white/70 text-xs",children:[T.hours_played,"h"]})]}),T.review_text&&a.jsx("p",{className:"text-white/80 text-xs line-clamp-2",children:T.review_text}),a.jsx("p",{className:"text-white/60 text-xs mt-1",children:t==="pl"?"Kliknij aby zobaczy pen recenzj":"Click to view full review"})]}),a.jsx("div",{className:"absolute top-2 right-2 bg-black/80 px-2 py-1 rounded-sm",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-400 text-sm",children:""}),a.jsx("span",{className:"text-white font-bold text-xs",children:T.rating})]})})]},T.id))})]}),!o&&(!(i!=null&&i.movies)||i.movies.length===0)&&(!(i!=null&&i.games)||i.games.length===0)&&a.jsxs("section",{className:"text-center py-20 space-y-4",children:[a.jsx("p",{className:"text-2xl text-muted-foreground",children:t==="pl"?"Zacznij ocenia filmy i gry, aby zobaczy swoje ulubione!":"Start rating movies and games to see your favorites!"}),a.jsx(Q,{variant:"brutal",size:"lg",onClick:()=>window.location.href="/discover",children:t==="pl"?"Odkrywaj Media":"Discover Media"})]})]})})]}),a.jsx(mt,{open:d,onOpenChange:h,children:a.jsxs(st,{className:"border-2 border-border",children:[a.jsx(it,{children:a.jsx(ot,{className:"text-2xl font-heading font-bold",children:t==="pl"?"Edytuj Profil":"Edit Profile"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"username",children:t==="pl"?"Nazwa uytkownika":"Username"}),a.jsx(Ot,{id:"username",placeholder:t==="pl"?"Twoja nazwa":"Your name",value:p,onChange:T=>f(T.target.value),className:"border-2 border-border"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t==="pl"?"Zostaw puste aby uywa nazwy z Google":"Leave empty to use your Google name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"bio",children:t==="pl"?"O mnie":"Bio"}),a.jsx(Nu,{id:"bio",placeholder:t==="pl"?"Opowiedz co o sobie...":"Tell us about yourself...",value:b,onChange:T=>g(T.target.value),className:"border-2 border-border resize-none",rows:4,maxLength:500}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.length,"/500 ",t==="pl"?"znakw":"characters"]})]})]}),a.jsxs(Zo,{children:[a.jsx(Q,{variant:"outline",onClick:()=>h(!1),children:t==="pl"?"Anuluj":"Cancel"}),a.jsx(Q,{variant:"brutal",onClick:F,disabled:u.isPending,children:u.isPending?t==="pl"?"Zapisywanie...":"Saving...":t==="pl"?"Zapisz":"Save"})]})]})}),a.jsx(I_,{open:y,onOpenChange:w,review:m,type:_})]})},bI=()=>{var g;const{userId:e}=TT(),{language:t}=wt(),[r,n]=v.useState(null),[s,i]=v.useState(!1),[o,l]=v.useState("movie"),{data:c,isLoading:u}=fe({queryKey:["friendProfile",e],queryFn:async()=>{if(!e)return null;const{data:m,error:x}=await se.from("profiles").select("*").eq("id",e).single();if(x)throw x;return m},enabled:!!e}),{data:d}=fe({queryKey:["friendStats",e],queryFn:async()=>{if(!e)return null;const[m,x,y,w]=await Promise.all([se.from("movie_reviews").select("review_text").eq("user_id",e),se.from("series_reviews").select("review_text").eq("user_id",e),se.from("game_reviews").select("review_text").eq("user_id",e),se.from("watchlist").select("*",{count:"exact",head:!0}).eq("user_id",e)]),_=[...m.data||[],...x.data||[],...y.data||[]],j=_.length,N=_.filter(E=>E.review_text&&E.review_text.trim()).length;return{total_items:j,watchlist_count:w.count||0,total_ratings:j,total_text_reviews:N}},enabled:!!e}),{data:h}=fe({queryKey:["friendFavoriteMovies",e],queryFn:async()=>{if(!e)return[];const{data:m,error:x}=await se.from("movie_reviews").select("*").eq("user_id",e).order("rating",{ascending:!1}).limit(6);return x?(console.error("Error fetching friend movies:",x),[]):m||[]},enabled:!!e}),{data:p}=fe({queryKey:["friendFavoriteGames",e],queryFn:async()=>{if(!e)return[];const{data:m,error:x}=await se.from("game_reviews").select("*").eq("user_id",e).order("rating",{ascending:!1}).limit(4);return x?(console.error("Error fetching friend games:",x),[]):m||[]},enabled:!!e});if(u)return a.jsx(sr,{children:a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"h-24 w-24 bg-muted animate-pulse rounded-full mx-auto"}),a.jsx("div",{className:"h-8 w-48 bg-muted animate-pulse rounded mx-auto"})]})})});if(!c)return a.jsx(sr,{children:a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:"text-3xl font-heading font-bold",children:t==="pl"?"Profil nie znaleziony":"Profile not found"}),a.jsx("p",{className:"text-muted-foreground",children:t==="pl"?"Ten uytkownik nie istnieje":"This user does not exist"})]})})});const f=(m,x)=>{n(m),l(x),i(!0)},b=[{label:t==="pl"?"Filmy/Seriale/Gry":"Movies/Series/Games",value:(d==null?void 0:d.total_items)||0,icon:au,color:"text-primary"},{label:t==="pl"?"Oceny":"Ratings",value:(d==null?void 0:d.total_ratings)||0,icon:Ve,color:"text-yellow-500"},{label:t==="pl"?"Recenzje":"Reviews",value:(d==null?void 0:d.total_text_reviews)||0,icon:Gx,color:"text-secondary"},{label:t==="pl"?"Lista":"Watchlist",value:(d==null?void 0:d.watchlist_count)||0,icon:Ba,color:"text-accent"}];return a.jsxs(sr,{children:[a.jsxs("div",{className:"min-h-screen",children:[a.jsx("section",{className:"relative bg-gradient-to-br from-primary/10 via-secondary/10 to-background p-4 sm:p-6 lg:p-8 border-b-4 border-primary",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[a.jsxs(es,{className:"h-16 w-16 sm:h-20 sm:w-20 lg:h-24 lg:w-24 border-4 border-border brutal-shadow flex-shrink-0",children:[a.jsx(ts,{src:c.avatar_url||void 0}),a.jsx(rs,{className:"bg-primary text-primary-foreground text-2xl sm:text-3xl font-bold",children:(g=c.username)==null?void 0:g.charAt(0).toUpperCase()})]}),a.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-heading font-bold truncate",children:c.username}),c.bio&&a.jsx("p",{className:"text-xs sm:text-sm text-foreground line-clamp-2",children:c.bio}),a.jsxs("p",{className:"text-xs text-muted-foreground mono",children:[t==="pl"?"Czonek od":"Member since"," ",new Date(c.created_at).toLocaleDateString(t==="pl"?"pl-PL":"en-US",{month:"long",year:"numeric"})]})]})]})})}),a.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 lg:space-y-8",children:[a.jsxs("section",{children:[a.jsxs("h2",{className:"text-xl sm:text-2xl font-heading font-bold mb-3 lg:mb-4 flex items-center gap-2 lg:gap-3",children:[a.jsx(Yx,{className:"text-primary flex-shrink-0",size:24}),t==="pl"?"Statystyki":"Stats"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:b.map(m=>a.jsxs("div",{className:"p-3 sm:p-4 border-2 border-border rounded-sm brutal-shadow bg-card",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(m.icon,{className:`${m.color} flex-shrink-0`,size:18}),a.jsx("div",{className:"text-xl sm:text-2xl font-heading font-bold text-primary",children:m.value})]}),a.jsx("div",{className:"text-xs font-semibold text-muted-foreground",children:m.label})]},m.label))})]}),h&&h.length>0&&a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-heading font-bold mb-3 lg:mb-4",children:t==="pl"?"Ulubione Filmy":"Favorite Movies"}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:h.map(m=>a.jsxs("div",{className:"group relative aspect-[2/3] rounded-sm border-2 border-border overflow-hidden brutal-shadow-hover bg-card cursor-pointer",onClick:()=>f(m,"movie"),children:[a.jsx("img",{src:At(m.movie_poster||"","w500"),alt:m.movie_title,className:"w-full h-full object-cover"}),a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity p-3 flex flex-col justify-end",children:[a.jsx("h3",{className:"text-white font-bold text-sm line-clamp-2 mb-1",children:m.movie_title}),a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx("span",{className:"text-yellow-400 text-lg",children:""}),a.jsxs("span",{className:"text-white font-bold text-sm",children:[m.rating,"/10"]})]}),m.review_text&&a.jsx("p",{className:"text-white/80 text-xs line-clamp-2",children:m.review_text}),a.jsx("p",{className:"text-white/60 text-xs mt-1",children:t==="pl"?"Kliknij aby zobaczy pen recenzj":"Click to view full review"})]}),a.jsx("div",{className:"absolute top-2 right-2 bg-black/80 px-2 py-1 rounded-sm",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-400 text-sm",children:""}),a.jsx("span",{className:"text-white font-bold text-xs",children:m.rating})]})})]},m.id))})]}),p&&p.length>0&&a.jsxs("section",{className:"pb-8",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4",children:t==="pl"?"Ulubione Gry":"Favorite Games"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:p.map(m=>a.jsxs("div",{className:"group relative aspect-[16/9] rounded-sm border-2 border-border overflow-hidden brutal-shadow-hover bg-card cursor-pointer",onClick:()=>f(m,"game"),children:[a.jsx("img",{src:m.game_cover||"https://via.placeholder.com/500x281",alt:m.game_title,className:"w-full h-full object-cover"}),a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity p-3 flex flex-col justify-end",children:[a.jsx("h3",{className:"text-white font-bold text-sm line-clamp-2 mb-1",children:m.game_title}),a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-400 text-lg",children:""}),a.jsxs("span",{className:"text-white font-bold text-sm",children:[m.rating,"/10"]})]}),m.hours_played&&a.jsxs("span",{className:"text-white/70 text-xs",children:[m.hours_played,"h"]})]}),m.review_text&&a.jsx("p",{className:"text-white/80 text-xs line-clamp-2",children:m.review_text}),a.jsx("p",{className:"text-white/60 text-xs mt-1",children:t==="pl"?"Kliknij aby zobaczy pen recenzj":"Click to view full review"})]}),a.jsx("div",{className:"absolute top-2 right-2 bg-black/80 px-2 py-1 rounded-sm",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-yellow-400 text-sm",children:""}),a.jsx("span",{className:"text-white font-bold text-xs",children:m.rating})]})})]},m.id))})]}),(!h||h.length===0)&&(!p||p.length===0)&&a.jsx("section",{className:"text-center py-12",children:a.jsx("p",{className:"text-xl text-muted-foreground",children:t==="pl"?"Ten uytkownik nie ma jeszcze adnych recenzji":"This user has no reviews yet"})})]})})]}),a.jsx(I_,{open:s,onOpenChange:i,review:r,type:o})]})},_I=()=>{var w,_,j,N,E;const{user:e,signOut:t}=we(),{language:r,setLanguage:n}=wt(),{theme:s,setTheme:i}=p1(),{toast:o}=qr(),[l,c]=v.useState(""),[u,d]=v.useState(!1),[h,p]=v.useState(!1);v.useEffect(()=>{(async()=>{if(!(e!=null&&e.id))return;const{data:R,error:C}=await se.from("profiles").select("username").eq("id",e.id).single();!C&&R&&R.username&&c(R.username)})()},[e==null?void 0:e.id]);const f=l||((w=e==null?void 0:e.user_metadata)==null?void 0:w.full_name)||((_=e==null?void 0:e.user_metadata)==null?void 0:_.name)||((j=e==null?void 0:e.email)==null?void 0:j.split("@")[0])||"User",b=((N=e==null?void 0:e.user_metadata)==null?void 0:N.avatar_url)||((E=e==null?void 0:e.user_metadata)==null?void 0:E.picture),g=(e==null?void 0:e.email)||"",m=async()=>{if(!(!(e!=null&&e.id)||!l.trim())){p(!0);try{const k={id:e.id,username:l.trim(),updated_at:new Date().toISOString()},{error:R}=await se.from("profiles").upsert(k,{onConflict:"id"});if(R)throw R;o({title:r==="pl"?"Zapisano":"Saved",description:r==="pl"?"Nazwa uytkownika zostaa zaktualizowana":"Username has been updated"}),d(!1)}catch{o({title:r==="pl"?"Bd":"Error",description:r==="pl"?"Nie udao si zapisa nazwy uytkownika":"Failed to save username",variant:"destructive"})}finally{p(!1)}}},x=k=>{n(k),o({title:k==="pl"?"Jzyk zmieniony":"Language changed",description:k==="pl"?"Jzyk zosta zmieniony na Polski":"Language changed to English"})},y=k=>{i(k),o({title:r==="pl"?"Motyw zmieniony":"Theme changed",description:k==="light"?r==="pl"?"Motyw jasny":"Light theme":k==="dark"?r==="pl"?"Motyw ciemny":"Dark theme":r==="pl"?"Motyw systemowy":"System theme"})};return a.jsx(sr,{children:a.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 lg:space-y-8",children:[a.jsx("div",{className:"space-y-3 lg:space-y-4 pb-4 lg:pb-6 border-b-4 border-primary",children:a.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[a.jsx("div",{className:"p-2 lg:p-3 bg-primary/10 border-2 border-primary rounded-sm flex-shrink-0",children:a.jsx(Sp,{size:28,className:"text-primary sm:w-10 sm:h-10"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-heading font-bold truncate",children:r==="pl"?"Ustawienia":"Settings"}),a.jsx("p",{className:"text-sm sm:text-base lg:text-xl text-muted-foreground",children:r==="pl"?"Zarzdzaj swoim kontem i preferencjami":"Manage your account and preferences"})]})]})}),a.jsxs("section",{className:"p-4 sm:p-6 border-2 border-border rounded-sm brutal-shadow bg-card space-y-4 lg:space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 pb-3 lg:pb-4 border-b-2 border-border",children:[a.jsx(Jx,{className:"text-primary flex-shrink-0",size:20}),a.jsx("h2",{className:"text-xl sm:text-2xl font-heading font-bold",children:r==="pl"?"Konto":"Account"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4 lg:gap-6",children:[a.jsxs(es,{className:"h-20 w-20 sm:h-24 sm:w-24 border-4 border-border flex-shrink-0",children:[a.jsx(ts,{src:b,alt:f}),a.jsx(rs,{className:"bg-primary text-primary-foreground text-2xl sm:text-3xl font-bold",children:f.charAt(0).toUpperCase()})]}),a.jsxs("div",{className:"flex-1 space-y-3 lg:space-y-4 w-full min-w-0",children:[a.jsxs("div",{children:[a.jsx(at,{className:"text-xs sm:text-sm font-semibold text-muted-foreground",children:r==="pl"?"Nazwa uytkownika":"Username"}),u?a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-2",children:[a.jsx(Ot,{value:l,onChange:k=>c(k.target.value),placeholder:r==="pl"?"Wpisz nazw uytkownika":"Enter username",className:"flex-1"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Q,{onClick:m,disabled:h,size:"sm",className:"flex-1 sm:flex-initial",children:[a.jsx(v2,{size:14,className:"mr-1"}),r==="pl"?"Zapisz":"Save"]}),a.jsx(Q,{onClick:()=>d(!1),variant:"outline",size:"sm",className:"flex-1 sm:flex-initial",children:r==="pl"?"Anuluj":"Cancel"})]})]}):a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold truncate",children:f}),a.jsx(Q,{onClick:()=>d(!0),variant:"ghost",size:"sm",className:"flex-shrink-0",children:a.jsx(Qx,{size:14})})]})]}),a.jsxs("div",{children:[a.jsx(at,{className:"text-xs sm:text-sm font-semibold text-muted-foreground",children:"Email"}),a.jsx("p",{className:"text-base sm:text-lg mt-1 truncate",children:g})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[r==="pl"?"Zalogowano przez":"Signed in with"," Google"]})]})]})]}),a.jsxs("section",{className:"p-6 border-2 border-border rounded-sm brutal-shadow bg-card space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b-2 border-border",children:[a.jsx(d2,{className:"text-primary",size:24}),a.jsx("h2",{className:"text-2xl font-heading font-bold",children:r==="pl"?"Jzyk":"Language"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(at,{className:"text-base font-semibold",children:r==="pl"?"Wybierz jzyk aplikacji":"Choose app language"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r==="pl"?"Twj wybr zostanie zapisany i zastosowany przy nastpnym logowaniu.":"Your choice will be saved and applied on next login."}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("button",{onClick:()=>x("pl"),className:`p-4 border-2 rounded-sm font-semibold transition-all ${r==="pl"?"border-primary bg-primary text-primary-foreground brutal-shadow":"border-border hover:border-primary hover:bg-accent"}`,children:" Polski"}),a.jsx("button",{onClick:()=>x("en"),className:`p-4 border-2 rounded-sm font-semibold transition-all ${r==="en"?"border-primary bg-primary text-primary-foreground brutal-shadow":"border-border hover:border-primary hover:bg-accent"}`,children:" English"})]})]})]}),a.jsxs("section",{className:"p-6 border-2 border-border rounded-sm brutal-shadow bg-card space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b-2 border-border",children:[a.jsx(m2,{className:"text-primary",size:24}),a.jsx("h2",{className:"text-2xl font-heading font-bold",children:r==="pl"?"Motyw":"Theme"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(at,{className:"text-base font-semibold",children:r==="pl"?"Wybierz motyw aplikacji":"Choose app theme"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("button",{onClick:()=>y("light"),className:`p-4 border-2 rounded-sm font-semibold transition-all ${s==="light"?"border-primary bg-primary text-primary-foreground brutal-shadow":"border-border hover:border-primary hover:bg-accent"}`,children:r==="pl"?"Jasny":"Light"}),a.jsx("button",{onClick:()=>y("dark"),className:`p-4 border-2 rounded-sm font-semibold transition-all ${s==="dark"?"border-primary bg-primary text-primary-foreground brutal-shadow":"border-border hover:border-primary hover:bg-accent"}`,children:r==="pl"?"Ciemny":"Dark"}),a.jsx("button",{onClick:()=>y("system"),className:`p-4 border-2 rounded-sm font-semibold transition-all ${s==="system"?"border-primary bg-primary text-primary-foreground brutal-shadow":"border-border hover:border-primary hover:bg-accent"}`,children:"System"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r==="pl"?"Motyw systemowy dostosowuje si do ustawie Twojego urzdzenia. Twoje preferencje s zapisywane automatycznie.":"System theme adapts to your device settings. Your preferences are saved automatically."})]})]}),a.jsxs("section",{className:"p-6 border-2 border-destructive rounded-sm bg-destructive/5 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b-2 border-destructive",children:[a.jsx(Ph,{className:"text-destructive",size:24}),a.jsx("h2",{className:"text-2xl font-heading font-bold text-destructive",children:r==="pl"?"Strefa Niebezpieczna":"Danger Zone"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-muted-foreground",children:r==="pl"?"Wylogowanie spowoduje zakoczenie sesji. Bdziesz musia zalogowa si ponownie.":"Signing out will end your session. You will need to sign in again."}),a.jsxs(Q,{variant:"destructive",size:"lg",onClick:t,className:"w-full",children:[a.jsx(Ph,{size:20,className:"mr-2"}),r==="pl"?"Wyloguj si":"Sign Out"]})]})]})]})})})},qv="demo@popstack.app",jI="demo123456",SI=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(""),[s,i]=v.useState(""),[o,l]=v.useState(!1),{signIn:c,signUp:u,signInWithGoogle:d}=we(),{t:h,language:p}=wt(),f=yo(),b=async x=>{x.preventDefault(),l(!0);const{error:y}=e?await u(r,s):await c(r,s);l(!1),!y&&!e&&f("/")},g=async()=>{l(!0),await d(),l(!1)},m=()=>{n(qv),i(jI)};return a.jsxs("div",{className:"min-h-screen flex",children:[a.jsx("div",{className:"flex-1 flex items-center justify-center p-12",children:a.jsxs("div",{className:"w-full max-w-md space-y-8",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("h1",{className:"text-6xl logo-text-large text-primary",children:h.appName}),a.jsx("h2",{className:"text-3xl font-heading font-bold",children:e?h.createAccount:h.welcomeBackLogin}),a.jsx("p",{className:"text-muted-foreground",children:e?h.joinUs:h.signInSubtitle}),a.jsx("div",{className:"p-4 bg-yellow-500/10 border-2 border-yellow-500 rounded-sm",children:a.jsxs("p",{className:"text-sm font-semibold text-yellow-700 dark:text-yellow-400 text-center",children:[" ",p==="pl"?"Tryb Demo - Uyj przykadowych danych poniej":"Demo Mode - Use sample credentials below"]})})]}),a.jsxs("form",{className:"space-y-6",onSubmit:b,children:[!e&&a.jsxs(Q,{type:"button",variant:"outline",size:"lg",className:"w-full border-2 border-primary/50 hover:bg-primary/10",onClick:m,children:[a.jsx(g2,{size:18,className:"mr-2"}),p==="pl"?" Wyprbuj Demo (demo@popstack.app)":" Try Demo (demo@popstack.app)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(at,{htmlFor:"email",className:"text-sm font-semibold",children:h.email}),a.jsx(Ot,{id:"email",type:"email",placeholder:qv,className:"h-12 border-2 border-border",value:r,onChange:x=>n(x.target.value),required:!0,disabled:o})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(at,{htmlFor:"password",className:"text-sm font-semibold",children:[h.password,!e&&a.jsxs("span",{className:"ml-2 text-xs text-muted-foreground font-normal",children:["(","demo: demo123456",")"]})]}),a.jsx(Ot,{id:"password",type:"password",placeholder:"demo123456",className:"h-12 border-2 border-border",value:s,onChange:x=>i(x.target.value),required:!0,minLength:6,disabled:o})]}),a.jsx(Q,{variant:"brutal",size:"xl",className:"w-full",type:"submit",disabled:o,children:o?h.loading:e?h.signUp:h.signIn}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t-2 border-border"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-4 bg-background text-muted-foreground mono",children:h.orContinueWith})})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsxs("button",{type:"button",onClick:g,disabled:o,className:"w-full h-12 px-6 flex items-center justify-center gap-3 bg-white hover:bg-gray-50 text-gray-700 font-medium rounded-lg border-2 border-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:[a.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),a.jsx("span",{children:h.continueWithGoogle})]})})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[e?h.alreadyHaveAccount:h.dontHaveAccount," ",a.jsx("button",{type:"button",onClick:()=>t(!e),className:"text-primary font-semibold hover:underline",children:e?h.signIn:h.signUp})]})]})}),a.jsxs("div",{className:"hidden lg:flex flex-1 relative overflow-hidden border-l-2 border-border",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary via-secondary to-background opacity-90"}),a.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1485846234645-a62644f84728?w=1920&h=1080&fit=crop')] bg-cover bg-center opacity-20 mix-blend-overlay"}),a.jsx("div",{className:"relative flex items-center justify-center w-full p-12",children:a.jsxs("div",{className:"text-center space-y-6 text-white",children:[a.jsxs("h2",{className:"text-5xl font-heading font-bold leading-tight",children:[h.trackEverything,a.jsx("br",{}),h.youLove]}),a.jsx("p",{className:"text-xl opacity-90 max-w-md mx-auto",children:h.loginHeroText})]})})]})]})},kI=()=>{const{language:e}=wt();return a.jsx(sr,{showFriendsSidebar:!1,children:a.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[a.jsx("div",{className:"space-y-4 pb-6 border-b-4 border-primary",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-primary/10 border-2 border-primary rounded-sm",children:a.jsx(Kx,{size:32,className:"text-primary"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-heading font-bold",children:e==="pl"?"O PopStack":"About PopStack"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e==="pl"?"Twoja spoeczno filmw, seriali i gier":"Your movies, TV shows, and games community"})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"p-6 border-2 border-border rounded-sm brutal-shadow bg-card",children:[a.jsxs("h2",{className:"text-2xl font-heading font-bold mb-4 flex items-center gap-2",children:[a.jsx(h2,{className:"text-primary",size:24}),e==="pl"?"Czym jest PopStack?":"What is PopStack?"]}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e==="pl"?"PopStack to nowoczesna platforma spoecznociowa stworzona dla pasjonatw filmw, seriali i gier wideo. Nasza misja to umoliwienie uytkownikom atwego ledzenia, oceniania i dzielenia si swoimi ulubionymi tytuami ze znajomymi.":"PopStack is a modern social platform created for movie, TV show, and video game enthusiasts. Our mission is to enable users to easily track, rate, and share their favorite titles with friends."})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-6 border-2 border-border rounded-sm brutal-shadow bg-card",children:[a.jsx("h3",{className:"text-xl font-heading font-bold mb-2",children:e==="pl"?"Szybkie i Intuicyjne":"Fast & Intuitive"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e==="pl"?"Przegldaj tysice tytuw, oceniaj je w sekund i twrz wasne kolekcje bez wysiku.":"Browse thousands of titles, rate them in seconds, and create your own collections effortlessly."})]}),a.jsxs("div",{className:"p-6 border-2 border-border rounded-sm brutal-shadow bg-card",children:[a.jsx("h3",{className:"text-xl font-heading font-bold mb-2",children:e==="pl"?"Spoeczno":"Community"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e==="pl"?"cz si ze znajomymi, dziel si opiniami i odkrywaj nowe tytuy dziki rekomendacjom.":"Connect with friends, share opinions, and discover new titles through recommendations."})]}),a.jsxs("div",{className:"p-6 border-2 border-border rounded-sm brutal-shadow bg-card",children:[a.jsx("h3",{className:"text-xl font-heading font-bold mb-2",children:e==="pl"?"Bezpieczestwo":"Security"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e==="pl"?"Twoje dane s chronione dziki nowoczesnym technologiom szyfrowania i bezpiecznej autentykacji.":"Your data is protected with modern encryption technologies and secure authentication."})]}),a.jsxs("div",{className:"p-6 border-2 border-border rounded-sm brutal-shadow bg-card",children:[a.jsx("h3",{className:"text-xl font-heading font-bold mb-2",children:e==="pl"?"Nowoczesne Tech":"Modern Tech"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e==="pl"?"Zbudowane z React, TypeScript i Supabase dla najlepszej wydajnoci i niezawodnoci.":"Built with React, TypeScript, and Supabase for best performance and reliability."})]})]}),a.jsxs("section",{className:"p-6 border-2 border-border rounded-sm brutal-shadow bg-card",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4",children:e==="pl"?"Gwne Funkcje":"Key Features"}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-primary font-bold",children:""}),a.jsx("span",{children:e==="pl"?"Odkrywanie tysicy filmw, seriali i gier":"Discover thousands of movies, TV shows, and games"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-primary font-bold",children:""}),a.jsx("span",{children:e==="pl"?"System ocen 1-10 gwiazdek z recenzjami":"1-10 star rating system with reviews"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-primary font-bold",children:""}),a.jsx("span",{children:e==="pl"?"Watchlist - lista do obejrzenia/zagrania":"Watchlist - to watch/play list"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-primary font-bold",children:""}),a.jsx("span",{children:e==="pl"?"Wasne kolekcje tematyczne":"Custom thematic collections"})]})]}),a.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-primary font-bold",children:""}),a.jsx("span",{children:e==="pl"?"System znajomych":"Friends system"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-primary font-bold",children:""}),a.jsx("span",{children:e==="pl"?"Szczegowe statystyki aktywnoci":"Detailed activity statistics"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-primary font-bold",children:""}),a.jsx("span",{children:e==="pl"?"Tryb ciemny i jasny":"Dark and light mode"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-primary font-bold",children:""}),a.jsx("span",{children:e==="pl"?"Pena responsywno (mobile-first)":"Full responsiveness (mobile-first)"})]})]})]})]}),a.jsxs("section",{className:"p-6 border-2 border-border rounded-sm brutal-shadow bg-card",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-4",children:e==="pl"?"Technologie":"Technology Stack"}),a.jsxs("div",{className:"grid sm:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2 text-primary",children:"Frontend"}),a.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[a.jsx("li",{children:"React 18"}),a.jsx("li",{children:"TypeScript"}),a.jsx("li",{children:"TailwindCSS"}),a.jsx("li",{children:"React Query"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2 text-secondary",children:"Backend"}),a.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[a.jsx("li",{children:"Supabase"}),a.jsx("li",{children:"PostgreSQL"}),a.jsx("li",{children:"Row Level Security"}),a.jsx("li",{children:"Real-time Updates"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2 text-accent",children:"APIs"}),a.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[a.jsx("li",{children:"TMDB (Movies/TV)"}),a.jsx("li",{children:"RAWG (Games)"}),a.jsx("li",{children:"Google OAuth"})]})]})]})]}),a.jsxs("section",{className:"p-6 border-2 border-border rounded-sm brutal-shadow bg-gradient-to-br from-primary/10 to-secondary/10",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold mb-2",children:e==="pl"?"Kontakt":"Contact"}),a.jsx("p",{className:"text-muted-foreground",children:e==="pl"?"Masz pytania lub sugestie? Skontaktuj si z nami poprzez formularz w ustawieniach aplikacji.":"Have questions or suggestions? Contact us through the form in application settings."})]})]})]})})})},NI=()=>{const{language:e}=wt();return a.jsx(sr,{showFriendsSidebar:!1,children:a.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[a.jsx("div",{className:"space-y-4 pb-6 border-b-4 border-primary",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-primary/10 border-2 border-primary rounded-sm",children:a.jsx(u2,{size:32,className:"text-primary"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-heading font-bold",children:e==="pl"?"Regulamin":"Terms of Service"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e==="pl"?"Ostatnia aktualizacja: Stycze 2024":"Last updated: January 2024"})]})]})}),a.jsx("div",{className:"prose prose-sm sm:prose lg:prose-lg max-w-none space-y-6",children:e==="pl"?a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"1. Akceptacja Warunkw"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Korzystajc z PopStack, akceptujesz niniejszy regulamin. Jeli nie zgadzasz si z ktrymkolwiek z punktw, prosimy o zaprzestanie korzystania z aplikacji."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"2. Opis Usugi"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"PopStack to platforma spoecznociowa umoliwiajca uytkownikom:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground ml-4",children:[a.jsx("li",{children:"Odkrywanie i przegldanie filmw, seriali i gier"}),a.jsx("li",{children:"Ocenianie i recenzowanie treci"}),a.jsx("li",{children:"Tworzenie list i kolekcji"}),a.jsx("li",{children:"czenie si ze znajomymi i dzielenie si opiniami"}),a.jsx("li",{children:"ledzenie swojej aktywnoci i statystyk"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"3. Konto Uytkownika"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Aby korzysta z penej funkcjonalnoci PopStack, musisz utworzy konto. Jeste odpowiedzialny za:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground ml-4",children:[a.jsx("li",{children:"Zachowanie poufnoci hasa"}),a.jsx("li",{children:"Wszystkie dziaania wykonywane na Twoim koncie"}),a.jsx("li",{children:"Natychmiastowe powiadomienie nas o nieautoryzowanym dostpie"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"4. Treci Uytkownika"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Publikujc recenzje, komentarze lub inne treci, zgadzasz si, e:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground ml-4",children:[a.jsx("li",{children:"Posiadasz prawa do publikowanych treci"}),a.jsx("li",{children:"Treci nie naruszaj praw osb trzecich"}),a.jsx("li",{children:"Treci nie zawieraj materiaw nielegalnych lub obraliwych"}),a.jsx("li",{children:"Udzielasz nam licencji na wywietlanie i dystrybucj tych treci"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"5. Zabronione Dziaania"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Zabrania si:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground ml-4",children:[a.jsx("li",{children:"Publikowania treci obraliwych, dyskryminujcych lub nielegalnych"}),a.jsx("li",{children:"Podszywania si pod inne osoby"}),a.jsx("li",{children:"Spamowania lub naduywania systemu"}),a.jsx("li",{children:"Prby wamania lub naruszenia bezpieczestwa"}),a.jsx("li",{children:"Automatycznego zbierania danych (scraping)"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"6. Prywatno"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Twoje dane osobowe s przetwarzane zgodnie z nasz Polityk Prywatnoci. Uywamy Supabase do przechowywania danych, ktre s szyfrowane i chronione."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"7. Dane z API Zewntrznych"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"PopStack wykorzystuje dane z TMDB (The Movie Database) i RAWG dla informacji o filmach, serialach i grach. Te dane s wasnoci odpowiednich dostawcw."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"8. Ograniczenie Odpowiedzialnoci"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'PopStack jest dostarczany "tak jak jest". Nie gwarantujemy nieprzerwanego dziaania ani braku bdw. Nie ponosimy odpowiedzialnoci za:'}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground ml-4",children:[a.jsx("li",{children:"Utrat danych"}),a.jsx("li",{children:"Przerwy w dziaaniu serwisu"}),a.jsx("li",{children:"Treci publikowane przez uytkownikw"}),a.jsx("li",{children:"Szkody wynikajce z korzystania z serwisu"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"9. Zmiany w Regulaminie"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Zastrzegamy sobie prawo do modyfikacji niniejszego regulaminu. O istotnych zmianach poinformujemy uytkownikw z odpowiednim wyprzedzeniem."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"10. Kontakt"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"W przypadku pyta dotyczcych regulaminu, skontaktuj si z nami poprzez formularz kontaktowy w aplikacji."})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"1. Acceptance of Terms"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"By using PopStack, you accept these terms of service. If you do not agree with any part of these terms, please discontinue use of the application."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"2. Service Description"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"PopStack is a social platform that enables users to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground ml-4",children:[a.jsx("li",{children:"Discover and browse movies, TV shows, and games"}),a.jsx("li",{children:"Rate and review content"}),a.jsx("li",{children:"Create lists and collections"}),a.jsx("li",{children:"Connect with friends and share opinions"}),a.jsx("li",{children:"Track activity and statistics"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"3. User Account"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To use PopStack's full functionality, you must create an account. You are responsible for:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground ml-4",children:[a.jsx("li",{children:"Maintaining password confidentiality"}),a.jsx("li",{children:"All activities performed on your account"}),a.jsx("li",{children:"Immediately notifying us of unauthorized access"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"4. User Content"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"By publishing reviews, comments, or other content, you agree that:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground ml-4",children:[a.jsx("li",{children:"You own the rights to published content"}),a.jsx("li",{children:"Content does not violate third-party rights"}),a.jsx("li",{children:"Content does not contain illegal or offensive material"}),a.jsx("li",{children:"You grant us a license to display and distribute this content"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"5. Prohibited Activities"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"The following are prohibited:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground ml-4",children:[a.jsx("li",{children:"Publishing offensive, discriminatory, or illegal content"}),a.jsx("li",{children:"Impersonating others"}),a.jsx("li",{children:"Spamming or system abuse"}),a.jsx("li",{children:"Attempting to breach security"}),a.jsx("li",{children:"Automated data collection (scraping)"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"6. Privacy"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Your personal data is processed in accordance with our Privacy Policy. We use Supabase for data storage, which is encrypted and protected."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"7. External API Data"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"PopStack uses data from TMDB (The Movie Database) and RAWG for movie, TV show, and game information. This data is owned by respective providers."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"8. Limitation of Liability"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'PopStack is provided "as is". We do not guarantee uninterrupted operation or absence of errors. We are not liable for:'}),a.jsxs("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground ml-4",children:[a.jsx("li",{children:"Data loss"}),a.jsx("li",{children:"Service interruptions"}),a.jsx("li",{children:"User-published content"}),a.jsx("li",{children:"Damages resulting from service use"})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"9. Changes to Terms"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We reserve the right to modify these terms. Users will be notified of significant changes with adequate notice."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-heading font-bold",children:"10. Contact"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"For questions regarding these terms, contact us through the application's contact form."})]})]})})]})})})},EI=()=>{const e=yo(),t=ds();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname);const r=setTimeout(()=>{e("/",{replace:!0})},1e3);return()=>clearTimeout(r)},[t.pathname,e]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("h1",{className:"text-6xl font-heading font-bold text-primary",children:"404"}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Przekierowywanie na stron gwn..."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecting to home page..."})]})})},CI=new $C;function TI({children:e}){return p1(),a.jsx(a.Fragment,{children:e})}const PI=()=>a.jsx(qC,{client:CI,children:a.jsx(TI,{children:a.jsxs(ba,{children:[a.jsx(tN,{}),a.jsx(AN,{}),a.jsx(eP,{basename:"/pop-stack/",children:a.jsx(OO,{children:a.jsx(PO,{children:a.jsxs(VT,{children:[a.jsx(Qt,{path:"/login",element:a.jsx(SI,{})}),a.jsx(Qt,{path:"/",element:a.jsx(Gr,{children:a.jsx(dI,{})})}),a.jsx(Qt,{path:"/discover",element:a.jsx(Gr,{children:a.jsx(fI,{})})}),a.jsx(Qt,{path:"/watchlist",element:a.jsx(Gr,{children:a.jsx(pI,{})})}),a.jsx(Qt,{path:"/collection",element:a.jsx(Gr,{children:a.jsx(mI,{})})}),a.jsx(Qt,{path:"/profile",element:a.jsx(Gr,{children:a.jsx(wI,{})})}),a.jsx(Qt,{path:"/profile/:userId",element:a.jsx(Gr,{children:a.jsx(bI,{})})}),a.jsx(Qt,{path:"/settings",element:a.jsx(Gr,{children:a.jsx(_I,{})})}),a.jsx(Qt,{path:"/about",element:a.jsx(Gr,{children:a.jsx(kI,{})})}),a.jsx(Qt,{path:"/terms",element:a.jsx(Gr,{children:a.jsx(NI,{})})}),a.jsx(Qt,{path:"*",element:a.jsx(EI,{})})]})})})})]})})});gx(document.getElementById("root")).render(a.jsx(PI,{}));
